{"config":{"indexing":"full","jieba_dict":"dict.txt","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u7ad9\u70b9\u7b80\u8ff0(Introduction) \u76ee\u6807 \u5f53\u4f60\u60f3\u5b9e\u73b0\u67d0\u4e2a\u529f\u80fd\u65f6\uff0c\u5148\u5230\u767e\u95ee\u7f51\u7684\u4ee3\u7801\u4e2d\u5fc3\uff0c\u770b\u770b\u6709\u6ca1\u6709\u53c2\u8003\u7684\u4ee3\u7801\u3002\u767e\u95ee\u7f51\u4ee3\u7801\u4e2d\u5fc3\uff0c\u6c47\u96c6\u5404\u7c7b\u4ee3\u7801\uff0c\u52a0\u5feb\u5f00\u53d1\u901f\u5ea6: \u6d89\u53ca\u5355\u7247\u673a\u3001RTOS\u3001Linux \u56ca\u62ec\u4ece\u4e0a\u5230\u4e0b\u5168\u6808\u5f00\u53d1\uff1a\u5e94\u7528\u7ec4\u4ef6\u3001C\u7a0b\u5e8f\u3001\u9a71\u52a8\u7a0b\u5e8f\u3001\u7cfb\u7edf(bootloader\u548c\u5185\u6838\u7b49) \u63d0\u4f9b\u6559\u7a0b\u94fe\u63a5\uff1a\u5982\u679c\u6211\u4eec\u7f16\u5199\u4e86\u67d0\u4e2a\u6a21\u5757\u7684\u6559\u7a0b\uff0c\u4f1a\u63d0\u4f9b\u94fe\u63a5 \u6559\u7a0b\u9002\u7528\u4e8e\u53ea\u60f3\u5feb\u901f\u505a\u51fa\u6210\u679c\u7684\u540c\u5b66\uff0c\u66f4\u9002\u7528\u4e8e\u6bd5\u8bbe\uff0c\u6211\u4eec\u6b63\u5728\u4e0d\u65ad\u4e30\u5bcc\u5b8c\u5584\uff0c\u652f\u6301\u66f4\u591a\u786c\u4ef6\u82af\u7247\u53ca\u6a21\u5757\uff0c\u63d0\u4f9b\u66f4\u4e30\u5bcc\u7684demo. \u5982\u4f55\u9605\u8bfb\u6b64\u7ad9\uff1f \u5efa\u8bae\u4f7f\u7528PC\u7aef\u6d4f\u89c8\u5668\u8bbf\u95ee\uff0c\u5206\u8fa8\u73871080p\u4e3a\u6700\u4f73\u9605\u8bfb\u3002 \u5d4c\u5165\u5f0f\u5f00\u53d1\u6d41\u7a0b\u7b80\u8ff0 \u5728\u8fdb\u5165\u5d4c\u5165\u5f0fLinux\u5f00\u53d1\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u5148\u4e86\u89e3\u4e00\u4e0b\u5d4c\u5165\u5f0f\u7cfb\u7edf\u7684\u5f00\u53d1\u6846\u67b6\u4ee5\u53ca\u6d41\u7a0b\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5de6\u4fa7\u4e3a\u6211\u4eec\u5e38\u7528\u7684PC\u7535\u8111\u4e3b\u673a\uff0c\u53f3\u4fa7\u4e3a\u5d4c\u5165\u5f0f\u7cfb\u7edf\uff0c\u56e0\u4e3a\u5d4c\u5165\u5f0f\u82af\u7247\u7684\u6027\u80fd\u5185\u5b58\u5b58\u50a8\u6761\u4ef6\u7b49\u539f\u56e0 \u65e0\u6cd5\u76f4\u63a5\u5728\u5d4c\u5165\u5f0f\u82af\u7247\u4e0a\u8fdb\u884c\u7a0b\u5e8f\u5f00\u53d1\uff0c\u6b64\u65f6\u6211\u4eec\u5c31\u9700\u8981\u501f\u52a9\u6027\u80fd\u5f3a\u5927\u7684PC\u4e3b\u673a\uff0c\u4e00\u822c\u4e3aX86\u7535\u8111\uff0c\u901a\u8fc7\u4ea4\u53c9\u7f16\u8bd1\u7684\u65b9\u5f0f\u751f\u4ea7 \u5d4c\u5165\u5f0f\u82af\u7247\u53ef\u4ee5\u8fd0\u884c\u7684\u7a0b\u5e8f\uff0c\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u4e00\u822c\u53ebPC\u4e3b\u673a\u4e3aHost\u7aef\uff0c\u5bf9\u4e8e\u6211\u4eec\u7684\u5d4c\u5165\u5f0f\u5f00\u53d1\u677f\uff0c\u6211\u4eec\u4e00\u822c\u6210\u4e3aTarget\u7aef\u3002\u6211\u4eec\u9700\u8981\u5728Host\u7aef\u4f7f\u7528\u9488\u5bf9\u4e8eTarget\u7aef\u82af\u7247\u67b6\u6784\u751f\u6210\u7684\u5de5\u5177\u94fe\u8fdb\u884c\u4ea4\u53c9\u7f16\u8bd1\uff0c\u6700\u540e\u5c06\u8f93\u51fa\u7684\u53ef\u6267\u884c\u6587\u4ef6\u5b58\u653e\u81f3Target(\u76ee\u6807\u5f00\u53d1\u677f)\u5185\u8fd0\u884c\u3002 \u901a\u8fc7\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c\u5b9e\u9645\u7684\u5d4c\u5165\u5f0f\u5f00\u53d1\u662f\u901a\u8fc7\u4e24\u90e8\u5206\u7ec4\u6210\u7684\uff0c\u90a3\u4e48\u5bf9\u4e8e\u5d4c\u5165\u5f0fLinux\u8bbe\u5907\u5f00\u53d1\u4e5f\u662f\u5982\u6b64\u3002\u901a\u8fc7Host\u7aef\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u7f16\u8bd1 Target(\u76ee\u6807\u5f00\u53d1\u677f)\u7684\u7a0b\u5e8f\uff0c\u7136\u540e\u653e\u5728Target\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\u3002 \u65e2\u7136Target(\u76ee\u6807\u5f00\u53d1\u677f)\u4e0a\u8fd0\u884c\u7684\u7a0b\u5e8f\u662f\u901a\u8fc7Host(PC\u4e3b\u673a)\u7aef\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u751f\u6210\uff0c\u90a3\u4e48\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u53c8\u662f\u4ece\u54ea\u91cc\u800c\u6765\uff1f\u8fd9\u91cc\u5c31\u6d89\u53ca\u5230\u4e86\u4e00\u4e2aBuildSystem(\u6784\u5efa\u7cfb\u7edf)\u7684\u6982\u5ff5\uff0c\u6240\u6709\u7684\u7a0b\u5e8f\u90fd\u4e0d\u53ef\u80fd\u662f\u76f4\u63a5\u51ed\u7a7a\u51fa\u73b0\uff0c\u800c\u662f\u901a\u8fc7\u7f16\u7a0b\u5f00\u53d1\uff0c\u6700\u540e\u518d\u7f16\u8bd1\u5f97\u51fa\u3002\u4e0b\u9762\u8fd9\u5f20\u56fe\u6f14\u793a\u4e86\uff0c\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u7684\u751f\u6210\u4ee5\u53ca\u5982\u4f55\u4f7f\u7528\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u7f16\u8bd1\u751f\u6210\u4e00\u4e2a\u53ef\u4ee5\u5728Target(\u76ee\u6807\u5f00\u53d1\u677f)\u4e0a\u8fd0\u884c\u7684c++\u7a0b\u5e8f\u3002\u8fd9\u91cc\u4e3b\u8981\u544a\u8bc9\u5927\u5bb6\uff0c\u6240\u6709\u7684\u7a0b\u5e8f\u90fd\u662f\u4ece\u6e90\u7801\u7f16\u8bd1\u5f97\u51fa\uff0c\u4e0d\u7ba1\u662f\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u8fd8\u662f Target\u4e0a\u8fd0\u884c\u7684\u7a0b\u5e8f\u3002 \u5982\u679c\u770b\u4e86\u4e0a\u8ff0\u7684\u4ecb\u7ecd\u8fd8\u662f\u4e0d\u592a\u7406\u89e3 \u5d4c\u5165\u5f0f\u7684\u5f00\u53d1\u6d41\u7a0b\u6846\u67b6\u53ef\u4ee5\u770b\u6211\u4eec\u4e4b\u524d\u4e13\u95e8\u5f55\u5236\u7684\u4e00\u5957\u57fa\u4e8ebuildroot\u5f00\u53d1\u7684\u5d4c\u5165\u5f0f\u57fa\u7840\u77e5\u8bc6\u79d1\u666e\u7c7b\u89c6\u9891\u6559\u7a0b\u3002 \u4ee3\u7801\u5e93\u4f7f\u7528\u6b65\u9aa4 Note \u8be6\u7ec6\u7684\u5404\u4e2a\u90e8\u5206\u5f00\u53d1\u6b65\u9aa4\u8bf7\u67e5\u770b \u5de6\u4fa7\u5bfc\u822a LinuxC\u57fa\u7840 Linux\u7ec4\u4ef6\u5f00\u53d1 Linux\u8bbe\u5907\u9a71\u52a8\u5f00\u53d1 Linux\u7cfb\u7edf\u5f00\u53d1 \u9875\u9762\uff0c\u5728\u9875\u9762\u5185\u4f1a\u6709\u8be6\u7ec6\u7684\u5404\u90e8\u5206\u5f00\u53d1\u6d41\u7a0b\u4ecb\u7ecd\u3002 graph LR A[0.\u51c6\u5907\u786c\u4ef6]-->B[1.\u83b7\u53d6Ubuntu\u865a\u62df\u673a\u7cfb\u7edf]-->2.\u914d\u7f6eHost\u5f00\u53d1\u73af\u5883-->3.\u83b7\u53d6Target\u5de5\u7a0b\u793a\u4f8b-->4.Host\u7aef\u7f16\u8bd1\u5f00\u53d1-->5.\u4e0a\u4f20\u81f3Target\u5f00\u53d1\u677f\u8fd0\u884c \u7f51\u7ad9\u8d44\u6e90\u6c47\u603b \u6211\u4eec\u5c06\u672c\u7ad9\u6240\u6709\u7684\u8d44\u6e90\u901a\u8fc7\u601d\u7ef4\u5bfc\u56fe\u7684\u65b9\u5f0f\u7f57\u5217\u51fa\u6765\uff0c\u5927\u5bb6\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u76f4\u63a5\u70b9\u51fb\u6700\u53f3\u4fa7\u7684\u94fe\u63a5\uff0c\u5373\u53ef\u8df3\u8f6c\u5230\u4ee3\u7801\u5de5\u7a0b\u533a\u57df\u3002 \u5982\u4f55\u53c2\u4e0e\u7f16\u8f91\uff1f \u6211\u4eec\u6240\u6709\u7684\u6587\u6863\u4f7f\u7528makrdown\u8fdb\u884c\u7f16\u5199\uff0c\u5b58\u653e\u5728github\u4ed3\u5e93https://github.com/100askTeam/LinuxCodeLibrary \u5185\uff0c\u53ef\u4ee5\u76f4\u63a5\u70b9\u51fb\u6bcf\u4e2a\u9875\u9762\u53f3\u4e0a\u89d2\u7684 \ud83d\udd8a \u7bad\u5934\u76f4\u63a5\u7f16\u8f91\u4fee\u6539\u3002 \u5bf9\u4e8e\u4ee3\u7801\u793a\u4f8b\u7b49\u5de5\u7a0b\uff0c\u5168\u90e8\u90fd\u6839\u636e\u4e0d\u540c\u7684\u4f7f\u7528\u573a\u666f\u5b58\u653e\u5728\u4e0d\u540c\u7684git\u4ed3\u5e93\u5185\u3002 Linux\u57fa\u7840\uff1a https://github.com/100askTeam/Stage1-Applications \u7ec4\u4ef6\uff1a https://github.com/100askTeam/Stage2-Components \u9a71\u52a8\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u7cfb\u7edf\uff1a https://github.com/100askTeam/Stage4-System \u613f\u666f\uff1a\u6211\u4eec\u6b63\u5728\u4e0d\u65ad\u5730\u652f\u6301\u66f4\u591a\u7684\u786c\u4ef6\u6a21\u5757\uff0c\u4ee3\u7801\u793a\u4f8b\uff0c\u52a0\u5165\u5230\u8fd9\u4e2a\u7ad9\u70b9\u5185\uff0c\u5982\u679c\u60a8\u611f\u5174\u8da3\uff0c\u6b22\u8fce\u52a0\u5165\u3002 \u8ba8\u8bba\u4ea4\u6d41\uff1a https://forums.100ask.net/c/elinuxdev/23 \u60a8\u5c06\u83b7\u5f97\u4ec0\u4e48\uff1f \u5feb\u901f\u5b9e\u73b0\u60a8\u9700\u8981\u5b9e\u73b0\u7684\u529f\u80fd\uff0c\u6211\u4eec\u63d0\u4f9b\u4e13\u95e8\u7684\u5f00\u53d1\u677f\u786c\u4ef6\uff0c\u914d\u5957\u7684\u6a21\u5757\u786c\u4ef6\uff0c\u8bbe\u5907\u9a71\u52a8 \u7cfb\u7edf\u6e90\u7801SDK\u5de5\u7a0b\u6e90\u7801\uff0c\u5e38\u7528\u7ec4\u4ef6\u5f00\u53d1\u793a\u4f8b\uff0c\u4ee5\u53caLinuxC\u57fa\u7840\uff0c\u8ba9\u5927\u5bb6\u53ef\u4ee5\u5728\u6700\u77ed\u7684\u65f6\u95f4\u5185\u5b9e\u73b0\u81ea\u5df1\u9700\u8981\u7684\u529f\u80fd\u3002 \u5173\u4e8e\u5f00\u6e90\u534f\u8bae \u6b64\u9875\u9762\u4f7f\u7528\u4e86\u5f00\u6e90\u7684Mkdoc\u6587\u6863\u6846\u67b6\uff0c\u6587\u6863\u7ad9\u70b9\u6258\u7ba1\u5728GitHub\u4e0a\uff0c\u6bcf\u4e2a\u9875\u9762\u90fd\u4f1a\u6709\u7f16\u8f91\u6309\u94ae\uff0c\u5927\u5bb6\u53ef\u4ee5\u4e00\u8d77\u53c2\u4e0e\u7f16\u8f91\u6216\u8005\u63d0\u95ee\u6539\u8fdb\u6b64\u6587\u6863\u3002 * \u56fe\u7247\u5f15\u7528: https://preshing.com/20141119/how-to-build-a-gcc-cross-compiler/","title":"\u7b80\u8ff0"},{"location":"#introduction","text":"\u76ee\u6807 \u5f53\u4f60\u60f3\u5b9e\u73b0\u67d0\u4e2a\u529f\u80fd\u65f6\uff0c\u5148\u5230\u767e\u95ee\u7f51\u7684\u4ee3\u7801\u4e2d\u5fc3\uff0c\u770b\u770b\u6709\u6ca1\u6709\u53c2\u8003\u7684\u4ee3\u7801\u3002\u767e\u95ee\u7f51\u4ee3\u7801\u4e2d\u5fc3\uff0c\u6c47\u96c6\u5404\u7c7b\u4ee3\u7801\uff0c\u52a0\u5feb\u5f00\u53d1\u901f\u5ea6: \u6d89\u53ca\u5355\u7247\u673a\u3001RTOS\u3001Linux \u56ca\u62ec\u4ece\u4e0a\u5230\u4e0b\u5168\u6808\u5f00\u53d1\uff1a\u5e94\u7528\u7ec4\u4ef6\u3001C\u7a0b\u5e8f\u3001\u9a71\u52a8\u7a0b\u5e8f\u3001\u7cfb\u7edf(bootloader\u548c\u5185\u6838\u7b49) \u63d0\u4f9b\u6559\u7a0b\u94fe\u63a5\uff1a\u5982\u679c\u6211\u4eec\u7f16\u5199\u4e86\u67d0\u4e2a\u6a21\u5757\u7684\u6559\u7a0b\uff0c\u4f1a\u63d0\u4f9b\u94fe\u63a5 \u6559\u7a0b\u9002\u7528\u4e8e\u53ea\u60f3\u5feb\u901f\u505a\u51fa\u6210\u679c\u7684\u540c\u5b66\uff0c\u66f4\u9002\u7528\u4e8e\u6bd5\u8bbe\uff0c\u6211\u4eec\u6b63\u5728\u4e0d\u65ad\u4e30\u5bcc\u5b8c\u5584\uff0c\u652f\u6301\u66f4\u591a\u786c\u4ef6\u82af\u7247\u53ca\u6a21\u5757\uff0c\u63d0\u4f9b\u66f4\u4e30\u5bcc\u7684demo.","title":"\u7ad9\u70b9\u7b80\u8ff0(Introduction)"},{"location":"#_1","text":"\u5efa\u8bae\u4f7f\u7528PC\u7aef\u6d4f\u89c8\u5668\u8bbf\u95ee\uff0c\u5206\u8fa8\u73871080p\u4e3a\u6700\u4f73\u9605\u8bfb\u3002","title":"\u5982\u4f55\u9605\u8bfb\u6b64\u7ad9\uff1f"},{"location":"#_2","text":"\u5728\u8fdb\u5165\u5d4c\u5165\u5f0fLinux\u5f00\u53d1\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u5148\u4e86\u89e3\u4e00\u4e0b\u5d4c\u5165\u5f0f\u7cfb\u7edf\u7684\u5f00\u53d1\u6846\u67b6\u4ee5\u53ca\u6d41\u7a0b\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5de6\u4fa7\u4e3a\u6211\u4eec\u5e38\u7528\u7684PC\u7535\u8111\u4e3b\u673a\uff0c\u53f3\u4fa7\u4e3a\u5d4c\u5165\u5f0f\u7cfb\u7edf\uff0c\u56e0\u4e3a\u5d4c\u5165\u5f0f\u82af\u7247\u7684\u6027\u80fd\u5185\u5b58\u5b58\u50a8\u6761\u4ef6\u7b49\u539f\u56e0 \u65e0\u6cd5\u76f4\u63a5\u5728\u5d4c\u5165\u5f0f\u82af\u7247\u4e0a\u8fdb\u884c\u7a0b\u5e8f\u5f00\u53d1\uff0c\u6b64\u65f6\u6211\u4eec\u5c31\u9700\u8981\u501f\u52a9\u6027\u80fd\u5f3a\u5927\u7684PC\u4e3b\u673a\uff0c\u4e00\u822c\u4e3aX86\u7535\u8111\uff0c\u901a\u8fc7\u4ea4\u53c9\u7f16\u8bd1\u7684\u65b9\u5f0f\u751f\u4ea7 \u5d4c\u5165\u5f0f\u82af\u7247\u53ef\u4ee5\u8fd0\u884c\u7684\u7a0b\u5e8f\uff0c\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u4e00\u822c\u53ebPC\u4e3b\u673a\u4e3aHost\u7aef\uff0c\u5bf9\u4e8e\u6211\u4eec\u7684\u5d4c\u5165\u5f0f\u5f00\u53d1\u677f\uff0c\u6211\u4eec\u4e00\u822c\u6210\u4e3aTarget\u7aef\u3002\u6211\u4eec\u9700\u8981\u5728Host\u7aef\u4f7f\u7528\u9488\u5bf9\u4e8eTarget\u7aef\u82af\u7247\u67b6\u6784\u751f\u6210\u7684\u5de5\u5177\u94fe\u8fdb\u884c\u4ea4\u53c9\u7f16\u8bd1\uff0c\u6700\u540e\u5c06\u8f93\u51fa\u7684\u53ef\u6267\u884c\u6587\u4ef6\u5b58\u653e\u81f3Target(\u76ee\u6807\u5f00\u53d1\u677f)\u5185\u8fd0\u884c\u3002 \u901a\u8fc7\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c\u5b9e\u9645\u7684\u5d4c\u5165\u5f0f\u5f00\u53d1\u662f\u901a\u8fc7\u4e24\u90e8\u5206\u7ec4\u6210\u7684\uff0c\u90a3\u4e48\u5bf9\u4e8e\u5d4c\u5165\u5f0fLinux\u8bbe\u5907\u5f00\u53d1\u4e5f\u662f\u5982\u6b64\u3002\u901a\u8fc7Host\u7aef\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u7f16\u8bd1 Target(\u76ee\u6807\u5f00\u53d1\u677f)\u7684\u7a0b\u5e8f\uff0c\u7136\u540e\u653e\u5728Target\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\u3002 \u65e2\u7136Target(\u76ee\u6807\u5f00\u53d1\u677f)\u4e0a\u8fd0\u884c\u7684\u7a0b\u5e8f\u662f\u901a\u8fc7Host(PC\u4e3b\u673a)\u7aef\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u751f\u6210\uff0c\u90a3\u4e48\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u53c8\u662f\u4ece\u54ea\u91cc\u800c\u6765\uff1f\u8fd9\u91cc\u5c31\u6d89\u53ca\u5230\u4e86\u4e00\u4e2aBuildSystem(\u6784\u5efa\u7cfb\u7edf)\u7684\u6982\u5ff5\uff0c\u6240\u6709\u7684\u7a0b\u5e8f\u90fd\u4e0d\u53ef\u80fd\u662f\u76f4\u63a5\u51ed\u7a7a\u51fa\u73b0\uff0c\u800c\u662f\u901a\u8fc7\u7f16\u7a0b\u5f00\u53d1\uff0c\u6700\u540e\u518d\u7f16\u8bd1\u5f97\u51fa\u3002\u4e0b\u9762\u8fd9\u5f20\u56fe\u6f14\u793a\u4e86\uff0c\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u7684\u751f\u6210\u4ee5\u53ca\u5982\u4f55\u4f7f\u7528\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u7f16\u8bd1\u751f\u6210\u4e00\u4e2a\u53ef\u4ee5\u5728Target(\u76ee\u6807\u5f00\u53d1\u677f)\u4e0a\u8fd0\u884c\u7684c++\u7a0b\u5e8f\u3002\u8fd9\u91cc\u4e3b\u8981\u544a\u8bc9\u5927\u5bb6\uff0c\u6240\u6709\u7684\u7a0b\u5e8f\u90fd\u662f\u4ece\u6e90\u7801\u7f16\u8bd1\u5f97\u51fa\uff0c\u4e0d\u7ba1\u662f\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u8fd8\u662f Target\u4e0a\u8fd0\u884c\u7684\u7a0b\u5e8f\u3002 \u5982\u679c\u770b\u4e86\u4e0a\u8ff0\u7684\u4ecb\u7ecd\u8fd8\u662f\u4e0d\u592a\u7406\u89e3 \u5d4c\u5165\u5f0f\u7684\u5f00\u53d1\u6d41\u7a0b\u6846\u67b6\u53ef\u4ee5\u770b\u6211\u4eec\u4e4b\u524d\u4e13\u95e8\u5f55\u5236\u7684\u4e00\u5957\u57fa\u4e8ebuildroot\u5f00\u53d1\u7684\u5d4c\u5165\u5f0f\u57fa\u7840\u77e5\u8bc6\u79d1\u666e\u7c7b\u89c6\u9891\u6559\u7a0b\u3002","title":"\u5d4c\u5165\u5f0f\u5f00\u53d1\u6d41\u7a0b\u7b80\u8ff0"},{"location":"#_3","text":"Note \u8be6\u7ec6\u7684\u5404\u4e2a\u90e8\u5206\u5f00\u53d1\u6b65\u9aa4\u8bf7\u67e5\u770b \u5de6\u4fa7\u5bfc\u822a LinuxC\u57fa\u7840 Linux\u7ec4\u4ef6\u5f00\u53d1 Linux\u8bbe\u5907\u9a71\u52a8\u5f00\u53d1 Linux\u7cfb\u7edf\u5f00\u53d1 \u9875\u9762\uff0c\u5728\u9875\u9762\u5185\u4f1a\u6709\u8be6\u7ec6\u7684\u5404\u90e8\u5206\u5f00\u53d1\u6d41\u7a0b\u4ecb\u7ecd\u3002 graph LR A[0.\u51c6\u5907\u786c\u4ef6]-->B[1.\u83b7\u53d6Ubuntu\u865a\u62df\u673a\u7cfb\u7edf]-->2.\u914d\u7f6eHost\u5f00\u53d1\u73af\u5883-->3.\u83b7\u53d6Target\u5de5\u7a0b\u793a\u4f8b-->4.Host\u7aef\u7f16\u8bd1\u5f00\u53d1-->5.\u4e0a\u4f20\u81f3Target\u5f00\u53d1\u677f\u8fd0\u884c","title":"\u4ee3\u7801\u5e93\u4f7f\u7528\u6b65\u9aa4"},{"location":"#_4","text":"\u6211\u4eec\u5c06\u672c\u7ad9\u6240\u6709\u7684\u8d44\u6e90\u901a\u8fc7\u601d\u7ef4\u5bfc\u56fe\u7684\u65b9\u5f0f\u7f57\u5217\u51fa\u6765\uff0c\u5927\u5bb6\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u76f4\u63a5\u70b9\u51fb\u6700\u53f3\u4fa7\u7684\u94fe\u63a5\uff0c\u5373\u53ef\u8df3\u8f6c\u5230\u4ee3\u7801\u5de5\u7a0b\u533a\u57df\u3002","title":"\u7f51\u7ad9\u8d44\u6e90\u6c47\u603b"},{"location":"#_5","text":"\u6211\u4eec\u6240\u6709\u7684\u6587\u6863\u4f7f\u7528makrdown\u8fdb\u884c\u7f16\u5199\uff0c\u5b58\u653e\u5728github\u4ed3\u5e93https://github.com/100askTeam/LinuxCodeLibrary \u5185\uff0c\u53ef\u4ee5\u76f4\u63a5\u70b9\u51fb\u6bcf\u4e2a\u9875\u9762\u53f3\u4e0a\u89d2\u7684 \ud83d\udd8a \u7bad\u5934\u76f4\u63a5\u7f16\u8f91\u4fee\u6539\u3002 \u5bf9\u4e8e\u4ee3\u7801\u793a\u4f8b\u7b49\u5de5\u7a0b\uff0c\u5168\u90e8\u90fd\u6839\u636e\u4e0d\u540c\u7684\u4f7f\u7528\u573a\u666f\u5b58\u653e\u5728\u4e0d\u540c\u7684git\u4ed3\u5e93\u5185\u3002 Linux\u57fa\u7840\uff1a https://github.com/100askTeam/Stage1-Applications \u7ec4\u4ef6\uff1a https://github.com/100askTeam/Stage2-Components \u9a71\u52a8\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u7cfb\u7edf\uff1a https://github.com/100askTeam/Stage4-System \u613f\u666f\uff1a\u6211\u4eec\u6b63\u5728\u4e0d\u65ad\u5730\u652f\u6301\u66f4\u591a\u7684\u786c\u4ef6\u6a21\u5757\uff0c\u4ee3\u7801\u793a\u4f8b\uff0c\u52a0\u5165\u5230\u8fd9\u4e2a\u7ad9\u70b9\u5185\uff0c\u5982\u679c\u60a8\u611f\u5174\u8da3\uff0c\u6b22\u8fce\u52a0\u5165\u3002 \u8ba8\u8bba\u4ea4\u6d41\uff1a https://forums.100ask.net/c/elinuxdev/23","title":"\u5982\u4f55\u53c2\u4e0e\u7f16\u8f91\uff1f"},{"location":"#_6","text":"\u5feb\u901f\u5b9e\u73b0\u60a8\u9700\u8981\u5b9e\u73b0\u7684\u529f\u80fd\uff0c\u6211\u4eec\u63d0\u4f9b\u4e13\u95e8\u7684\u5f00\u53d1\u677f\u786c\u4ef6\uff0c\u914d\u5957\u7684\u6a21\u5757\u786c\u4ef6\uff0c\u8bbe\u5907\u9a71\u52a8 \u7cfb\u7edf\u6e90\u7801SDK\u5de5\u7a0b\u6e90\u7801\uff0c\u5e38\u7528\u7ec4\u4ef6\u5f00\u53d1\u793a\u4f8b\uff0c\u4ee5\u53caLinuxC\u57fa\u7840\uff0c\u8ba9\u5927\u5bb6\u53ef\u4ee5\u5728\u6700\u77ed\u7684\u65f6\u95f4\u5185\u5b9e\u73b0\u81ea\u5df1\u9700\u8981\u7684\u529f\u80fd\u3002","title":"\u60a8\u5c06\u83b7\u5f97\u4ec0\u4e48\uff1f"},{"location":"#_7","text":"\u6b64\u9875\u9762\u4f7f\u7528\u4e86\u5f00\u6e90\u7684Mkdoc\u6587\u6863\u6846\u67b6\uff0c\u6587\u6863\u7ad9\u70b9\u6258\u7ba1\u5728GitHub\u4e0a\uff0c\u6bcf\u4e2a\u9875\u9762\u90fd\u4f1a\u6709\u7f16\u8f91\u6309\u94ae\uff0c\u5927\u5bb6\u53ef\u4ee5\u4e00\u8d77\u53c2\u4e0e\u7f16\u8f91\u6216\u8005\u63d0\u95ee\u6539\u8fdb\u6b64\u6587\u6863\u3002 * \u56fe\u7247\u5f15\u7528: https://preshing.com/20141119/how-to-build-a-gcc-cross-compiler/","title":"\u5173\u4e8e\u5f00\u6e90\u534f\u8bae"},{"location":"01-LinuxCprogrammers/","text":"LinuxC\u7b80\u8ff0(Introduction) \u6587\u6863\u76ee\u5f55\u5b8c\u6210\u5ea6\u5217\u8868 \u7eff\u8272\u221a\u53f7\u8868\u793a\u5df2\u5b8c\u6210\uff0c\u7070\u8272 \u221a \u8868\u793a\u672a\u5b8c\u6210\u3002 Linux\u547d\u4ee4 \u6587\u4ef6\u7ba1\u7406\u7c7b\u547d\u4ee4 \u6587\u6863\u7f16\u8f91\u7c7b\u547d\u4ee4 \u7cfb\u7edf\u7ba1\u7406 \u78c1\u76d8\u64cd\u4f5c \u7f51\u7edc\u7ba1\u7406 C\u57fa\u7840\u77e5\u8bc6 C\u57fa\u7840 MakeFile GNU\u5de5\u5177 GCC G++ GDB OBJDUMP \u6587\u4ef6/IO \u8fdb\u7a0b\u7ebf\u7a0b \u8fdb\u7a0b\u901a\u4fe1 \u7f51\u7edc\u7f16\u7a0b \u6b63\u5219\u8868\u8fbe\u5f0f \u5982\u4f55\u53c2\u4e0e\u5171\u4eab\uff1f Linux\u57fa\u7840\uff1a https://github.com/100askTeam/Stage1-Applications \u4ea4\u6d41\u793e\u533a\uff1a https://forums.100ask.net/c/elinuxdev/23","title":"LinuxC\u57fa\u7840"},{"location":"01-LinuxCprogrammers/#linuxcintroduction","text":"","title":"LinuxC\u7b80\u8ff0(Introduction)"},{"location":"01-LinuxCprogrammers/#_1","text":"\u7eff\u8272\u221a\u53f7\u8868\u793a\u5df2\u5b8c\u6210\uff0c\u7070\u8272 \u221a \u8868\u793a\u672a\u5b8c\u6210\u3002 Linux\u547d\u4ee4 \u6587\u4ef6\u7ba1\u7406\u7c7b\u547d\u4ee4 \u6587\u6863\u7f16\u8f91\u7c7b\u547d\u4ee4 \u7cfb\u7edf\u7ba1\u7406 \u78c1\u76d8\u64cd\u4f5c \u7f51\u7edc\u7ba1\u7406 C\u57fa\u7840\u77e5\u8bc6 C\u57fa\u7840 MakeFile GNU\u5de5\u5177 GCC G++ GDB OBJDUMP \u6587\u4ef6/IO \u8fdb\u7a0b\u7ebf\u7a0b \u8fdb\u7a0b\u901a\u4fe1 \u7f51\u7edc\u7f16\u7a0b \u6b63\u5219\u8868\u8fbe\u5f0f","title":"\u6587\u6863\u76ee\u5f55\u5b8c\u6210\u5ea6\u5217\u8868"},{"location":"01-LinuxCprogrammers/#_2","text":"Linux\u57fa\u7840\uff1a https://github.com/100askTeam/Stage1-Applications \u4ea4\u6d41\u793e\u533a\uff1a https://forums.100ask.net/c/elinuxdev/23","title":"\u5982\u4f55\u53c2\u4e0e\u5171\u4eab\uff1f"},{"location":"02-Components/","text":"Linux\u7ec4\u4ef6\u7b80\u8ff0(Introduction) \u7ec4\u4ef6\u5f00\u53d1\u6d41\u7a0b\u4ecb\u7ecd Note \u5bf9\u4e8e\u5d4c\u5165\u5f0fLinux\u7ec4\u4ef6\u5f00\u53d1\uff0c\u4e3b\u8981\u5305\u542b \u793e\u533a\u7ec4\u4ef6 \u5e93 \u7b49\uff0c\u501f\u52a9\u5f3a\u5927\u7684\u793e\u533a\u529b\u91cf\uff0c\u53bb\u5b9e\u73b0\u81ea\u5df1\u7684\u9879\u76ee\uff0c\u56e0\u4e3a\u793e\u533a\u7ec4\u4ef6\u5e93\u7b49\u975e\u5e38\u591a\uff0c\u4e14\u6709\u4e13\u95e8\u7684\u4f7f\u7528\u8bf4\u660e\uff0c\u6240\u4ee5\u6211\u4eec\u4f1a\u627e\u51fa\u4e00\u4e9b\u5e38\u7528\u7684\u7ec4\u4ef6 \u5e93 \u7ed9\u5927\u5bb6\u63d0\u4f9b\u5f00\u53d1\u793a\u4f8b\u8bf4\u660e\u3002 \u6574\u4e2a\u5f00\u53d1\u6d41\u7a0b\u4e3b\u8981\u5206\u4e3a\u4e24\u90e8\u5206\uff0c\u6b65\u9aa41\u81f3\u6b65\u9aa43\uff0c\u4e3b\u8981\u914d\u7f6eHost\u7aef\u5f00\u53d1\u73af\u5883\uff0c\u6b65\u9aa44 5 \u4e3a\u5f00\u53d1Target\u5f00\u53d1\u677f\u7a0b\u5e8f\u5e76\u8fd0\u884c\u6d4b\u8bd5\u3002 \u6b65\u9aa4\u4e00 \u83b7\u53d6\u5f00\u53d1\u677f\u914d\u5957\u7684\u5b8c\u6574\u865a\u62df\u673a\uff0c\u6211\u4eec\u7684\u865a\u62df\u673a\u63d0\u524d\u5e2e\u5927\u5bb6\u914d\u7f6e\u597d\u4e86\u5404\u79cd\u73af\u5883 \u5305\u542bvscode \u793a\u4f8b\u5de5\u7a0b\u6e90\u7801 \u5404\u79cd\u4f9d\u8d56\u5de5\u5177\u5305 \u4e2d\u6587\u8f93\u5165\u6cd5\u7b49\uff0c\u5927\u5bb6\u53ef\u4ee5\u76f4\u63a5\u89e3\u538b\u8fd0\u884c\u5c31\u53ef\u4ee5\u5f00\u59cb\u7740\u624b\u5f00\u53d1\u3002 \u4e0d\u540c\u7684\u677f\u5b50\u56e0\u4e3a \u786c\u4ef6\u5dee\u5f02 \u5185\u6838\u7248\u672c\u5dee\u5f02 \u5de5\u5177\u94fe\u7248\u672c\u5dee\u5f02 \u5e93\u7684\u652f\u6301\u4e0d\u540c \u800c\u63d0\u4f9b\u4e13\u95e8\u7684\u865a\u62df\u673a\u7cfb\u7edf\u955c\u50cf\uff0c\u8bf7\u5927\u5bb6\u4e00\u5b9a\u8981\u6839\u636e\u81ea\u5df1\u7684\u677f\u5b50\u578b\u53f7\u53bb\u83b7\u53d6\u5bf9\u5e94\u7684\u865a\u62df\u673a\u3002 IMX6ULL-Pro\u5168\u529f\u80fd\u5f00\u53d1\u677f \u767e\u5ea6\u7f51\u76d8\u94fe\u63a5:\u94fe\u63a5\uff1a https://pan.baidu.com/s/1cXwhwPMAY1wZ_XGWMtg_vw?pwd=kjnh \u5976\u725b\u5feb\u4f20\u94fe\u63a5: STM32MP157-Pro \u767e\u5ea6\u7f51\u76d8\u94fe\u63a5\uff1a \u5976\u725b\u5feb\u4f20\u94fe\u63a5\uff1a \u6b65\u9aa4\u4e8c \u4f7f\u7528VMware\u8fd0\u884c \u6b65\u9aa4\u4e00\u83b7\u53d6\u5230\u7684\u5f00\u53d1\u677f\u914d\u5957\u865a\u62df\u673a\u955c\u50cf\u3002 1.\u9996\u5148\u4e0b\u8f7dvmware\u865a\u62df\u673a\u5de5\u5177 \u4f7f\u7528\u6d4f\u89c8\u5668\u6253\u5f00\u7f51\u5740 https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html \u53c2\u8003\u4e0b\u56fe\u7bad\u5934\u6240\u793a\uff0c\u70b9\u51fb\u4e0b\u8f7d\u5b89\u88c5 Windows\u7248\u672c\u7684VMware Workstation \uff0c\u70b9\u51fb DOWNLOAD NOW \u5373\u53ef\u5f00\u59cb\u4e0b\u8f7d\u3002 2.\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u53ea\u9700\u8981\u6839\u636e\u8f6f\u4ef6\u63d0\u793a \u4e00\u6b65\u6b65\u9ed8\u8ba4\u5b89\u88c5\u5c31\u53ef\u4ee5\uff0c\u7b49\u5f85\u5b8c\u6210\u3002 \u6ce8\u610f\uff1a\u6700\u540e\u53ef\u80fd\u4f1a\u63d0\u793a\u8f93\u5165\u5bc6\u94a5\uff0c\u81ea\u884c\u6839\u636e\u7248\u672c \u767e\u5ea6\u641c\u7d22\u5373\u53ef\u3002 \u6b65\u9aa4\u4e09 \u914d\u7f6e\u865a\u62df\u673a\u5f00\u53d1\u73af\u5883\uff0c\u548c\u5f00\u53d1\u677f\u4e92\u76f8\u901a\u4fe1\u3002 \u8fd9\u4e00\u6b65\u51b3\u5b9a\u4e86\u5f00\u53d1\u677f\u662f\u5426\u53ef\u4ee5\u548cubuntu\u901a\u4fe1,\u5c06\u4f60\u7684\u7a0b\u5e8f\u4e0a\u4f20\u81f3\u5f00\u53d1\u677f\u6267\u884c\u3002\u5bf9\u4e8eIMX6ULL\u5f00\u53d1\u677f STM32MP157\u5f00\u53d1\u677f \u76f4\u63a5\u901a\u8fc7USB\u8f6c\u7f51\u5361\u8bbe\u5907\uff0c\u6765\u5b9e\u73b0 ubuntu\u4e0e\u5f00\u53d1\u677f\u4e92\u76f8\u901a\u4fe1\uff0c\u5177\u4f53\u64cd\u4f5c\u6b65\u9aa4\u5982\u4e0b\uff0c\u6ce8\u610f\uff1aUSB\u7f51\u5361\u9700\u8981\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u4e13\u7528\u7f51\u5361\u624d\u53ef\u4ee5\uff0c\u5176\u5b83\u578b\u53f7\u4e0d\u4e00\u5b9a\u652f\u6301\u3002 1.ubuntu\u7cfb\u7edf\u542f\u52a8\uff0c\u5c06USB\u7f51\u5361\u8bbe\u5907\u901a\u8fc7Vmware\u6302\u8f7d\u81f3ubuntu\u7cfb\u7edf\u5185\u3002 2.ubuntu\u5185\u8bbe\u7f6eUSB\u7f51\u5361\u9759\u6001IP\u5730\u5740 3.\u5f00\u53d1\u677f\u5185\u8bbe\u7f6e\u7f51\u5361\u9759\u6001IP\u5730\u5740\u5e76\u4e92\u76f8\u901a\u4fe1\u9a8c\u8bc1 IMX6ULL-Pro\u5f00\u53d1\u677f \u5982\u679c\u4f60\u89c9\u5f97\u6bcf\u6b21\u542f\u52a8\u624b\u52a8\u8bbe\u7f6e\u9759\u6001IP\u5f88\u9ebb\u70e6 \u53ef\u4ee5\u624b\u52a8\u7f16\u8f91 /etc/network/interfaces \u6587\u4ef6\u589e\u52a0\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u5f00\u53d1\u677f\u6267\u884c\u5982\u4e0b\u547d\u4ee4 \u6765\u81ea\u52a8\u8bbe\u7f6e\u7f51\u5361\u4fe1\u606f\u3002 mv /etc/network/interfaces ~/ cat << EOF > /etc/network/interfaces auto lo iface lo inet loopback auto eth0 iface eth0 inet static address 192.168.5.9 netmask 255.255.255.0 gateway 192.168.5.1 EOF STM32MP157-Pro\u5f00\u53d1\u677f \u5f85\u8865\u5145 \u6b65\u9aa4\u56db \u4e0a\u4f20\u7a0b\u5e8f\u5230\u5f00\u53d1\u677f \u53c2\u8003\u6b65\u9aa4\u4e09\uff0c\u5df2\u7ecf\u53ef\u4ee5\u8ba9ubuntu\u548c\u5f00\u53d1\u677f\u4e92\u76f8\u901a\u4fe1\u4e86\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u53ef\u4ee5\u7528\u591a\u79cd\u65b9\u5f0f\u4f20\u8f93\u6587\u4ef6\u5230\u6211\u4eec\u7684\u5f00\u53d1\u677f\u5185\uff0c\u53ef\u4ee5\u662f \u5f00\u53d1\u677f\u6302\u8f7dubuntu nfs\u76ee\u5f55\uff0c\u4e5f\u53ef\u4ee5\u662fssh scp\u4f20\u8f93\u7b49\u7b49\u3002 \u4f7f\u7528scp\u65b9\u5f0f\u4f20\u8f93 Linux scp \u547d\u4ee4\u7528\u4e8e Linux \u4e4b\u95f4\u590d\u5236\u6587\u4ef6\u548c\u76ee\u5f55\u3002scp \u662f secure copy \u7684\u7f29\u5199, scp \u662f linux \u7cfb\u7edf\u4e0b\u57fa\u4e8e ssh \u767b\u9646\u8fdb\u884c\u5b89\u5168\u7684\u8fdc\u7a0b\u6587\u4ef6\u62f7\u8d1d\u547d\u4ee4\u3002 \u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u5f00\u53d1\u677f\u7684IP\u5730\u5740\u662f 192.168.5.9 \u63a5\u4e0b\u6765\u6211\u5728ubuntu\u4e0b\u521b\u5efa\u4e00\u4e2a 1.txt \u5e76\u901a\u8fc7 scp\u5728ubuntu\u4e0a \u4e0a\u4f20\u5230\u5f00\u53d1\u677f\u3002 \u5982\u4e0b\u793a\u4f8b\uff0c\u4f7f\u7528echo\u521b\u5efa\u4e00\u4e2a\u5185\u5bb9\u662f4\u4e2a\u6570\u5b571\u76841.txt\u6587\u4ef6\uff0c\u7136\u540e\u901a\u8fc7scp\u4e0a\u4f20\u5230\u5f00\u53d1\u677f\u7684/root\u76ee\u5f55\u4e0b\u3002 book@ubuntu1804:~$ echo 11111 > 1 .txt book@ubuntu1804:~$ scp 1 .txt root@192.168.5.9:/root 1 .txt 100 % 6 1 .4KB/s 00 :00 book@ubuntu1804:~$ \u5f00\u53d1\u677f\u5185\u67e5\u770b\u4e0a\u4f20\u5230/root\u76ee\u5f55\u4e0b\u76841.txt\u6587\u4ef6 [ root@100ask:~ ] # ls /root/1.txt /root/1.txt [ root@100ask:~ ] # cat /root/1.txt 11111 [ root@100ask:~ ] # \u66f4\u591a\u7528\u6cd5\u53ef\u53c2\u8003\uff1a https://www.runoob.com/linux/linux-comm-scp.html \u5f00\u53d1\u677f\u4f7f\u7528nfs\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u65b9\u5f0f NFS\u5373\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u5141\u8bb8\u5f00\u53d1\u677f\u76f4\u63a5\u901a\u8fc7\u7f51\u7edc\u6302\u8f7dPC\u673a\u4e2d\u7684\u6587\u4ef6\u5939\u3002\u4e0b\u9762\u4ecb\u7ecd\u5728ubuntu\u4e0a\u7684NFS\u670d\u52a1\u5b89\u88c5\u548c\u914d\u7f6e\u3002 \u9996\u5148\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5NFS\u670d\u52a1\uff1a book@100ask:~$ sudo apt-get install nfs-kernel-server \u7136\u540e\u7f16\u8f91/etc/exports\u6587\u4ef6\uff0c\u6dfb\u52a0NFS\u670d\u52a1\u5bfc\u51fa\u7684\u5de5\u4f5c\u76ee\u5f55\uff1a book@100ask:~$ sudo gedit /etc/exports \u6dfb\u52a0NFS\u76ee\u5f55\uff1a\u4e0b\u9762\u4ee5/home/book/rootfs\u4e3a\u4f8b\uff0c\u5c06\u5176\u6dfb\u52a0\u5230/etc/exports\u6587\u4ef6\u4e2d, \u5982\u4e0b\uff1a /home/book/nfs_rootfs * ( rw,nohide,insecure,no_subtree_check,async,no_root_squash ) \u6700\u540e\uff0c\u91cd\u542fNFS\u670d\u52a1: book@100ask:~$ sudo service nfs-kernel-server restart \u5982\u679c\u4e00\u5207\u6b63\u5e38\uff0c\u53ef\u4ee5\u5728ubuntu\u4e2d\u6d4b\u8bd5NFS\u670d\u52a1\uff1a book@100ask:~$ sudo mount -t nfs 127 .0.0.1:/home/book/nfs_rootfs /mnt \u5f00\u53d1\u677f\u7aef\u8fdb\u5165\u7cfb\u7edf\u540e\uff0c\u786e\u4fdd\u53ef\u4ee5\u548cubuntu\u7f51\u7edc\u4e92\u901a\uff0c\u4e4b\u540e\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u8fdb\u884c\u6302\u8f7dubuntu\u7684nfs\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u3002\u5982\u4e0b\u6240\u793a\uff0c\u5c06nfs\u6587\u4ef6\u7cfb\u7edf\u6302\u8f7d\u5230\u5f00\u53d1\u677f\u7684/mnt\u76ee\u5f55\u4e0b\uff0c\u4e4b\u540e\u8fdb\u5165 /mnt\u76ee\u5f55\u4e0b\uff0c\u5c31\u53ef\u4ee5\u770b\u5230ubuntu\u4e0b\u91cc\u9762\u7684\u6587\u4ef6\uff0c\u8fd9\u4e5f\u5c31\u662f\u5b9e\u73b0\u4e86\u6587\u4ef6\u4e92\u4f20\u7684\u6548\u679c\u3002 [ root@100ask:~ ] # mount -t nfs -o nolock 192.168.5.11:/home/book/nfs_rootfs /mnt [ root@100ask:~ ] # cd /mnt \u6b65\u9aa4\u4e94 \u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\u5e76\u8c03\u8bd5,\u901a\u8fc7\u524d\u9762\u7684\u6b65\u9aa4 \u5df2\u7ecf\u53ef\u4ee5\u5b9e\u73b0ubuntu\u548c\u5f00\u53d1\u677f\u4e92\u76f8\u901a\u4fe1\u4f20\u8f93\u6587\u4ef6\u4e86\uff0c\u4e0b\u9762\u6f14\u793a\u5728ubuntu\u4e0b\u4f7f\u7528VSCODE\u7f16\u8bd1HelloWrod \u5e76\u5728\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c \u8c03\u8bd5\uff01 1.\u83b7\u53d6hello-word\u793a\u4f8b\u6a21\u677f\uff0c\u6a21\u677f\u6587\u4ef6\u5b58\u653e\u5728git\u4ed3\u5e93\u91cc\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0b\u8ff0\u547d\u4ee4\u5728\u7ec8\u7aef\u4e0b\u6267\u884c\u83b7\u53d6\u5de5\u7a0b\uff0c\u83b7\u53d6\u5230\u4ee5\u540e\uff0c\u5728hello-word\u76ee\u5f55\u4e0b\u6267\u884c code . \u547d\u4ee4\u5c31\u53ef\u4ee5\u5524\u9192vscode\u8fdb\u5165\u5f00\u53d1\u754c\u9762\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u70b9\u51fbubuntu\u5de6\u4fa7 vscode\u56fe\u6807 \u627e\u5230 hello-word \u5de5\u7a0b\u6240\u5728\u76ee\u5f55\u6253\u5f00\u3002 book@ubuntu1804:~$ git clone https://github.com/100askTeam/Stage2-Components.git Cloning into 'Stage2-Components' ... remote: Enumerating objects: 12 , done . remote: Counting objects: 100 % ( 12 /12 ) , done . remote: Compressing objects: 100 % ( 10 /10 ) , done . remote: Total 12 ( delta 0 ) , reused 12 ( delta 0 ) , pack-reused 0 Unpacking objects: 100 % ( 12 /12 ) , done . book@ubuntu1804:~$ cd Stage2-Components/ book@ubuntu1804:~/Stage2-Components$ cd hello-world/ book@ubuntu1804:~/Stage2-Components/hello-world$ code . 2.\u4f7f\u7528vscode\u6253\u5f00\u5de5\u7a0b\u4ee5\u540e\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u4e3b\u754c\u9762\uff0c\u5176\u4e2d\u7ea2\u6846\u5904\u662fhellowrd\u7a0b\u5e8f\u6e90\u7801\uff0c\u5de6\u4fa7\u5206\u522b\u662f makefile vscode\u914d\u7f6e\u6587\u4ef6\u7b49\u3002 \u5982\u679c\u9700\u8981\u7f16\u8bd1\u6b64\u5de5\u7a0b\u53ef\u4ee5\u53c2\u8003\u4e0b\u56fe \u70b9\u51fbvscode \u5de6\u4e0a\u83dc\u5355\u680f \u627e\u5230 Terminal 1 \u7136\u540e\u518d\u5f39\u51fa\u7684\u5b50\u9875\u9762\u83dc\u5355\u9879\u70b9\u51fb Run Build Task 2 \u6765\u7f16\u8bd1\u6784\u5efa\u6b64\u5de5\u7a0b\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528 \u5feb\u6377\u952e ctrl + shift + b \u3002 \u6784\u5efa\u65f6\u53ef\u4ee5\u770b\u5230 \u53f3\u4e0b\u7684 \u7ec8\u7aef\u4f1a\u8bdd\u754c\u9762\uff0c\u91cc\u9762\u8be6\u7ec6\u7684\u663e\u793a\u51fa\u6765\u4e86\u7f16\u8bd1\u7684\u6b65\u9aa4\u7b49\u4fe1\u606f\u3002 \u4e5f\u53ef\u4ee5\u70b9\u51fb\u53f3\u4fa7\u7684 \u7ea2\u8272\u68461 bash \u5b57\u7b26\uff0c\u5207\u6362\u5230\u5f53\u524d\u5de5\u7a0b\u7684shell\u7ec8\u7aef\u547d\u4ee4\u754c\u9762\uff0c\u5728\u91cc\u9762\u8fdb\u884c\u5176\u5b83\u64cd\u4f5c\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u7f16\u8bd1\u597d\u7684\u6587\u4ef6 \u76f4\u63a5\u901a\u8fc7 scp nfs\u7b49\u65b9\u5f0f\u4f20\u5230\u5f00\u53d1\u677f\u5185\uff0c\u7136\u540e\u518d\u5f00\u53d1\u677f\u6267\u884c\u3002 4.\u5982\u679c\u4f60\u4e0d\u60f3\u624b\u52a8\u4e0a\u4f20\u7f16\u8bd1\u51fa\u6765\u7684\u76ee\u6807\u7a0b\u5e8f\uff0c\u4e5f\u53ef\u4ee5\u53c2\u8003\u4e0b\u56fe\u6267\u884c \u70b9\u51fb vscode \u5de6\u4e0a\u83dc\u5355\u680f\u754c\u9762\u91cc\uff0c Run 1 \u6309\u94ae\uff0c\u518d\u5f39\u51fa\u7684\u5b50\u9875\u9762\u91cc\u9762 \u70b9\u51fb Start Debugging 2 \u6765\u81ea\u52a8\u8fdb\u5165\u8c03\u8bd5\u754c\u9762\u3002 \u7efc\u4e0a\uff0c\u5b8c\u6574\u6f14\u793a\u4e86\u5982\u4f55\u4f7f\u7528ubuntu\u7cfb\u7edfvscode\u5f00\u53d1\u4e00\u4e2a\u53ef\u4ee5\u5728\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\u7684helloword\u7a0b\u5e8f\uff0c\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u8fdb\u5165 Linux\u7ec4\u4ef6\u5f00\u53d1 \u9875\u9762\u8fdb\u884c\u5b9e\u9645\u7684\u5de5\u7a0b\u5f00\u53d1\u4e86\uff01 \u6587\u6863\u5b8c\u6210\u5ea6 \u97f3\u9891\u4e0e\u663e\u793a\u76f8\u5173\u7ec4\u4ef6 \u7f51\u7edc\u901a\u4fe1\u76f8\u5173\u7ec4\u4ef6 \u5982\u4f55\u53c2\u4e0e\u7f16\u8f91\uff1f Linux\u7ec4\u4ef6\uff1a https://github.com/100askTeam/Stage2-Components \u4ea4\u6d41\u793e\u533a\uff1a https://forums.100ask.net/c/elinuxdev/23","title":"Linux\u7ec4\u4ef6\u5f00\u53d1"},{"location":"02-Components/#linuxintroduction","text":"","title":"Linux\u7ec4\u4ef6\u7b80\u8ff0(Introduction)"},{"location":"02-Components/#_1","text":"Note \u5bf9\u4e8e\u5d4c\u5165\u5f0fLinux\u7ec4\u4ef6\u5f00\u53d1\uff0c\u4e3b\u8981\u5305\u542b \u793e\u533a\u7ec4\u4ef6 \u5e93 \u7b49\uff0c\u501f\u52a9\u5f3a\u5927\u7684\u793e\u533a\u529b\u91cf\uff0c\u53bb\u5b9e\u73b0\u81ea\u5df1\u7684\u9879\u76ee\uff0c\u56e0\u4e3a\u793e\u533a\u7ec4\u4ef6\u5e93\u7b49\u975e\u5e38\u591a\uff0c\u4e14\u6709\u4e13\u95e8\u7684\u4f7f\u7528\u8bf4\u660e\uff0c\u6240\u4ee5\u6211\u4eec\u4f1a\u627e\u51fa\u4e00\u4e9b\u5e38\u7528\u7684\u7ec4\u4ef6 \u5e93 \u7ed9\u5927\u5bb6\u63d0\u4f9b\u5f00\u53d1\u793a\u4f8b\u8bf4\u660e\u3002 \u6574\u4e2a\u5f00\u53d1\u6d41\u7a0b\u4e3b\u8981\u5206\u4e3a\u4e24\u90e8\u5206\uff0c\u6b65\u9aa41\u81f3\u6b65\u9aa43\uff0c\u4e3b\u8981\u914d\u7f6eHost\u7aef\u5f00\u53d1\u73af\u5883\uff0c\u6b65\u9aa44 5 \u4e3a\u5f00\u53d1Target\u5f00\u53d1\u677f\u7a0b\u5e8f\u5e76\u8fd0\u884c\u6d4b\u8bd5\u3002","title":"\u7ec4\u4ef6\u5f00\u53d1\u6d41\u7a0b\u4ecb\u7ecd"},{"location":"02-Components/#_2","text":"\u83b7\u53d6\u5f00\u53d1\u677f\u914d\u5957\u7684\u5b8c\u6574\u865a\u62df\u673a\uff0c\u6211\u4eec\u7684\u865a\u62df\u673a\u63d0\u524d\u5e2e\u5927\u5bb6\u914d\u7f6e\u597d\u4e86\u5404\u79cd\u73af\u5883 \u5305\u542bvscode \u793a\u4f8b\u5de5\u7a0b\u6e90\u7801 \u5404\u79cd\u4f9d\u8d56\u5de5\u5177\u5305 \u4e2d\u6587\u8f93\u5165\u6cd5\u7b49\uff0c\u5927\u5bb6\u53ef\u4ee5\u76f4\u63a5\u89e3\u538b\u8fd0\u884c\u5c31\u53ef\u4ee5\u5f00\u59cb\u7740\u624b\u5f00\u53d1\u3002 \u4e0d\u540c\u7684\u677f\u5b50\u56e0\u4e3a \u786c\u4ef6\u5dee\u5f02 \u5185\u6838\u7248\u672c\u5dee\u5f02 \u5de5\u5177\u94fe\u7248\u672c\u5dee\u5f02 \u5e93\u7684\u652f\u6301\u4e0d\u540c \u800c\u63d0\u4f9b\u4e13\u95e8\u7684\u865a\u62df\u673a\u7cfb\u7edf\u955c\u50cf\uff0c\u8bf7\u5927\u5bb6\u4e00\u5b9a\u8981\u6839\u636e\u81ea\u5df1\u7684\u677f\u5b50\u578b\u53f7\u53bb\u83b7\u53d6\u5bf9\u5e94\u7684\u865a\u62df\u673a\u3002","title":"\u6b65\u9aa4\u4e00"},{"location":"02-Components/#_3","text":"\u4f7f\u7528VMware\u8fd0\u884c \u6b65\u9aa4\u4e00\u83b7\u53d6\u5230\u7684\u5f00\u53d1\u677f\u914d\u5957\u865a\u62df\u673a\u955c\u50cf\u3002 1.\u9996\u5148\u4e0b\u8f7dvmware\u865a\u62df\u673a\u5de5\u5177 \u4f7f\u7528\u6d4f\u89c8\u5668\u6253\u5f00\u7f51\u5740 https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html \u53c2\u8003\u4e0b\u56fe\u7bad\u5934\u6240\u793a\uff0c\u70b9\u51fb\u4e0b\u8f7d\u5b89\u88c5 Windows\u7248\u672c\u7684VMware Workstation \uff0c\u70b9\u51fb DOWNLOAD NOW \u5373\u53ef\u5f00\u59cb\u4e0b\u8f7d\u3002 2.\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u53ea\u9700\u8981\u6839\u636e\u8f6f\u4ef6\u63d0\u793a \u4e00\u6b65\u6b65\u9ed8\u8ba4\u5b89\u88c5\u5c31\u53ef\u4ee5\uff0c\u7b49\u5f85\u5b8c\u6210\u3002 \u6ce8\u610f\uff1a\u6700\u540e\u53ef\u80fd\u4f1a\u63d0\u793a\u8f93\u5165\u5bc6\u94a5\uff0c\u81ea\u884c\u6839\u636e\u7248\u672c \u767e\u5ea6\u641c\u7d22\u5373\u53ef\u3002","title":"\u6b65\u9aa4\u4e8c"},{"location":"02-Components/#_4","text":"\u914d\u7f6e\u865a\u62df\u673a\u5f00\u53d1\u73af\u5883\uff0c\u548c\u5f00\u53d1\u677f\u4e92\u76f8\u901a\u4fe1\u3002 \u8fd9\u4e00\u6b65\u51b3\u5b9a\u4e86\u5f00\u53d1\u677f\u662f\u5426\u53ef\u4ee5\u548cubuntu\u901a\u4fe1,\u5c06\u4f60\u7684\u7a0b\u5e8f\u4e0a\u4f20\u81f3\u5f00\u53d1\u677f\u6267\u884c\u3002\u5bf9\u4e8eIMX6ULL\u5f00\u53d1\u677f STM32MP157\u5f00\u53d1\u677f \u76f4\u63a5\u901a\u8fc7USB\u8f6c\u7f51\u5361\u8bbe\u5907\uff0c\u6765\u5b9e\u73b0 ubuntu\u4e0e\u5f00\u53d1\u677f\u4e92\u76f8\u901a\u4fe1\uff0c\u5177\u4f53\u64cd\u4f5c\u6b65\u9aa4\u5982\u4e0b\uff0c\u6ce8\u610f\uff1aUSB\u7f51\u5361\u9700\u8981\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u4e13\u7528\u7f51\u5361\u624d\u53ef\u4ee5\uff0c\u5176\u5b83\u578b\u53f7\u4e0d\u4e00\u5b9a\u652f\u6301\u3002 1.ubuntu\u7cfb\u7edf\u542f\u52a8\uff0c\u5c06USB\u7f51\u5361\u8bbe\u5907\u901a\u8fc7Vmware\u6302\u8f7d\u81f3ubuntu\u7cfb\u7edf\u5185\u3002 2.ubuntu\u5185\u8bbe\u7f6eUSB\u7f51\u5361\u9759\u6001IP\u5730\u5740 3.\u5f00\u53d1\u677f\u5185\u8bbe\u7f6e\u7f51\u5361\u9759\u6001IP\u5730\u5740\u5e76\u4e92\u76f8\u901a\u4fe1\u9a8c\u8bc1","title":"\u6b65\u9aa4\u4e09"},{"location":"02-Components/#_5","text":"\u4e0a\u4f20\u7a0b\u5e8f\u5230\u5f00\u53d1\u677f \u53c2\u8003\u6b65\u9aa4\u4e09\uff0c\u5df2\u7ecf\u53ef\u4ee5\u8ba9ubuntu\u548c\u5f00\u53d1\u677f\u4e92\u76f8\u901a\u4fe1\u4e86\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u53ef\u4ee5\u7528\u591a\u79cd\u65b9\u5f0f\u4f20\u8f93\u6587\u4ef6\u5230\u6211\u4eec\u7684\u5f00\u53d1\u677f\u5185\uff0c\u53ef\u4ee5\u662f \u5f00\u53d1\u677f\u6302\u8f7dubuntu nfs\u76ee\u5f55\uff0c\u4e5f\u53ef\u4ee5\u662fssh scp\u4f20\u8f93\u7b49\u7b49\u3002 \u4f7f\u7528scp\u65b9\u5f0f\u4f20\u8f93 Linux scp \u547d\u4ee4\u7528\u4e8e Linux \u4e4b\u95f4\u590d\u5236\u6587\u4ef6\u548c\u76ee\u5f55\u3002scp \u662f secure copy \u7684\u7f29\u5199, scp \u662f linux \u7cfb\u7edf\u4e0b\u57fa\u4e8e ssh \u767b\u9646\u8fdb\u884c\u5b89\u5168\u7684\u8fdc\u7a0b\u6587\u4ef6\u62f7\u8d1d\u547d\u4ee4\u3002 \u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u5f00\u53d1\u677f\u7684IP\u5730\u5740\u662f 192.168.5.9 \u63a5\u4e0b\u6765\u6211\u5728ubuntu\u4e0b\u521b\u5efa\u4e00\u4e2a 1.txt \u5e76\u901a\u8fc7 scp\u5728ubuntu\u4e0a \u4e0a\u4f20\u5230\u5f00\u53d1\u677f\u3002 \u5982\u4e0b\u793a\u4f8b\uff0c\u4f7f\u7528echo\u521b\u5efa\u4e00\u4e2a\u5185\u5bb9\u662f4\u4e2a\u6570\u5b571\u76841.txt\u6587\u4ef6\uff0c\u7136\u540e\u901a\u8fc7scp\u4e0a\u4f20\u5230\u5f00\u53d1\u677f\u7684/root\u76ee\u5f55\u4e0b\u3002 book@ubuntu1804:~$ echo 11111 > 1 .txt book@ubuntu1804:~$ scp 1 .txt root@192.168.5.9:/root 1 .txt 100 % 6 1 .4KB/s 00 :00 book@ubuntu1804:~$ \u5f00\u53d1\u677f\u5185\u67e5\u770b\u4e0a\u4f20\u5230/root\u76ee\u5f55\u4e0b\u76841.txt\u6587\u4ef6 [ root@100ask:~ ] # ls /root/1.txt /root/1.txt [ root@100ask:~ ] # cat /root/1.txt 11111 [ root@100ask:~ ] # \u66f4\u591a\u7528\u6cd5\u53ef\u53c2\u8003\uff1a https://www.runoob.com/linux/linux-comm-scp.html \u5f00\u53d1\u677f\u4f7f\u7528nfs\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u65b9\u5f0f NFS\u5373\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u5141\u8bb8\u5f00\u53d1\u677f\u76f4\u63a5\u901a\u8fc7\u7f51\u7edc\u6302\u8f7dPC\u673a\u4e2d\u7684\u6587\u4ef6\u5939\u3002\u4e0b\u9762\u4ecb\u7ecd\u5728ubuntu\u4e0a\u7684NFS\u670d\u52a1\u5b89\u88c5\u548c\u914d\u7f6e\u3002 \u9996\u5148\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5NFS\u670d\u52a1\uff1a book@100ask:~$ sudo apt-get install nfs-kernel-server \u7136\u540e\u7f16\u8f91/etc/exports\u6587\u4ef6\uff0c\u6dfb\u52a0NFS\u670d\u52a1\u5bfc\u51fa\u7684\u5de5\u4f5c\u76ee\u5f55\uff1a book@100ask:~$ sudo gedit /etc/exports \u6dfb\u52a0NFS\u76ee\u5f55\uff1a\u4e0b\u9762\u4ee5/home/book/rootfs\u4e3a\u4f8b\uff0c\u5c06\u5176\u6dfb\u52a0\u5230/etc/exports\u6587\u4ef6\u4e2d, \u5982\u4e0b\uff1a /home/book/nfs_rootfs * ( rw,nohide,insecure,no_subtree_check,async,no_root_squash ) \u6700\u540e\uff0c\u91cd\u542fNFS\u670d\u52a1: book@100ask:~$ sudo service nfs-kernel-server restart \u5982\u679c\u4e00\u5207\u6b63\u5e38\uff0c\u53ef\u4ee5\u5728ubuntu\u4e2d\u6d4b\u8bd5NFS\u670d\u52a1\uff1a book@100ask:~$ sudo mount -t nfs 127 .0.0.1:/home/book/nfs_rootfs /mnt \u5f00\u53d1\u677f\u7aef\u8fdb\u5165\u7cfb\u7edf\u540e\uff0c\u786e\u4fdd\u53ef\u4ee5\u548cubuntu\u7f51\u7edc\u4e92\u901a\uff0c\u4e4b\u540e\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u8fdb\u884c\u6302\u8f7dubuntu\u7684nfs\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u3002\u5982\u4e0b\u6240\u793a\uff0c\u5c06nfs\u6587\u4ef6\u7cfb\u7edf\u6302\u8f7d\u5230\u5f00\u53d1\u677f\u7684/mnt\u76ee\u5f55\u4e0b\uff0c\u4e4b\u540e\u8fdb\u5165 /mnt\u76ee\u5f55\u4e0b\uff0c\u5c31\u53ef\u4ee5\u770b\u5230ubuntu\u4e0b\u91cc\u9762\u7684\u6587\u4ef6\uff0c\u8fd9\u4e5f\u5c31\u662f\u5b9e\u73b0\u4e86\u6587\u4ef6\u4e92\u4f20\u7684\u6548\u679c\u3002 [ root@100ask:~ ] # mount -t nfs -o nolock 192.168.5.11:/home/book/nfs_rootfs /mnt [ root@100ask:~ ] # cd /mnt","title":"\u6b65\u9aa4\u56db"},{"location":"02-Components/#_6","text":"\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\u5e76\u8c03\u8bd5,\u901a\u8fc7\u524d\u9762\u7684\u6b65\u9aa4 \u5df2\u7ecf\u53ef\u4ee5\u5b9e\u73b0ubuntu\u548c\u5f00\u53d1\u677f\u4e92\u76f8\u901a\u4fe1\u4f20\u8f93\u6587\u4ef6\u4e86\uff0c\u4e0b\u9762\u6f14\u793a\u5728ubuntu\u4e0b\u4f7f\u7528VSCODE\u7f16\u8bd1HelloWrod \u5e76\u5728\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c \u8c03\u8bd5\uff01 1.\u83b7\u53d6hello-word\u793a\u4f8b\u6a21\u677f\uff0c\u6a21\u677f\u6587\u4ef6\u5b58\u653e\u5728git\u4ed3\u5e93\u91cc\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0b\u8ff0\u547d\u4ee4\u5728\u7ec8\u7aef\u4e0b\u6267\u884c\u83b7\u53d6\u5de5\u7a0b\uff0c\u83b7\u53d6\u5230\u4ee5\u540e\uff0c\u5728hello-word\u76ee\u5f55\u4e0b\u6267\u884c code . \u547d\u4ee4\u5c31\u53ef\u4ee5\u5524\u9192vscode\u8fdb\u5165\u5f00\u53d1\u754c\u9762\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u70b9\u51fbubuntu\u5de6\u4fa7 vscode\u56fe\u6807 \u627e\u5230 hello-word \u5de5\u7a0b\u6240\u5728\u76ee\u5f55\u6253\u5f00\u3002 book@ubuntu1804:~$ git clone https://github.com/100askTeam/Stage2-Components.git Cloning into 'Stage2-Components' ... remote: Enumerating objects: 12 , done . remote: Counting objects: 100 % ( 12 /12 ) , done . remote: Compressing objects: 100 % ( 10 /10 ) , done . remote: Total 12 ( delta 0 ) , reused 12 ( delta 0 ) , pack-reused 0 Unpacking objects: 100 % ( 12 /12 ) , done . book@ubuntu1804:~$ cd Stage2-Components/ book@ubuntu1804:~/Stage2-Components$ cd hello-world/ book@ubuntu1804:~/Stage2-Components/hello-world$ code . 2.\u4f7f\u7528vscode\u6253\u5f00\u5de5\u7a0b\u4ee5\u540e\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u4e3b\u754c\u9762\uff0c\u5176\u4e2d\u7ea2\u6846\u5904\u662fhellowrd\u7a0b\u5e8f\u6e90\u7801\uff0c\u5de6\u4fa7\u5206\u522b\u662f makefile vscode\u914d\u7f6e\u6587\u4ef6\u7b49\u3002 \u5982\u679c\u9700\u8981\u7f16\u8bd1\u6b64\u5de5\u7a0b\u53ef\u4ee5\u53c2\u8003\u4e0b\u56fe \u70b9\u51fbvscode \u5de6\u4e0a\u83dc\u5355\u680f \u627e\u5230 Terminal 1 \u7136\u540e\u518d\u5f39\u51fa\u7684\u5b50\u9875\u9762\u83dc\u5355\u9879\u70b9\u51fb Run Build Task 2 \u6765\u7f16\u8bd1\u6784\u5efa\u6b64\u5de5\u7a0b\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528 \u5feb\u6377\u952e ctrl + shift + b \u3002 \u6784\u5efa\u65f6\u53ef\u4ee5\u770b\u5230 \u53f3\u4e0b\u7684 \u7ec8\u7aef\u4f1a\u8bdd\u754c\u9762\uff0c\u91cc\u9762\u8be6\u7ec6\u7684\u663e\u793a\u51fa\u6765\u4e86\u7f16\u8bd1\u7684\u6b65\u9aa4\u7b49\u4fe1\u606f\u3002 \u4e5f\u53ef\u4ee5\u70b9\u51fb\u53f3\u4fa7\u7684 \u7ea2\u8272\u68461 bash \u5b57\u7b26\uff0c\u5207\u6362\u5230\u5f53\u524d\u5de5\u7a0b\u7684shell\u7ec8\u7aef\u547d\u4ee4\u754c\u9762\uff0c\u5728\u91cc\u9762\u8fdb\u884c\u5176\u5b83\u64cd\u4f5c\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u7f16\u8bd1\u597d\u7684\u6587\u4ef6 \u76f4\u63a5\u901a\u8fc7 scp nfs\u7b49\u65b9\u5f0f\u4f20\u5230\u5f00\u53d1\u677f\u5185\uff0c\u7136\u540e\u518d\u5f00\u53d1\u677f\u6267\u884c\u3002 4.\u5982\u679c\u4f60\u4e0d\u60f3\u624b\u52a8\u4e0a\u4f20\u7f16\u8bd1\u51fa\u6765\u7684\u76ee\u6807\u7a0b\u5e8f\uff0c\u4e5f\u53ef\u4ee5\u53c2\u8003\u4e0b\u56fe\u6267\u884c \u70b9\u51fb vscode \u5de6\u4e0a\u83dc\u5355\u680f\u754c\u9762\u91cc\uff0c Run 1 \u6309\u94ae\uff0c\u518d\u5f39\u51fa\u7684\u5b50\u9875\u9762\u91cc\u9762 \u70b9\u51fb Start Debugging 2 \u6765\u81ea\u52a8\u8fdb\u5165\u8c03\u8bd5\u754c\u9762\u3002 \u7efc\u4e0a\uff0c\u5b8c\u6574\u6f14\u793a\u4e86\u5982\u4f55\u4f7f\u7528ubuntu\u7cfb\u7edfvscode\u5f00\u53d1\u4e00\u4e2a\u53ef\u4ee5\u5728\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\u7684helloword\u7a0b\u5e8f\uff0c\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u8fdb\u5165 Linux\u7ec4\u4ef6\u5f00\u53d1 \u9875\u9762\u8fdb\u884c\u5b9e\u9645\u7684\u5de5\u7a0b\u5f00\u53d1\u4e86\uff01","title":"\u6b65\u9aa4\u4e94"},{"location":"02-Components/#_7","text":"\u97f3\u9891\u4e0e\u663e\u793a\u76f8\u5173\u7ec4\u4ef6 \u7f51\u7edc\u901a\u4fe1\u76f8\u5173\u7ec4\u4ef6","title":"\u6587\u6863\u5b8c\u6210\u5ea6"},{"location":"02-Components/#_8","text":"Linux\u7ec4\u4ef6\uff1a https://github.com/100askTeam/Stage2-Components \u4ea4\u6d41\u793e\u533a\uff1a https://forums.100ask.net/c/elinuxdev/23","title":"\u5982\u4f55\u53c2\u4e0e\u7f16\u8f91\uff1f"},{"location":"03-DeviceDriver/","text":"Linux\u8bbe\u5907\u9a71\u52a8\u7b80\u8ff0(Introduction) \u9a71\u52a8\u5f00\u53d1\u8bf4\u660e \u6b64\u90e8\u5206\u4e3b\u8981\u6d89\u53ca\u6a21\u5757\u9a71\u52a8\u5f00\u53d1\uff0c\u9002\u914d\u6211\u4eec\u7684\u6240\u6709\u5f00\u53d1\u677f \u53ca\u76f8\u5e94\u6a21\u5757\uff0c\u6211\u4eec\u4f1a\u63d0\u524d\u5c06 IMX6ULL-Pro\u5f00\u53d1\u6b65\u9aa4 \u6b65\u9aa4\u4e00 \u83b7\u53d6\u5f00\u53d1\u677f\u914d\u5957\u7684\u5b8c\u6574\u865a\u62df\u673a\uff0c\u6211\u4eec\u7684\u865a\u62df\u673a\u63d0\u524d\u5e2e\u5927\u5bb6\u914d\u7f6e\u597d\u4e86\u5404\u79cd\u73af\u5883 \u5305\u542bvscode \u793a\u4f8b\u5de5\u7a0b\u6e90\u7801 \u5404\u79cd\u4f9d\u8d56\u5de5\u5177\u5305 \u4e2d\u6587\u8f93\u5165\u6cd5\u7b49\uff0c\u5927\u5bb6\u53ef\u4ee5\u76f4\u63a5\u89e3\u538b\u8fd0\u884c\u5c31\u53ef\u4ee5\u5f00\u59cb\u7740\u624b\u5f00\u53d1\u3002 \u4e0d\u540c\u7684\u677f\u5b50\u56e0\u4e3a \u786c\u4ef6\u5dee\u5f02 \u5185\u6838\u7248\u672c\u5dee\u5f02 \u5de5\u5177\u94fe\u7248\u672c\u5dee\u5f02 \u5e93\u7684\u652f\u6301\u4e0d\u540c \u800c\u63d0\u4f9b\u4e13\u95e8\u7684\u865a\u62df\u673a\u7cfb\u7edf\u955c\u50cf\uff0c\u8bf7\u5927\u5bb6\u4e00\u5b9a\u8981\u6839\u636e\u81ea\u5df1\u7684\u677f\u5b50\u578b\u53f7\u53bb\u83b7\u53d6\u5bf9\u5e94\u7684\u865a\u62df\u673a\u3002 \u767e\u5ea6\u7f51\u76d8\u94fe\u63a5:\u94fe\u63a5\uff1a https://pan.baidu.com/s/1cXwhwPMAY1wZ_XGWMtg_vw?pwd=kjnh \u5976\u725b\u5feb\u4f20\u94fe\u63a5: \u6b65\u9aa4\u4e8c \u6ce8\u610f\uff1a\u6574\u4e2a\u7f51\u7ad9\u91cc\u9762\u6bcf\u4e2a\u677f\u5b50\u5bf9\u5e94\u7684\u865a\u62df\u673a\u90fd\u662f\u540c\u4e00\u4e2a\uff0c\u53ea\u662f\u5728\u4e0d\u540c\u7684\u9875\u9762\u90fd\u6709\u4ecb\u7ecd\uff0c\u5982\u679c\u60a8\u5728\u5176\u5b83\u90e8\u5206\u9875\u9762\u4e0b\u8f7d\u4e86\u865a\u62df\u673a\u7cfb\u7edf\u955c\u50cf\uff0c\u5219\u65e0\u9700\u518d\u8fd9\u4e2a\u9875\u9762\u83b7\u53d6\uff0c\u76f4\u63a5\u8df3\u8fc7 \u6b64\u6b65\u9aa4\u5373\u53ef\u3002 \u4f7f\u7528VMware\u8fd0\u884c \u6b65\u9aa4\u4e00\u83b7\u53d6\u5230\u7684\u5f00\u53d1\u677f\u914d\u5957\u865a\u62df\u673a\u955c\u50cf\u3002 1.\u9996\u5148\u4e0b\u8f7dvmware\u865a\u62df\u673a\u5de5\u5177 \u4f7f\u7528\u6d4f\u89c8\u5668\u6253\u5f00\u7f51\u5740 https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html \u53c2\u8003\u4e0b\u56fe\u7bad\u5934\u6240\u793a\uff0c\u70b9\u51fb\u4e0b\u8f7d\u5b89\u88c5 Windows\u7248\u672c\u7684VMware Workstation \uff0c\u70b9\u51fb DOWNLOAD NOW \u5373\u53ef\u5f00\u59cb\u4e0b\u8f7d\u3002 2.\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u53ea\u9700\u8981\u6839\u636e\u8f6f\u4ef6\u63d0\u793a \u4e00\u6b65\u6b65\u9ed8\u8ba4\u5b89\u88c5\u5c31\u53ef\u4ee5\uff0c\u7b49\u5f85\u5b8c\u6210\u3002 \u6ce8\u610f\uff1a\u6700\u540e\u53ef\u80fd\u4f1a\u63d0\u793a\u8f93\u5165\u5bc6\u94a5\uff0c\u81ea\u884c\u6839\u636e\u7248\u672c \u767e\u5ea6\u641c\u7d22\u5373\u53ef\u3002 \u6b65\u9aa4\u4e09 \u914d\u7f6e\u865a\u62df\u673a\u5f00\u53d1\u73af\u5883\uff0c\u548c\u5f00\u53d1\u677f\u4e92\u76f8\u901a\u4fe1\u3002 \u8fd9\u4e00\u6b65\u51b3\u5b9a\u4e86\u5f00\u53d1\u677f\u662f\u5426\u53ef\u4ee5\u548cubuntu\u901a\u4fe1,\u5c06\u4f60\u7684\u7a0b\u5e8f\u4e0a\u4f20\u81f3\u5f00\u53d1\u677f\u6267\u884c\u3002\u5bf9\u4e8eIMX6ULL\u5f00\u53d1\u677f STM32MP157\u5f00\u53d1\u677f \u76f4\u63a5\u901a\u8fc7USB\u8f6c\u7f51\u5361\u8bbe\u5907\uff0c\u6765\u5b9e\u73b0 ubuntu\u4e0e\u5f00\u53d1\u677f\u4e92\u76f8\u901a\u4fe1\uff0c\u5177\u4f53\u64cd\u4f5c\u6b65\u9aa4\u5982\u4e0b\uff0c\u6ce8\u610f\uff1aUSB\u7f51\u5361\u9700\u8981\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u4e13\u7528\u7f51\u5361\u624d\u53ef\u4ee5\uff0c\u5176\u5b83\u578b\u53f7\u4e0d\u4e00\u5b9a\u652f\u6301\u3002 1.ubuntu\u7cfb\u7edf\u542f\u52a8\uff0c\u5c06USB\u7f51\u5361\u8bbe\u5907\u901a\u8fc7Vmware\u6302\u8f7d\u81f3ubuntu\u7cfb\u7edf\u5185\u3002 2.ubuntu\u5185\u8bbe\u7f6eUSB\u7f51\u5361\u9759\u6001IP\u5730\u5740 3.\u5f00\u53d1\u677f\u5185\u8bbe\u7f6e\u7f51\u5361\u9759\u6001IP\u5730\u5740\u5e76\u4e92\u76f8\u901a\u4fe1\u9a8c\u8bc1 \u5982\u679c\u4f60\u89c9\u5f97\u6bcf\u6b21\u542f\u52a8\u624b\u52a8\u8bbe\u7f6e\u9759\u6001IP\u5f88\u9ebb\u70e6 \u53ef\u4ee5\u624b\u52a8\u7f16\u8f91 /etc/network/interfaces \u6587\u4ef6\u589e\u52a0\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u5f00\u53d1\u677f\u6267\u884c\u5982\u4e0b\u547d\u4ee4 \u6765\u81ea\u52a8\u8bbe\u7f6e\u7f51\u5361\u4fe1\u606f\u3002 mv /etc/network/interfaces ~/ cat << EOF > /etc/network/interfaces auto lo iface lo inet loopback auto eth0 iface eth0 inet static address 192.168.5.9 netmask 255.255.255.0 gateway 192.168.5.1 EOF \u6b65\u9aa4\u56db \u4e0a\u4f20\u7a0b\u5e8f\u5230\u5f00\u53d1\u677f \u53c2\u8003\u6b65\u9aa4\u4e09\uff0c\u5df2\u7ecf\u53ef\u4ee5\u8ba9ubuntu\u548c\u5f00\u53d1\u677f\u4e92\u76f8\u901a\u4fe1\u4e86\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u53ef\u4ee5\u7528\u591a\u79cd\u65b9\u5f0f\u4f20\u8f93\u6587\u4ef6\u5230\u6211\u4eec\u7684\u5f00\u53d1\u677f\u5185\uff0c\u53ef\u4ee5\u662f \u5f00\u53d1\u677f\u6302\u8f7dubuntu nfs\u76ee\u5f55\uff0c\u4e5f\u53ef\u4ee5\u662fssh scp\u4f20\u8f93\u7b49\u7b49\u3002 \u4f7f\u7528scp\u65b9\u5f0f\u4f20\u8f93 Linux scp \u547d\u4ee4\u7528\u4e8e Linux \u4e4b\u95f4\u590d\u5236\u6587\u4ef6\u548c\u76ee\u5f55\u3002scp \u662f secure copy \u7684\u7f29\u5199, scp \u662f linux \u7cfb\u7edf\u4e0b\u57fa\u4e8e ssh \u767b\u9646\u8fdb\u884c\u5b89\u5168\u7684\u8fdc\u7a0b\u6587\u4ef6\u62f7\u8d1d\u547d\u4ee4\u3002 \u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u5f00\u53d1\u677f\u7684IP\u5730\u5740\u662f 192.168.5.9 \u63a5\u4e0b\u6765\u6211\u5728ubuntu\u4e0b\u521b\u5efa\u4e00\u4e2a 1.txt \u5e76\u901a\u8fc7 scp\u5728ubuntu\u4e0a \u4e0a\u4f20\u5230\u5f00\u53d1\u677f\u3002 \u5982\u4e0b\u793a\u4f8b\uff0c\u4f7f\u7528echo\u521b\u5efa\u4e00\u4e2a\u5185\u5bb9\u662f4\u4e2a\u6570\u5b571\u76841.txt\u6587\u4ef6\uff0c\u7136\u540e\u901a\u8fc7scp\u4e0a\u4f20\u5230\u5f00\u53d1\u677f\u7684/root\u76ee\u5f55\u4e0b\u3002 book@ubuntu1804:~$ echo 11111 > 1 .txt book@ubuntu1804:~$ scp 1 .txt root@192.168.5.9:/root 1 .txt 100 % 6 1 .4KB/s 00 :00 book@ubuntu1804:~$ \u5f00\u53d1\u677f\u5185\u67e5\u770b\u4e0a\u4f20\u5230/root\u76ee\u5f55\u4e0b\u76841.txt\u6587\u4ef6 [ root@100ask:~ ] # ls /root/1.txt /root/1.txt [ root@100ask:~ ] # cat /root/1.txt 11111 [ root@100ask:~ ] # \u66f4\u591a\u7528\u6cd5\u53ef\u53c2\u8003\uff1a https://www.runoob.com/linux/linux-comm-scp.html \u5f00\u53d1\u677f\u4f7f\u7528nfs\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u65b9\u5f0f NFS\u5373\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u5141\u8bb8\u5f00\u53d1\u677f\u76f4\u63a5\u901a\u8fc7\u7f51\u7edc\u6302\u8f7dPC\u673a\u4e2d\u7684\u6587\u4ef6\u5939\u3002\u4e0b\u9762\u4ecb\u7ecd\u5728ubuntu\u4e0a\u7684NFS\u670d\u52a1\u5b89\u88c5\u548c\u914d\u7f6e\u3002 \u9996\u5148\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5NFS\u670d\u52a1\uff1a book@100ask:~$ sudo apt-get install nfs-kernel-server \u7136\u540e\u7f16\u8f91/etc/exports\u6587\u4ef6\uff0c\u6dfb\u52a0NFS\u670d\u52a1\u5bfc\u51fa\u7684\u5de5\u4f5c\u76ee\u5f55\uff1a book@100ask:~$ sudo gedit /etc/exports \u6dfb\u52a0NFS\u76ee\u5f55\uff1a\u4e0b\u9762\u4ee5/home/book/rootfs\u4e3a\u4f8b\uff0c\u5c06\u5176\u6dfb\u52a0\u5230/etc/exports\u6587\u4ef6\u4e2d, \u5982\u4e0b\uff1a /home/book/nfs_rootfs * ( rw,nohide,insecure,no_subtree_check,async,no_root_squash ) \u6700\u540e\uff0c\u91cd\u542fNFS\u670d\u52a1: book@100ask:~$ sudo service nfs-kernel-server restart \u5982\u679c\u4e00\u5207\u6b63\u5e38\uff0c\u53ef\u4ee5\u5728ubuntu\u4e2d\u6d4b\u8bd5NFS\u670d\u52a1\uff1a book@100ask:~$ sudo mount -t nfs 127 .0.0.1:/home/book/nfs_rootfs /mnt \u5f00\u53d1\u677f\u7aef\u8fdb\u5165\u7cfb\u7edf\u540e\uff0c\u786e\u4fdd\u53ef\u4ee5\u548cubuntu\u7f51\u7edc\u4e92\u901a\uff0c\u4e4b\u540e\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u8fdb\u884c\u6302\u8f7dubuntu\u7684nfs\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u3002\u5982\u4e0b\u6240\u793a\uff0c\u5c06nfs\u6587\u4ef6\u7cfb\u7edf\u6302\u8f7d\u5230\u5f00\u53d1\u677f\u7684/mnt\u76ee\u5f55\u4e0b\uff0c\u4e4b\u540e\u8fdb\u5165 /mnt\u76ee\u5f55\u4e0b\uff0c\u5c31\u53ef\u4ee5\u770b\u5230ubuntu\u4e0b\u91cc\u9762\u7684\u6587\u4ef6\uff0c\u8fd9\u4e5f\u5c31\u662f\u5b9e\u73b0\u4e86\u6587\u4ef6\u4e92\u4f20\u7684\u6548\u679c\u3002 [ root@100ask:~ ] # mount -t nfs -o nolock 192.168.5.11:/home/book/nfs_rootfs /mnt [ root@100ask:~ ] # cd /mnt \u6b65\u9aa4\u4e94 \u7f16\u8bd1\u5185\u6838\u9a71\u52a8\u6a21\u5757 \u5e76\u4e0a\u4f20\u5f00\u53d1\u677f\u6267\u884c\u3002\u60f3\u8981\u5f00\u53d1\u4e00\u4e2a\u786c\u4ef6\u914d\u5957\u7684\u8bbe\u5907\u9a71\u52a8\u53ca\u6d4b\u8bd5\u7a0b\u5e8f\uff0c\u6211\u4eec\u9700\u8981\u5148\u5f97\u5230\u5f00\u53d1\u677f\u914d\u5957\u7684\u5185\u6838\u6e90\u7801\u5e76\u4f7f\u7528\u914d\u5957\u7684\u5de5\u5177\u94fe\u8fdb\u884c\u7f16\u8bd1\uff0c\u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u624d\u53ef\u4ee5\u5f00\u59cb\u7f16\u8bd1\u5f00\u53d1\u677f\u914d\u5957\u7684\u5185\u6838\u6a21\u5757\uff0c\u6700\u540e\u4e0a\u4f20\u5230\u5f00\u53d1\u677f\u5185\uff0c\u8fd0\u884c\u3002 1.\u7f16\u8bd1\u5185\u6838\u6e90\u7801 \u5185\u6838\u6e90\u7801 \u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe \u6211\u4eec\u5df2\u7ecf\u63d0\u524d\u5e2e\u60a8\u5b58\u653e\u5728 \u865a\u62df\u673a\u955c\u50cf\u91cc\uff0c\u60a8\u53ea\u9700\u8981\u5728\u8fd9\u4e00\u6b65 \u8fdb\u5165\u5185\u6838\u6e90\u7801 \u7f16\u8bd1\u4e00\u4e0b\u5185\u6838\u5c31\u53ef\u4ee5\u3002 \u9f20\u6807\u5728\u684c\u9762 \u53f3\u952e \u6253\u5f00\u4e00\u4e2a Terminal \u7ec8\u7aef\uff0ccd \u8fdb\u5165\u5230100ask_imx6ull-sdk/Linux-4.9.88 \u76ee\u5f55\u4e0b \u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff0c\u7b49\u5f85\u5185\u6838\u7f16\u8bd1\u5b8c\u6210\u5373\u53ef\u3002 book@ubuntu1804:~$ cd 100ask_imx6ull-sdk/Linux-4.9.88/ book@ubuntu1804:~/100ask_imx6ull-sdk/Linux-4.9.88$ make 100ask_imx6ull_defconfig book@ubuntu1804:~/100ask_imx6ull-sdk/Linux-4.9.88$ make zImage -j8 \u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884c\u4e0b\u4e00\u6b65\u5f00\u59cb\u5185\u6838\u9a71\u52a8\u5f00\u53d1\u4e86\u3002 2.\u83b7\u53d6\u5185\u6838\u6a21\u5757\u793a\u4f8b \u8fd9\u90e8\u5206\u4e3a\u6f14\u793a\u64cd\u4f5c\uff0c\u6211\u4eec\u4f7f\u7528 \u4e00\u4e2a hello word \u9a71\u52a8\u793a\u4f8b\u7a0b\u5e8f\u4f5c\u4e3a\u6f14\u793a\uff0c\u5176\u4e2d\u7a0b\u5e8f\u5b58\u653e\u5728 https://github.com/100askTeam/Stage3-DeviceDriver/tree/master/IMX6ULL/hello_drv \u76ee\u5f55\u5185\uff0c\u6211\u4eec\u9700\u8981\u5728ubuntu\u4e0b\u83b7\u53d6\u6b64\u5de5\u7a0b\uff0c\u7136\u540e\u8fdb\u884c\u7f16\u8bd1\uff0c \u9996\u5148clone\u6b64\u4ed3\u5e93\uff0cclone\u4e0b\u6765\u540e\uff0c\u8fdb\u5165\u5230Stage3-DeviceDriver/IMX6ULL/hello_drv/ \u76ee\u5f55\u5185\uff0c\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u63d0\u524d\u51c6\u5907\u597d\u7684\u6a21\u5757\u793a\u4f8b\uff0c\u56e0\u4e3a\u5185\u6838\u76ee\u5f55 \u5de5\u5177\u94fe\u90fd\u63d0\u524d\u914d\u597d\u4e86\uff0c\u5e76\u4e14\u662f\u4e00\u81f4\u7684\uff0c\u53ef\u4ee5\u76f4\u63a5\u6267\u884c make\u547d\u4ee4\u8fdb\u884c\u7f16\u8bd1,\u53c2\u8003\u4e0b\u8ff0\u547d\u4ee4\u3002 book@ubuntu1804:~$ git clone https://github.com/100askTeam/Stage3-DeviceDriver.git Cloning into 'Stage3-DeviceDriver' ... remote: Enumerating objects: 417 , done . remote: Counting objects: 100 % ( 121 /121 ) , done . remote: Compressing objects: 100 % ( 106 /106 ) , done . remote: Total 417 ( delta 33 ) , reused 93 ( delta 15 ) , pack-reused 296 Receiving objects: 100 % ( 417 /417 ) , 58 .74 MiB | 2 .25 MiB/s, done . Resolving deltas: 100 % ( 126 /126 ) , done . book@ubuntu1804:~$ cd Stage3-DeviceDriver/IMX6ULL/hello_drv/ book@ubuntu1804:~/Stage3-DeviceDriver/IMX6ULL/hello_drv$ ls hello_drv_0.jpg hello_drv_1.jpg hello_drv.c hello_drv_test.c Makefile readme.md book@ubuntu1804:~/Stage3-DeviceDriver/IMX6ULL/hello_drv$ 3.\u7f16\u8bd1\u5185\u6838\u6a21\u5757 \u4e0a\u4e00\u5c0f\u8282\u6211\u4eec\u5df2\u7ecfclone\u5e76\u8fdb\u5165\u4e86helloword\u9a71\u52a8\u793a\u4f8b\u6e90\u7801\uff0c\u5e76\u4e14\u5df2\u7ecf\u7f16\u8bd1\u8fc7\u5185\u6838\u6e90\u7801\uff0c\u914d\u7f6e\u597dMakefile\u91cc\u9762\u7684kernel\u6240\u5728\u8def\u5f84 \u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u7b49\u6240\u6709\u5fc5\u8981\u73af\u5883\uff0c\u63a5\u4e0b\u6765\u53ea\u9700\u8981\u5728\u5185\u6838\u6e90\u7801\u76ee\u5f55\u4e0b\u76f4\u63a5\u6267\u884c make \u547d\u4ee4\u5f00\u59cb\u7f16\u8bd1\u3002 book@ubuntu1804:~/Stage3-DeviceDriver/IMX6ULL/hello_drv$ make make -C /home/book/100ask_imx6ull-sdk/Linux-4.9.88 M = ` pwd ` modules make [ 1 ] : Entering directory '/home/book/100ask_imx6ull-sdk/Linux-4.9.88' CC [ M ] /home/book/Stage3-DeviceDriver/IMX6ULL/hello_drv/hello_drv.o Building modules, stage 2 . MODPOST 1 modules CC /home/book/Stage3-DeviceDriver/IMX6ULL/hello_drv/hello_drv.mod.o LD [ M ] /home/book/Stage3-DeviceDriver/IMX6ULL/hello_drv/hello_drv.ko make [ 1 ] : Leaving directory '/home/book/100ask_imx6ull-sdk/Linux-4.9.88' arm-buildroot-linux-gnueabihf-gcc -o hello_drv_test hello_drv_test.c book@ubuntu1804:~/Stage3-DeviceDriver/IMX6ULL/hello_drv$ ls hello_drv_0.jpg hello_drv.ko hello_drv.o Makefile readme.md hello_drv_1.jpg hello_drv.mod.c hello_drv_test modules.order hello_drv.c hello_drv.mod.o hello_drv_test.c Module.symvers book@ubuntu1804:~/Stage3-DeviceDriver/IMX6ULL/hello_drv$ \u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u8f93\u5165\u4e86\u4e00\u4e2a hello_drv.ko helldrv\u9a71\u52a8\u6a21\u5757\u6587\u4ef6\uff0c\u4ee5\u53ca hello_drv_test \u9a71\u52a8\u6d4b\u8bd5\u793a\u4f8b\uff0c\u63a5\u4e0b\u6765\u9700\u8981\u628a\u8fd9\u4e24\u4e2a\u7a0b\u5e8f\u76f4\u63a5\u4e0a\u4f20\u81f3\u5f00\u53d1\u677f\u5185\uff0c\u7136\u540e\u6267\u884c\u3002 4.\u4e0a\u4f20\u81f3\u5f00\u53d1\u677f\u5e76\u6267\u884c \u4e0a\u9762 \u6b65\u9aa4\u56db \u6211\u4eec\u4ecb\u7ecd\u4e86\u4e24\u79cd\u4f20\u8f93\u6587\u4ef6\u5230\u5f00\u53d1\u677f\u7684\u65b9\u5f0f\uff0c\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u5f00\u53d1\u677f\u6302\u8f7d ubuntu nfs\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u65b9\u5f0f\u4f20\u8f93\u6587\u4ef6\u3002 \u9996\u5148\u786e\u4fdd \u4e0a\u8ff0 \u6b65\u9aa4\u4e09 \u5df2\u7ecf\u6ca1\u6709\u95ee\u9898\uff0c\u63a5\u4e0b\u6765 \u5c06 \u6211\u4eec\u7f16\u8bd1\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8f hello_drv.ko hello_drv_test \u62f7\u8d1d\u5230 \u914d\u7f6e\u597d\u7684nfs\u76ee\u5f55\u4e0b,\u5728 hell_drv\u76ee\u5f55\u4e0b\u6267\u884c cp hello_drv.ko hello_drv_test ~/nfs_rootfs/ \u76ee\u5f55\u5373\u53ef\u3002 book@ubuntu1804:~/Stage3-DeviceDriver/IMX6ULL/hello_drv$ cp hello_drv.ko hello_drv_test ~/nfs_rootfs/ book@ubuntu1804:~/Stage3-DeviceDriver/IMX6ULL/hello_drv$ ls ~/nfs_rootfs/ hello_drv.ko hello_drv_test \u4e4b\u540e\u5207\u6362\u5230 IMX6ULL-Pro\u5f00\u53d1\u677f\u7ec8\u7aef\u754c\u9762\uff0c\u767b\u9646\u5f00\u53d1\u677f\u7cfb\u7edf\uff0c\u786e\u4fdd\u53ef\u4ee5\u548cubuntu\u7f51\u7edc\u4e92\u901a\uff0c\u7136\u540e\u6267\u884c mount -t nfs -o nolock 192.168.5.11:/home/book/nfs_rootfs /mnt \u547d\u4ee4\uff0c\u5728\u5f00\u53d1\u677f\u4e0a\u6302\u8f7dubuntu nfs\u6587\u4ef6\u7cfb\u7edf\uff0c\u6302\u8f7d\u6210\u529f\u540e\uff0c\u53ef\u4ee5\u76f4\u63a5\u8fdb\u5165\u5230 \u5f00\u53d1\u677f\u7684 /mnt\u76ee\u5f55\u4e0b\uff0c\u6267\u884c\u5b89\u88c5\u9a71\u52a8\u6a21\u5757\u547d\u4ee4 insmod hello_drv.ko \u547d\u4ee4\uff0c\u6700\u540e\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f hello_drv_test \u6765\u6d4b\u8bd5\u9a71\u52a8\u3002 [ root@100ask:~ ] # ping 192.168.5.11 PING 192 .168.5.11 ( 192 .168.5.11 ) : 56 data bytes 64 bytes from 192 .168.5.11: seq = 0 ttl = 64 time = 4 .277 ms ^C --- 192 .168.5.11 ping statistics --- 1 packets transmitted, 1 packets received, 0 % packet loss round-trip min/avg/max = 4 .277/4.277/4.277 ms [ root@100ask:~ ] # mount -t nfs -o nolock 192.168.5.11:/home/book/nfs_rootfs /mnt [ root@100ask:~ ] # cd /mnt/ [ root@100ask:/mnt ] # ls hello_drv.ko hello_drv_test [ root@100ask:/mnt ] # insmod hello_drv.ko [ 10604 .815020 ] hello_drv: loading out-of-tree module taints kernel. [ root@100ask:/mnt ] # ls /dev/hello /dev/hello [ root@100ask:/mnt ] # chmod +x hello_drv_test [ root@100ask:/mnt ] # ./hello_drv_test Usage: ./hello_drv_test -w <string> ./hello_drv_test -r [ root@100ask:/mnt ] # ./hello_drv_test -w 100ask [ root@100ask:/mnt ] # ./hello_drv_test -r APP read : 100ask [ root@100ask:/mnt ] # \u81f3\u6b64\uff0c\u6211\u4eec\u5c31\u5b8c\u6574\u7684\u57286ULL\u4e0a\u8fd0\u884c\u4e86\u4e00\u4e2a \u9a71\u52a8\u6a21\u5757 \u4ee5\u53ca\u6d4b\u8bd5\u7a0b\u5e8f\u4e86\uff0c\u66f4\u591a\u8bbe\u5907\u9a71\u52a8\u6a21\u5757\u7684\u5f00\u53d1\u793a\u4f8b \u8bf7\u5927\u5bb6\u8bbf\u95ee \u8bbe\u5907\u9a71\u52a8\u5f00\u53d1 \u7ae0\u8282\uff0c 6ULLPro \u524d\u7f00\u7684\u6587\u7ae0\uff0c\u91cc\u9762\u6709\u975e\u5e38\u4e30\u5bcc\u7684\u793a\u4f8b \u7ed9\u5230\u5927\u5bb6\u3002 STM32MP157-Pro\u5f00\u53d1\u6b65\u9aa4 \u7f16\u5199\u4e2d........ \u652f\u6301\u7684\u8bbe\u5907\u9a71\u52a8\u793a\u4f8b \u7eff\u8272\u221a\u53f7\u8868\u793a\u5df2\u5b8c\u6210\uff0c\u7070\u8272 \u221a \u8868\u793a\u672a\u5b8c\u6210\u3002 NXP\u5f00\u53d1\u677f IMX6ULL-Pro\u5f00\u53d1\u677f GPIO-LED\u706f\u793a\u4f8b\u9a71\u52a8 GPIO-Key\u6309\u952e\u5b9e\u9a8c\u793a\u4f8b GPIO-sr501\u4eba\u4f53\u7ea2\u5916\u4f20\u611f\u5668 GPIO-SR04\u8d85\u58f0\u6ce2\u6d4b\u8ddd\u6a21\u5757 GPIO-DS18B20\u6e29\u5ea6\u6a21\u5757 GPIO-DHT11\u6e29\u6e7f\u5ea6\u6a21\u5757 GPIO-IRDA\u7ea2\u5916\u9065\u63a7\u6a21\u5757 I2C-AT24C02\u5b58\u50a8\u6a21\u5757 SPI-OLED\u5c4f\u6a21\u5757 ST\u5f00\u53d1\u677f STM32MP157-Pro\u5f00\u53d1\u677f GPIO-LED\u706f\u793a\u4f8b\u9a71\u52a8 GPIO-Key\u6309\u952e\u5b9e\u9a8c\u793a\u4f8b GPIO-sr501\u4eba\u4f53\u7ea2\u5916\u4f20\u611f\u5668 GPIO-SR04\u8d85\u58f0\u6ce2\u6d4b\u8ddd\u6a21\u5757 GPIO-DS18B20\u6e29\u5ea6\u6a21\u5757 GPIO-DHT11\u6e29\u6e7f\u5ea6\u6a21\u5757 GPIO-IRDA\u7ea2\u5916\u9065\u63a7\u6a21\u5757 I2C-AT24C02\u5b58\u50a8\u6a21\u5757 SPI-OLED\u5c4f\u6a21\u5757 \u5982\u4f55\u53c2\u4e0e\u5171\u4eab\uff1f Linux\u9a71\u52a8\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u4ea4\u6d41\u793e\u533a\uff1a https://forums.100ask.net/c/elinuxdev/23","title":"Linux\u8bbe\u5907\u9a71\u52a8\u5f00\u53d1"},{"location":"03-DeviceDriver/#linuxintroduction","text":"\u9a71\u52a8\u5f00\u53d1\u8bf4\u660e \u6b64\u90e8\u5206\u4e3b\u8981\u6d89\u53ca\u6a21\u5757\u9a71\u52a8\u5f00\u53d1\uff0c\u9002\u914d\u6211\u4eec\u7684\u6240\u6709\u5f00\u53d1\u677f \u53ca\u76f8\u5e94\u6a21\u5757\uff0c\u6211\u4eec\u4f1a\u63d0\u524d\u5c06","title":"Linux\u8bbe\u5907\u9a71\u52a8\u7b80\u8ff0(Introduction)"},{"location":"03-DeviceDriver/#imx6ull-pro","text":"","title":"IMX6ULL-Pro\u5f00\u53d1\u6b65\u9aa4"},{"location":"03-DeviceDriver/#_1","text":"\u83b7\u53d6\u5f00\u53d1\u677f\u914d\u5957\u7684\u5b8c\u6574\u865a\u62df\u673a\uff0c\u6211\u4eec\u7684\u865a\u62df\u673a\u63d0\u524d\u5e2e\u5927\u5bb6\u914d\u7f6e\u597d\u4e86\u5404\u79cd\u73af\u5883 \u5305\u542bvscode \u793a\u4f8b\u5de5\u7a0b\u6e90\u7801 \u5404\u79cd\u4f9d\u8d56\u5de5\u5177\u5305 \u4e2d\u6587\u8f93\u5165\u6cd5\u7b49\uff0c\u5927\u5bb6\u53ef\u4ee5\u76f4\u63a5\u89e3\u538b\u8fd0\u884c\u5c31\u53ef\u4ee5\u5f00\u59cb\u7740\u624b\u5f00\u53d1\u3002 \u4e0d\u540c\u7684\u677f\u5b50\u56e0\u4e3a \u786c\u4ef6\u5dee\u5f02 \u5185\u6838\u7248\u672c\u5dee\u5f02 \u5de5\u5177\u94fe\u7248\u672c\u5dee\u5f02 \u5e93\u7684\u652f\u6301\u4e0d\u540c \u800c\u63d0\u4f9b\u4e13\u95e8\u7684\u865a\u62df\u673a\u7cfb\u7edf\u955c\u50cf\uff0c\u8bf7\u5927\u5bb6\u4e00\u5b9a\u8981\u6839\u636e\u81ea\u5df1\u7684\u677f\u5b50\u578b\u53f7\u53bb\u83b7\u53d6\u5bf9\u5e94\u7684\u865a\u62df\u673a\u3002 \u767e\u5ea6\u7f51\u76d8\u94fe\u63a5:\u94fe\u63a5\uff1a https://pan.baidu.com/s/1cXwhwPMAY1wZ_XGWMtg_vw?pwd=kjnh \u5976\u725b\u5feb\u4f20\u94fe\u63a5:","title":"\u6b65\u9aa4\u4e00"},{"location":"03-DeviceDriver/#_2","text":"\u6ce8\u610f\uff1a\u6574\u4e2a\u7f51\u7ad9\u91cc\u9762\u6bcf\u4e2a\u677f\u5b50\u5bf9\u5e94\u7684\u865a\u62df\u673a\u90fd\u662f\u540c\u4e00\u4e2a\uff0c\u53ea\u662f\u5728\u4e0d\u540c\u7684\u9875\u9762\u90fd\u6709\u4ecb\u7ecd\uff0c\u5982\u679c\u60a8\u5728\u5176\u5b83\u90e8\u5206\u9875\u9762\u4e0b\u8f7d\u4e86\u865a\u62df\u673a\u7cfb\u7edf\u955c\u50cf\uff0c\u5219\u65e0\u9700\u518d\u8fd9\u4e2a\u9875\u9762\u83b7\u53d6\uff0c\u76f4\u63a5\u8df3\u8fc7 \u6b64\u6b65\u9aa4\u5373\u53ef\u3002 \u4f7f\u7528VMware\u8fd0\u884c \u6b65\u9aa4\u4e00\u83b7\u53d6\u5230\u7684\u5f00\u53d1\u677f\u914d\u5957\u865a\u62df\u673a\u955c\u50cf\u3002 1.\u9996\u5148\u4e0b\u8f7dvmware\u865a\u62df\u673a\u5de5\u5177 \u4f7f\u7528\u6d4f\u89c8\u5668\u6253\u5f00\u7f51\u5740 https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html \u53c2\u8003\u4e0b\u56fe\u7bad\u5934\u6240\u793a\uff0c\u70b9\u51fb\u4e0b\u8f7d\u5b89\u88c5 Windows\u7248\u672c\u7684VMware Workstation \uff0c\u70b9\u51fb DOWNLOAD NOW \u5373\u53ef\u5f00\u59cb\u4e0b\u8f7d\u3002 2.\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u53ea\u9700\u8981\u6839\u636e\u8f6f\u4ef6\u63d0\u793a \u4e00\u6b65\u6b65\u9ed8\u8ba4\u5b89\u88c5\u5c31\u53ef\u4ee5\uff0c\u7b49\u5f85\u5b8c\u6210\u3002 \u6ce8\u610f\uff1a\u6700\u540e\u53ef\u80fd\u4f1a\u63d0\u793a\u8f93\u5165\u5bc6\u94a5\uff0c\u81ea\u884c\u6839\u636e\u7248\u672c \u767e\u5ea6\u641c\u7d22\u5373\u53ef\u3002","title":"\u6b65\u9aa4\u4e8c"},{"location":"03-DeviceDriver/#_3","text":"\u914d\u7f6e\u865a\u62df\u673a\u5f00\u53d1\u73af\u5883\uff0c\u548c\u5f00\u53d1\u677f\u4e92\u76f8\u901a\u4fe1\u3002 \u8fd9\u4e00\u6b65\u51b3\u5b9a\u4e86\u5f00\u53d1\u677f\u662f\u5426\u53ef\u4ee5\u548cubuntu\u901a\u4fe1,\u5c06\u4f60\u7684\u7a0b\u5e8f\u4e0a\u4f20\u81f3\u5f00\u53d1\u677f\u6267\u884c\u3002\u5bf9\u4e8eIMX6ULL\u5f00\u53d1\u677f STM32MP157\u5f00\u53d1\u677f \u76f4\u63a5\u901a\u8fc7USB\u8f6c\u7f51\u5361\u8bbe\u5907\uff0c\u6765\u5b9e\u73b0 ubuntu\u4e0e\u5f00\u53d1\u677f\u4e92\u76f8\u901a\u4fe1\uff0c\u5177\u4f53\u64cd\u4f5c\u6b65\u9aa4\u5982\u4e0b\uff0c\u6ce8\u610f\uff1aUSB\u7f51\u5361\u9700\u8981\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u4e13\u7528\u7f51\u5361\u624d\u53ef\u4ee5\uff0c\u5176\u5b83\u578b\u53f7\u4e0d\u4e00\u5b9a\u652f\u6301\u3002 1.ubuntu\u7cfb\u7edf\u542f\u52a8\uff0c\u5c06USB\u7f51\u5361\u8bbe\u5907\u901a\u8fc7Vmware\u6302\u8f7d\u81f3ubuntu\u7cfb\u7edf\u5185\u3002 2.ubuntu\u5185\u8bbe\u7f6eUSB\u7f51\u5361\u9759\u6001IP\u5730\u5740 3.\u5f00\u53d1\u677f\u5185\u8bbe\u7f6e\u7f51\u5361\u9759\u6001IP\u5730\u5740\u5e76\u4e92\u76f8\u901a\u4fe1\u9a8c\u8bc1 \u5982\u679c\u4f60\u89c9\u5f97\u6bcf\u6b21\u542f\u52a8\u624b\u52a8\u8bbe\u7f6e\u9759\u6001IP\u5f88\u9ebb\u70e6 \u53ef\u4ee5\u624b\u52a8\u7f16\u8f91 /etc/network/interfaces \u6587\u4ef6\u589e\u52a0\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u5f00\u53d1\u677f\u6267\u884c\u5982\u4e0b\u547d\u4ee4 \u6765\u81ea\u52a8\u8bbe\u7f6e\u7f51\u5361\u4fe1\u606f\u3002 mv /etc/network/interfaces ~/ cat << EOF > /etc/network/interfaces auto lo iface lo inet loopback auto eth0 iface eth0 inet static address 192.168.5.9 netmask 255.255.255.0 gateway 192.168.5.1 EOF","title":"\u6b65\u9aa4\u4e09"},{"location":"03-DeviceDriver/#_4","text":"\u4e0a\u4f20\u7a0b\u5e8f\u5230\u5f00\u53d1\u677f \u53c2\u8003\u6b65\u9aa4\u4e09\uff0c\u5df2\u7ecf\u53ef\u4ee5\u8ba9ubuntu\u548c\u5f00\u53d1\u677f\u4e92\u76f8\u901a\u4fe1\u4e86\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u53ef\u4ee5\u7528\u591a\u79cd\u65b9\u5f0f\u4f20\u8f93\u6587\u4ef6\u5230\u6211\u4eec\u7684\u5f00\u53d1\u677f\u5185\uff0c\u53ef\u4ee5\u662f \u5f00\u53d1\u677f\u6302\u8f7dubuntu nfs\u76ee\u5f55\uff0c\u4e5f\u53ef\u4ee5\u662fssh scp\u4f20\u8f93\u7b49\u7b49\u3002 \u4f7f\u7528scp\u65b9\u5f0f\u4f20\u8f93 Linux scp \u547d\u4ee4\u7528\u4e8e Linux \u4e4b\u95f4\u590d\u5236\u6587\u4ef6\u548c\u76ee\u5f55\u3002scp \u662f secure copy \u7684\u7f29\u5199, scp \u662f linux \u7cfb\u7edf\u4e0b\u57fa\u4e8e ssh \u767b\u9646\u8fdb\u884c\u5b89\u5168\u7684\u8fdc\u7a0b\u6587\u4ef6\u62f7\u8d1d\u547d\u4ee4\u3002 \u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u5f00\u53d1\u677f\u7684IP\u5730\u5740\u662f 192.168.5.9 \u63a5\u4e0b\u6765\u6211\u5728ubuntu\u4e0b\u521b\u5efa\u4e00\u4e2a 1.txt \u5e76\u901a\u8fc7 scp\u5728ubuntu\u4e0a \u4e0a\u4f20\u5230\u5f00\u53d1\u677f\u3002 \u5982\u4e0b\u793a\u4f8b\uff0c\u4f7f\u7528echo\u521b\u5efa\u4e00\u4e2a\u5185\u5bb9\u662f4\u4e2a\u6570\u5b571\u76841.txt\u6587\u4ef6\uff0c\u7136\u540e\u901a\u8fc7scp\u4e0a\u4f20\u5230\u5f00\u53d1\u677f\u7684/root\u76ee\u5f55\u4e0b\u3002 book@ubuntu1804:~$ echo 11111 > 1 .txt book@ubuntu1804:~$ scp 1 .txt root@192.168.5.9:/root 1 .txt 100 % 6 1 .4KB/s 00 :00 book@ubuntu1804:~$ \u5f00\u53d1\u677f\u5185\u67e5\u770b\u4e0a\u4f20\u5230/root\u76ee\u5f55\u4e0b\u76841.txt\u6587\u4ef6 [ root@100ask:~ ] # ls /root/1.txt /root/1.txt [ root@100ask:~ ] # cat /root/1.txt 11111 [ root@100ask:~ ] # \u66f4\u591a\u7528\u6cd5\u53ef\u53c2\u8003\uff1a https://www.runoob.com/linux/linux-comm-scp.html \u5f00\u53d1\u677f\u4f7f\u7528nfs\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u65b9\u5f0f NFS\u5373\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u5141\u8bb8\u5f00\u53d1\u677f\u76f4\u63a5\u901a\u8fc7\u7f51\u7edc\u6302\u8f7dPC\u673a\u4e2d\u7684\u6587\u4ef6\u5939\u3002\u4e0b\u9762\u4ecb\u7ecd\u5728ubuntu\u4e0a\u7684NFS\u670d\u52a1\u5b89\u88c5\u548c\u914d\u7f6e\u3002 \u9996\u5148\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5NFS\u670d\u52a1\uff1a book@100ask:~$ sudo apt-get install nfs-kernel-server \u7136\u540e\u7f16\u8f91/etc/exports\u6587\u4ef6\uff0c\u6dfb\u52a0NFS\u670d\u52a1\u5bfc\u51fa\u7684\u5de5\u4f5c\u76ee\u5f55\uff1a book@100ask:~$ sudo gedit /etc/exports \u6dfb\u52a0NFS\u76ee\u5f55\uff1a\u4e0b\u9762\u4ee5/home/book/rootfs\u4e3a\u4f8b\uff0c\u5c06\u5176\u6dfb\u52a0\u5230/etc/exports\u6587\u4ef6\u4e2d, \u5982\u4e0b\uff1a /home/book/nfs_rootfs * ( rw,nohide,insecure,no_subtree_check,async,no_root_squash ) \u6700\u540e\uff0c\u91cd\u542fNFS\u670d\u52a1: book@100ask:~$ sudo service nfs-kernel-server restart \u5982\u679c\u4e00\u5207\u6b63\u5e38\uff0c\u53ef\u4ee5\u5728ubuntu\u4e2d\u6d4b\u8bd5NFS\u670d\u52a1\uff1a book@100ask:~$ sudo mount -t nfs 127 .0.0.1:/home/book/nfs_rootfs /mnt \u5f00\u53d1\u677f\u7aef\u8fdb\u5165\u7cfb\u7edf\u540e\uff0c\u786e\u4fdd\u53ef\u4ee5\u548cubuntu\u7f51\u7edc\u4e92\u901a\uff0c\u4e4b\u540e\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u8fdb\u884c\u6302\u8f7dubuntu\u7684nfs\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u3002\u5982\u4e0b\u6240\u793a\uff0c\u5c06nfs\u6587\u4ef6\u7cfb\u7edf\u6302\u8f7d\u5230\u5f00\u53d1\u677f\u7684/mnt\u76ee\u5f55\u4e0b\uff0c\u4e4b\u540e\u8fdb\u5165 /mnt\u76ee\u5f55\u4e0b\uff0c\u5c31\u53ef\u4ee5\u770b\u5230ubuntu\u4e0b\u91cc\u9762\u7684\u6587\u4ef6\uff0c\u8fd9\u4e5f\u5c31\u662f\u5b9e\u73b0\u4e86\u6587\u4ef6\u4e92\u4f20\u7684\u6548\u679c\u3002 [ root@100ask:~ ] # mount -t nfs -o nolock 192.168.5.11:/home/book/nfs_rootfs /mnt [ root@100ask:~ ] # cd /mnt","title":"\u6b65\u9aa4\u56db"},{"location":"03-DeviceDriver/#_5","text":"\u7f16\u8bd1\u5185\u6838\u9a71\u52a8\u6a21\u5757 \u5e76\u4e0a\u4f20\u5f00\u53d1\u677f\u6267\u884c\u3002\u60f3\u8981\u5f00\u53d1\u4e00\u4e2a\u786c\u4ef6\u914d\u5957\u7684\u8bbe\u5907\u9a71\u52a8\u53ca\u6d4b\u8bd5\u7a0b\u5e8f\uff0c\u6211\u4eec\u9700\u8981\u5148\u5f97\u5230\u5f00\u53d1\u677f\u914d\u5957\u7684\u5185\u6838\u6e90\u7801\u5e76\u4f7f\u7528\u914d\u5957\u7684\u5de5\u5177\u94fe\u8fdb\u884c\u7f16\u8bd1\uff0c\u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u624d\u53ef\u4ee5\u5f00\u59cb\u7f16\u8bd1\u5f00\u53d1\u677f\u914d\u5957\u7684\u5185\u6838\u6a21\u5757\uff0c\u6700\u540e\u4e0a\u4f20\u5230\u5f00\u53d1\u677f\u5185\uff0c\u8fd0\u884c\u3002 1.\u7f16\u8bd1\u5185\u6838\u6e90\u7801 \u5185\u6838\u6e90\u7801 \u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe \u6211\u4eec\u5df2\u7ecf\u63d0\u524d\u5e2e\u60a8\u5b58\u653e\u5728 \u865a\u62df\u673a\u955c\u50cf\u91cc\uff0c\u60a8\u53ea\u9700\u8981\u5728\u8fd9\u4e00\u6b65 \u8fdb\u5165\u5185\u6838\u6e90\u7801 \u7f16\u8bd1\u4e00\u4e0b\u5185\u6838\u5c31\u53ef\u4ee5\u3002 \u9f20\u6807\u5728\u684c\u9762 \u53f3\u952e \u6253\u5f00\u4e00\u4e2a Terminal \u7ec8\u7aef\uff0ccd \u8fdb\u5165\u5230100ask_imx6ull-sdk/Linux-4.9.88 \u76ee\u5f55\u4e0b \u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff0c\u7b49\u5f85\u5185\u6838\u7f16\u8bd1\u5b8c\u6210\u5373\u53ef\u3002 book@ubuntu1804:~$ cd 100ask_imx6ull-sdk/Linux-4.9.88/ book@ubuntu1804:~/100ask_imx6ull-sdk/Linux-4.9.88$ make 100ask_imx6ull_defconfig book@ubuntu1804:~/100ask_imx6ull-sdk/Linux-4.9.88$ make zImage -j8 \u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884c\u4e0b\u4e00\u6b65\u5f00\u59cb\u5185\u6838\u9a71\u52a8\u5f00\u53d1\u4e86\u3002 2.\u83b7\u53d6\u5185\u6838\u6a21\u5757\u793a\u4f8b \u8fd9\u90e8\u5206\u4e3a\u6f14\u793a\u64cd\u4f5c\uff0c\u6211\u4eec\u4f7f\u7528 \u4e00\u4e2a hello word \u9a71\u52a8\u793a\u4f8b\u7a0b\u5e8f\u4f5c\u4e3a\u6f14\u793a\uff0c\u5176\u4e2d\u7a0b\u5e8f\u5b58\u653e\u5728 https://github.com/100askTeam/Stage3-DeviceDriver/tree/master/IMX6ULL/hello_drv \u76ee\u5f55\u5185\uff0c\u6211\u4eec\u9700\u8981\u5728ubuntu\u4e0b\u83b7\u53d6\u6b64\u5de5\u7a0b\uff0c\u7136\u540e\u8fdb\u884c\u7f16\u8bd1\uff0c \u9996\u5148clone\u6b64\u4ed3\u5e93\uff0cclone\u4e0b\u6765\u540e\uff0c\u8fdb\u5165\u5230Stage3-DeviceDriver/IMX6ULL/hello_drv/ \u76ee\u5f55\u5185\uff0c\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u63d0\u524d\u51c6\u5907\u597d\u7684\u6a21\u5757\u793a\u4f8b\uff0c\u56e0\u4e3a\u5185\u6838\u76ee\u5f55 \u5de5\u5177\u94fe\u90fd\u63d0\u524d\u914d\u597d\u4e86\uff0c\u5e76\u4e14\u662f\u4e00\u81f4\u7684\uff0c\u53ef\u4ee5\u76f4\u63a5\u6267\u884c make\u547d\u4ee4\u8fdb\u884c\u7f16\u8bd1,\u53c2\u8003\u4e0b\u8ff0\u547d\u4ee4\u3002 book@ubuntu1804:~$ git clone https://github.com/100askTeam/Stage3-DeviceDriver.git Cloning into 'Stage3-DeviceDriver' ... remote: Enumerating objects: 417 , done . remote: Counting objects: 100 % ( 121 /121 ) , done . remote: Compressing objects: 100 % ( 106 /106 ) , done . remote: Total 417 ( delta 33 ) , reused 93 ( delta 15 ) , pack-reused 296 Receiving objects: 100 % ( 417 /417 ) , 58 .74 MiB | 2 .25 MiB/s, done . Resolving deltas: 100 % ( 126 /126 ) , done . book@ubuntu1804:~$ cd Stage3-DeviceDriver/IMX6ULL/hello_drv/ book@ubuntu1804:~/Stage3-DeviceDriver/IMX6ULL/hello_drv$ ls hello_drv_0.jpg hello_drv_1.jpg hello_drv.c hello_drv_test.c Makefile readme.md book@ubuntu1804:~/Stage3-DeviceDriver/IMX6ULL/hello_drv$ 3.\u7f16\u8bd1\u5185\u6838\u6a21\u5757 \u4e0a\u4e00\u5c0f\u8282\u6211\u4eec\u5df2\u7ecfclone\u5e76\u8fdb\u5165\u4e86helloword\u9a71\u52a8\u793a\u4f8b\u6e90\u7801\uff0c\u5e76\u4e14\u5df2\u7ecf\u7f16\u8bd1\u8fc7\u5185\u6838\u6e90\u7801\uff0c\u914d\u7f6e\u597dMakefile\u91cc\u9762\u7684kernel\u6240\u5728\u8def\u5f84 \u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u7b49\u6240\u6709\u5fc5\u8981\u73af\u5883\uff0c\u63a5\u4e0b\u6765\u53ea\u9700\u8981\u5728\u5185\u6838\u6e90\u7801\u76ee\u5f55\u4e0b\u76f4\u63a5\u6267\u884c make \u547d\u4ee4\u5f00\u59cb\u7f16\u8bd1\u3002 book@ubuntu1804:~/Stage3-DeviceDriver/IMX6ULL/hello_drv$ make make -C /home/book/100ask_imx6ull-sdk/Linux-4.9.88 M = ` pwd ` modules make [ 1 ] : Entering directory '/home/book/100ask_imx6ull-sdk/Linux-4.9.88' CC [ M ] /home/book/Stage3-DeviceDriver/IMX6ULL/hello_drv/hello_drv.o Building modules, stage 2 . MODPOST 1 modules CC /home/book/Stage3-DeviceDriver/IMX6ULL/hello_drv/hello_drv.mod.o LD [ M ] /home/book/Stage3-DeviceDriver/IMX6ULL/hello_drv/hello_drv.ko make [ 1 ] : Leaving directory '/home/book/100ask_imx6ull-sdk/Linux-4.9.88' arm-buildroot-linux-gnueabihf-gcc -o hello_drv_test hello_drv_test.c book@ubuntu1804:~/Stage3-DeviceDriver/IMX6ULL/hello_drv$ ls hello_drv_0.jpg hello_drv.ko hello_drv.o Makefile readme.md hello_drv_1.jpg hello_drv.mod.c hello_drv_test modules.order hello_drv.c hello_drv.mod.o hello_drv_test.c Module.symvers book@ubuntu1804:~/Stage3-DeviceDriver/IMX6ULL/hello_drv$ \u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u8f93\u5165\u4e86\u4e00\u4e2a hello_drv.ko helldrv\u9a71\u52a8\u6a21\u5757\u6587\u4ef6\uff0c\u4ee5\u53ca hello_drv_test \u9a71\u52a8\u6d4b\u8bd5\u793a\u4f8b\uff0c\u63a5\u4e0b\u6765\u9700\u8981\u628a\u8fd9\u4e24\u4e2a\u7a0b\u5e8f\u76f4\u63a5\u4e0a\u4f20\u81f3\u5f00\u53d1\u677f\u5185\uff0c\u7136\u540e\u6267\u884c\u3002 4.\u4e0a\u4f20\u81f3\u5f00\u53d1\u677f\u5e76\u6267\u884c \u4e0a\u9762 \u6b65\u9aa4\u56db \u6211\u4eec\u4ecb\u7ecd\u4e86\u4e24\u79cd\u4f20\u8f93\u6587\u4ef6\u5230\u5f00\u53d1\u677f\u7684\u65b9\u5f0f\uff0c\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u5f00\u53d1\u677f\u6302\u8f7d ubuntu nfs\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u65b9\u5f0f\u4f20\u8f93\u6587\u4ef6\u3002 \u9996\u5148\u786e\u4fdd \u4e0a\u8ff0 \u6b65\u9aa4\u4e09 \u5df2\u7ecf\u6ca1\u6709\u95ee\u9898\uff0c\u63a5\u4e0b\u6765 \u5c06 \u6211\u4eec\u7f16\u8bd1\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8f hello_drv.ko hello_drv_test \u62f7\u8d1d\u5230 \u914d\u7f6e\u597d\u7684nfs\u76ee\u5f55\u4e0b,\u5728 hell_drv\u76ee\u5f55\u4e0b\u6267\u884c cp hello_drv.ko hello_drv_test ~/nfs_rootfs/ \u76ee\u5f55\u5373\u53ef\u3002 book@ubuntu1804:~/Stage3-DeviceDriver/IMX6ULL/hello_drv$ cp hello_drv.ko hello_drv_test ~/nfs_rootfs/ book@ubuntu1804:~/Stage3-DeviceDriver/IMX6ULL/hello_drv$ ls ~/nfs_rootfs/ hello_drv.ko hello_drv_test \u4e4b\u540e\u5207\u6362\u5230 IMX6ULL-Pro\u5f00\u53d1\u677f\u7ec8\u7aef\u754c\u9762\uff0c\u767b\u9646\u5f00\u53d1\u677f\u7cfb\u7edf\uff0c\u786e\u4fdd\u53ef\u4ee5\u548cubuntu\u7f51\u7edc\u4e92\u901a\uff0c\u7136\u540e\u6267\u884c mount -t nfs -o nolock 192.168.5.11:/home/book/nfs_rootfs /mnt \u547d\u4ee4\uff0c\u5728\u5f00\u53d1\u677f\u4e0a\u6302\u8f7dubuntu nfs\u6587\u4ef6\u7cfb\u7edf\uff0c\u6302\u8f7d\u6210\u529f\u540e\uff0c\u53ef\u4ee5\u76f4\u63a5\u8fdb\u5165\u5230 \u5f00\u53d1\u677f\u7684 /mnt\u76ee\u5f55\u4e0b\uff0c\u6267\u884c\u5b89\u88c5\u9a71\u52a8\u6a21\u5757\u547d\u4ee4 insmod hello_drv.ko \u547d\u4ee4\uff0c\u6700\u540e\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f hello_drv_test \u6765\u6d4b\u8bd5\u9a71\u52a8\u3002 [ root@100ask:~ ] # ping 192.168.5.11 PING 192 .168.5.11 ( 192 .168.5.11 ) : 56 data bytes 64 bytes from 192 .168.5.11: seq = 0 ttl = 64 time = 4 .277 ms ^C --- 192 .168.5.11 ping statistics --- 1 packets transmitted, 1 packets received, 0 % packet loss round-trip min/avg/max = 4 .277/4.277/4.277 ms [ root@100ask:~ ] # mount -t nfs -o nolock 192.168.5.11:/home/book/nfs_rootfs /mnt [ root@100ask:~ ] # cd /mnt/ [ root@100ask:/mnt ] # ls hello_drv.ko hello_drv_test [ root@100ask:/mnt ] # insmod hello_drv.ko [ 10604 .815020 ] hello_drv: loading out-of-tree module taints kernel. [ root@100ask:/mnt ] # ls /dev/hello /dev/hello [ root@100ask:/mnt ] # chmod +x hello_drv_test [ root@100ask:/mnt ] # ./hello_drv_test Usage: ./hello_drv_test -w <string> ./hello_drv_test -r [ root@100ask:/mnt ] # ./hello_drv_test -w 100ask [ root@100ask:/mnt ] # ./hello_drv_test -r APP read : 100ask [ root@100ask:/mnt ] # \u81f3\u6b64\uff0c\u6211\u4eec\u5c31\u5b8c\u6574\u7684\u57286ULL\u4e0a\u8fd0\u884c\u4e86\u4e00\u4e2a \u9a71\u52a8\u6a21\u5757 \u4ee5\u53ca\u6d4b\u8bd5\u7a0b\u5e8f\u4e86\uff0c\u66f4\u591a\u8bbe\u5907\u9a71\u52a8\u6a21\u5757\u7684\u5f00\u53d1\u793a\u4f8b \u8bf7\u5927\u5bb6\u8bbf\u95ee \u8bbe\u5907\u9a71\u52a8\u5f00\u53d1 \u7ae0\u8282\uff0c 6ULLPro \u524d\u7f00\u7684\u6587\u7ae0\uff0c\u91cc\u9762\u6709\u975e\u5e38\u4e30\u5bcc\u7684\u793a\u4f8b \u7ed9\u5230\u5927\u5bb6\u3002","title":"\u6b65\u9aa4\u4e94"},{"location":"03-DeviceDriver/#stm32mp157-pro","text":"\u7f16\u5199\u4e2d........","title":"STM32MP157-Pro\u5f00\u53d1\u6b65\u9aa4"},{"location":"03-DeviceDriver/#_6","text":"\u7eff\u8272\u221a\u53f7\u8868\u793a\u5df2\u5b8c\u6210\uff0c\u7070\u8272 \u221a \u8868\u793a\u672a\u5b8c\u6210\u3002","title":"\u652f\u6301\u7684\u8bbe\u5907\u9a71\u52a8\u793a\u4f8b"},{"location":"03-DeviceDriver/#nxp","text":"IMX6ULL-Pro\u5f00\u53d1\u677f GPIO-LED\u706f\u793a\u4f8b\u9a71\u52a8 GPIO-Key\u6309\u952e\u5b9e\u9a8c\u793a\u4f8b GPIO-sr501\u4eba\u4f53\u7ea2\u5916\u4f20\u611f\u5668 GPIO-SR04\u8d85\u58f0\u6ce2\u6d4b\u8ddd\u6a21\u5757 GPIO-DS18B20\u6e29\u5ea6\u6a21\u5757 GPIO-DHT11\u6e29\u6e7f\u5ea6\u6a21\u5757 GPIO-IRDA\u7ea2\u5916\u9065\u63a7\u6a21\u5757 I2C-AT24C02\u5b58\u50a8\u6a21\u5757 SPI-OLED\u5c4f\u6a21\u5757","title":"NXP\u5f00\u53d1\u677f"},{"location":"03-DeviceDriver/#st","text":"STM32MP157-Pro\u5f00\u53d1\u677f GPIO-LED\u706f\u793a\u4f8b\u9a71\u52a8 GPIO-Key\u6309\u952e\u5b9e\u9a8c\u793a\u4f8b GPIO-sr501\u4eba\u4f53\u7ea2\u5916\u4f20\u611f\u5668 GPIO-SR04\u8d85\u58f0\u6ce2\u6d4b\u8ddd\u6a21\u5757 GPIO-DS18B20\u6e29\u5ea6\u6a21\u5757 GPIO-DHT11\u6e29\u6e7f\u5ea6\u6a21\u5757 GPIO-IRDA\u7ea2\u5916\u9065\u63a7\u6a21\u5757 I2C-AT24C02\u5b58\u50a8\u6a21\u5757 SPI-OLED\u5c4f\u6a21\u5757","title":"ST\u5f00\u53d1\u677f"},{"location":"03-DeviceDriver/#_7","text":"Linux\u9a71\u52a8\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u4ea4\u6d41\u793e\u533a\uff1a https://forums.100ask.net/c/elinuxdev/23","title":"\u5982\u4f55\u53c2\u4e0e\u5171\u4eab\uff1f"},{"location":"04-System/","text":"Linux\u7cfb\u7edf\u5f00\u53d1\u7b80\u8ff0(Introduction) \u652f\u6301\u7684\u5f00\u53d1\u677f \u6ce8\u610f\uff1a\u6574\u4e2a\u7f51\u7ad9\u91cc\u9762\u6bcf\u4e2a\u677f\u5b50\u5bf9\u5e94\u7684\u865a\u62df\u673a\u90fd\u662f\u540c\u4e00\u4e2a\uff0c\u53ea\u662f\u5728\u4e0d\u540c\u7684\u9875\u9762\u90fd\u6709\u4ecb\u7ecd\uff0c\u5982\u679c\u60a8\u5728\u5176\u5b83\u90e8\u5206\u9875\u9762\u4e0b\u8f7d\u4e86\u865a\u62df\u673a\u7cfb\u7edf\u955c\u50cf\uff0c\u5219\u65e0\u9700\u518d\u8fd9\u4e2a\u9875\u9762\u83b7\u53d6\uff0c\u76f4\u63a5\u8df3\u8fc7 \u6b64\u6b65\u9aa4\u5373\u53ef\u3002 NXP\u5f00\u53d1\u677f ST\u5f00\u53d1\u677f \u5168\u5fd7\u5f00\u53d1\u677f \u5982\u4f55\u53c2\u4e0e\u5171\u4eab\uff1f Linux\u7cfb\u7edf\u5f00\u53d1\uff1a https://github.com/100askTeam/Stage4-System \u4ea4\u6d41\u793e\u533a\uff1a https://forums.100ask.net/c/elinuxdev/23","title":"Linux\u7cfb\u7edf\u5f00\u53d1"},{"location":"04-System/#linuxintroduction","text":"","title":"Linux\u7cfb\u7edf\u5f00\u53d1\u7b80\u8ff0(Introduction)"},{"location":"04-System/#_1","text":"\u6ce8\u610f\uff1a\u6574\u4e2a\u7f51\u7ad9\u91cc\u9762\u6bcf\u4e2a\u677f\u5b50\u5bf9\u5e94\u7684\u865a\u62df\u673a\u90fd\u662f\u540c\u4e00\u4e2a\uff0c\u53ea\u662f\u5728\u4e0d\u540c\u7684\u9875\u9762\u90fd\u6709\u4ecb\u7ecd\uff0c\u5982\u679c\u60a8\u5728\u5176\u5b83\u90e8\u5206\u9875\u9762\u4e0b\u8f7d\u4e86\u865a\u62df\u673a\u7cfb\u7edf\u955c\u50cf\uff0c\u5219\u65e0\u9700\u518d\u8fd9\u4e2a\u9875\u9762\u83b7\u53d6\uff0c\u76f4\u63a5\u8df3\u8fc7 \u6b64\u6b65\u9aa4\u5373\u53ef\u3002","title":"\u652f\u6301\u7684\u5f00\u53d1\u677f"},{"location":"04-System/#nxp","text":"","title":"NXP\u5f00\u53d1\u677f"},{"location":"04-System/#st","text":"","title":"ST\u5f00\u53d1\u677f"},{"location":"04-System/#_2","text":"","title":"\u5168\u5fd7\u5f00\u53d1\u677f"},{"location":"04-System/#_3","text":"Linux\u7cfb\u7edf\u5f00\u53d1\uff1a https://github.com/100askTeam/Stage4-System \u4ea4\u6d41\u793e\u533a\uff1a https://forums.100ask.net/c/elinuxdev/23","title":"\u5982\u4f55\u53c2\u4e0e\u5171\u4eab\uff1f"},{"location":"About/","text":"\u5173\u4e8e\u6211\u4eec \u6211\u4eec\u662f\u4e00\u5bb6\u4e13\u6ce8\u4e8e\u5d4c\u5165\u5f0fLinux\u6559\u80b2\u57f9\u8bad\u5341\u4f59\u5e74\u516c\u53f8\uff0c\u4e3b\u8bb2\u5e08\u97e6\u4e1c\u5c71\u8001\u5e08\u64c5\u957fARM\u7cfb\u5217\u65b9\u9762\u7684\u786c\u4ef6\u539f\u7406\u56fe\u8bbe\u8ba1\uff0c\u7cbe\u901aARM MIPS Blackfin\u7b49\u67b6\u6784\u5904\u7406\u5668\u7684Linux\u5e95\u5c42\u7cfb\u7edf\u5f00\u53d1\u3002 \u97e6\u4e1c\u5c71-\u5d4c\u5165\u5f0f\u4e13\u5bb6 | \u534e\u4e3a\u8ba4\u8bc1\u9996\u6279\u9e3f\u8499\u7cfb\u7edf\u8bfe\u7a0b\u5f00\u8005 \u5173\u6ce8\u516c\u4f17\u53f7\uff1a\u767e\u95ee\u79d1\u6280\uff08\u6700\u65b0\u8d44\u8baf\uff09 \u97e6\u4e1c\u5c71\u5b98\u65b9\u6dd8\u5b9d\u5e97\u94fa\uff1a100ask.taobao.com \u97e6\u4e1c\u5c71\u5b98\u65b9\u5728\u7ebf\u5b66\u4e60\u5e73\u53f0\uff1a100ask.org \u5fae\u4fe1\u6280\u672f\u4ea4\u6d41\u7fa4\uff1abaiwenwang1\uff08\u52a0\u5ba2\u670d\u62c9\u7fa4\uff09 QQ\u6280\u672f\u4ea4\u6d41\u7fa4\uff1a2797826447\uff08\u52a0\u5ba2\u670d\u62c9\u7fa4\uff09","title":"\u5173\u4e8e\u6211\u4eec"},{"location":"About/#_1","text":"\u6211\u4eec\u662f\u4e00\u5bb6\u4e13\u6ce8\u4e8e\u5d4c\u5165\u5f0fLinux\u6559\u80b2\u57f9\u8bad\u5341\u4f59\u5e74\u516c\u53f8\uff0c\u4e3b\u8bb2\u5e08\u97e6\u4e1c\u5c71\u8001\u5e08\u64c5\u957fARM\u7cfb\u5217\u65b9\u9762\u7684\u786c\u4ef6\u539f\u7406\u56fe\u8bbe\u8ba1\uff0c\u7cbe\u901aARM MIPS Blackfin\u7b49\u67b6\u6784\u5904\u7406\u5668\u7684Linux\u5e95\u5c42\u7cfb\u7edf\u5f00\u53d1\u3002 \u97e6\u4e1c\u5c71-\u5d4c\u5165\u5f0f\u4e13\u5bb6 | \u534e\u4e3a\u8ba4\u8bc1\u9996\u6279\u9e3f\u8499\u7cfb\u7edf\u8bfe\u7a0b\u5f00\u8005 \u5173\u6ce8\u516c\u4f17\u53f7\uff1a\u767e\u95ee\u79d1\u6280\uff08\u6700\u65b0\u8d44\u8baf\uff09 \u97e6\u4e1c\u5c71\u5b98\u65b9\u6dd8\u5b9d\u5e97\u94fa\uff1a100ask.taobao.com \u97e6\u4e1c\u5c71\u5b98\u65b9\u5728\u7ebf\u5b66\u4e60\u5e73\u53f0\uff1a100ask.org \u5fae\u4fe1\u6280\u672f\u4ea4\u6d41\u7fa4\uff1abaiwenwang1\uff08\u52a0\u5ba2\u670d\u62c9\u7fa4\uff09 QQ\u6280\u672f\u4ea4\u6d41\u7fa4\uff1a2797826447\uff08\u52a0\u5ba2\u670d\u62c9\u7fa4\uff09","title":"\u5173\u4e8e\u6211\u4eec"},{"location":"Stage1-LinuxCprogrammers/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage1_D1s-Applications/discussions/ \u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0","title":"C\u57fa\u7840"},{"location":"Stage1-LinuxCprogrammers/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/01-Introduction/#_2","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/01-Introduction/#_3","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/01-Introduction/#_4","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/01-Introduction/#_5","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/01-Introduction/#_6","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/01-Introduction/#_7","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/01-Introduction/#_8","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/01-Introduction/#_9","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/01-Introduction/#_10","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/01-Introduction/#_11","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/CFileinputoutput/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage1_D1s-Applications/discussions/ \u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0","title":"C\u57fa\u7840"},{"location":"Stage1-LinuxCprogrammers/CFileinputoutput/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/CFileinputoutput/01-Introduction/#_2","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/CFileinputoutput/01-Introduction/#_3","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/CFileinputoutput/01-Introduction/#_4","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/CFileinputoutput/01-Introduction/#_5","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/CFileinputoutput/01-Introduction/#_6","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/CFileinputoutput/01-Introduction/#_7","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/CFileinputoutput/01-Introduction/#_8","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/CFileinputoutput/01-Introduction/#_9","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/CFileinputoutput/01-Introduction/#_10","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/CFileinputoutput/01-Introduction/#_11","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GCCManual/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage1_D1s-Applications/discussions/ \u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0","title":"01 Introduction"},{"location":"Stage1-LinuxCprogrammers/GCCManual/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GCCManual/01-Introduction/#_2","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GCCManual/01-Introduction/#_3","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GCCManual/01-Introduction/#_4","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GCCManual/01-Introduction/#_5","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GCCManual/01-Introduction/#_6","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GCCManual/01-Introduction/#_7","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GCCManual/01-Introduction/#_8","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GCCManual/01-Introduction/#_9","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GCCManual/01-Introduction/#_10","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GCCManual/01-Introduction/#_11","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GNU/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage1_D1s-Applications/discussions/ \u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0","title":"OBJDUMP"},{"location":"Stage1-LinuxCprogrammers/GNU/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GNU/01-Introduction/#_2","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GNU/01-Introduction/#_3","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GNU/01-Introduction/#_4","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GNU/01-Introduction/#_5","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GNU/01-Introduction/#_6","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GNU/01-Introduction/#_7","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GNU/01-Introduction/#_8","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GNU/01-Introduction/#_9","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GNU/01-Introduction/#_10","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/GNU/01-Introduction/#_11","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DiskOperation/","text":"\u78c1\u76d8\u64cd\u4f5c fdisk\u547d\u4ee4 fidsk\u662f\u4e00\u4e2a\u7528\u6765\u521b\u5efa\u548c\u7ef4\u62a4\u78c1\u76d8\u8bbe\u5907\u5206\u533a\u7684\u4e00\u4e2a\u5b9e\u7528\u5de5\u5177\u3002 [ ubuntu@book:~ ] $ fdisk -l //\u5217\u51fa\u5f53\u524d\u7cfb\u7edf\u6240\u6709\u7684\u78c1\u76d8\u8bbe\u5907 [ ubuntu@book:~ ] $ fdisk /dev/sdc //\u64cd\u4f5c\u8bbe\u5907\u8282\u70b9\u4e3a /dev/sdc\u7684\u4e00\u4e2a\u8bbe\u5907\u3002 p : \u663e\u793a\u6240\u6709\u7684\u5206\u533a\u3002 d: \u5220\u9664\u5206\u533a\u3002 n: \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5206\u533a\u3002 t : \u66f4\u6539\u5206\u533a\u7c7b\u578b\u3002 w: \u4fdd\u5b58\u4fee\u6539\u5e76\u9000\u51fa\u3002 m: \u663e\u793a\u5e2e\u52a9\u4fe1\u606f\u3002 gparted \u56fe\u5f62\u5316\u5206\u533a\u64cd\u4f5c\u5de5\u5177\u3002 [ ubuntu@book:~ ] $ sudo apt install gparted mkfs.fat \u683c\u5f0f\u5316\u5206\u533a\u4e3a fat32\u7c7b\u578b [ ubuntu@book:~ ] $ sudo mkfs.fat /dev/sdc1 mkfs.ext\u2154/4 \u683c\u5f0f\u5316\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u4e3a Linux EXT\u7c7b\u578b\u3002 [ ubuntu@book:~ ] $ sudo mkfs.ext4 /dev/sdc2 mount\u547d\u4ee4 \u6302\u8f7d\u7cfb\u7edf\u5916\u7684\u78c1\u76d8\u5206\u533a\u6216\u8005\u76ee\u5f55\u7b49\u3002 [ubuntu@book:~]$ sudo mount -t vfat /dev/sdc1 /mnt [ubuntu@book:~]$ sudo umont /mnt [ubuntu@book:~]$ sudo umont /dev/sdc1 [ubuntu@book:~]$ sudo mount -t ext4 /dev/sdc2 /mnt [ubuntu@book:~]$ sudo umont /mnt [ubuntu@book:~]$ sudo umont /dev/sdc2 df\u547d\u4ee4 \u663e\u793aLinux\u4e0a\u6587\u4ef6\u7cfb\u7edf\u78c1\u76d8\u4f7f\u7528\u7684\u5360\u7528\u60c5\u51b5\u3002 [ ubuntu@book:~ ] $ df //\u663e\u793a\u6587\u4ef6\u7cfb\u7edf\u7684\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5\u3002 [ ubuntu@book:~ ] $ df -h //\u4ee5\u6613\u8bfb\u7684\u5f62\u5f0f\u5c55\u793a\u8f93\u51fa\u78c1\u76d8\u7684\u4f7f\u7528\u60c5\u51b5 du\u547d\u4ee4 \u7528\u4e8e\u663e\u793a\u76ee\u5f55\u6216\u6587\u4ef6\u5927\u5c0f\u3002 [ ubuntu@book:~ ] $ du //\u663e\u793a\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u53ca\u76ee\u5f55\u5927\u5c0f\u3002 [ ubuntu@book:~ ] $ du -h //\u4ee5\u6bd4\u8f83\u76f4\u89c2\u7684\u65b9\u5f0f\u663e\u793a\u6240\u6709\u6587\u4ef6\u53ca\u76ee\u5f55\u5927\u5c0f\u3002 [ ubuntu@book:~ ] $ du dir -h //\u4ee5\u6bd4\u8f83\u76f4\u89c2\u65b9\u5f0f\u663e\u793adir\u76ee\u5f55\u5927\u5c0f\u3002 [ ubuntu@book:~ ] $ du file1 //\u663e\u793afile\u6587\u4ef6\u5927\u5c0f\u3002 [ ubuntu@book:~ ] $ du dir -h --max-depth = 1 //\u4ee5\u6bd4\u8f83\u76f4\u89c2\u7684\u65b9\u5f0f\u663e\u793adir\u76ee\u5f55\u5e76\u53ea\u663e\u793a\u76ee\u5f55\u6df1\u5ea6\u4e3a1\u7ea7\u3002 dd\u547d\u4ee4 dd\u547d\u4ee4\u7528\u4e8e\u6570\u636e\u7684\u8bfb\u53d6\u8f6c\u6362\u7b49\u64cd\u4f5c\u3002 [ubuntu@book:~]$ dd --help //\u67e5\u770bdd\u5e2e\u52a9\u547d\u4ee4\u3002 [ubuntu@book:~]$ dd if=/dev/zero of=dd.img count=1024 bs=1M //\u751f\u4ea7\u4e00\u4e2a1G\u5927\u5c0f\u7684dd.img\u955c\u50cf [ubuntu@book:~]$ mkfs.ext4 dd.img //\u683c\u5f0f\u5316\u4e3a ext4\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3002 [ubuntu@book:~]$ sudo mount -t ext4 dd.img /mnt //\u6302\u8f7d\u5230 /mnt\u76ee\u5f55\u4e0b\uff0c\u4e4b\u540e\u8fdb\u884c\u64cd\u4f5c\u3002 [ubuntu@book:~]$ sudo umount /mnt //\u64cd\u4f5c\u5b8c\u6210\u540e\u5378\u8f7d\u8be5\u6302\u8f7d\u7684\u955c\u50cf\u3002","title":"\u78c1\u76d8\u64cd\u4f5c"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DiskOperation/#_1","text":"","title":"\u78c1\u76d8\u64cd\u4f5c"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DiskOperation/#fdisk","text":"fidsk\u662f\u4e00\u4e2a\u7528\u6765\u521b\u5efa\u548c\u7ef4\u62a4\u78c1\u76d8\u8bbe\u5907\u5206\u533a\u7684\u4e00\u4e2a\u5b9e\u7528\u5de5\u5177\u3002 [ ubuntu@book:~ ] $ fdisk -l //\u5217\u51fa\u5f53\u524d\u7cfb\u7edf\u6240\u6709\u7684\u78c1\u76d8\u8bbe\u5907 [ ubuntu@book:~ ] $ fdisk /dev/sdc //\u64cd\u4f5c\u8bbe\u5907\u8282\u70b9\u4e3a /dev/sdc\u7684\u4e00\u4e2a\u8bbe\u5907\u3002 p : \u663e\u793a\u6240\u6709\u7684\u5206\u533a\u3002 d: \u5220\u9664\u5206\u533a\u3002 n: \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5206\u533a\u3002 t : \u66f4\u6539\u5206\u533a\u7c7b\u578b\u3002 w: \u4fdd\u5b58\u4fee\u6539\u5e76\u9000\u51fa\u3002 m: \u663e\u793a\u5e2e\u52a9\u4fe1\u606f\u3002","title":"fdisk\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DiskOperation/#gparted","text":"\u56fe\u5f62\u5316\u5206\u533a\u64cd\u4f5c\u5de5\u5177\u3002 [ ubuntu@book:~ ] $ sudo apt install gparted","title":"gparted"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DiskOperation/#mkfsfat","text":"\u683c\u5f0f\u5316\u5206\u533a\u4e3a fat32\u7c7b\u578b [ ubuntu@book:~ ] $ sudo mkfs.fat /dev/sdc1","title":"mkfs.fat"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DiskOperation/#mkfsext234","text":"\u683c\u5f0f\u5316\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u4e3a Linux EXT\u7c7b\u578b\u3002 [ ubuntu@book:~ ] $ sudo mkfs.ext4 /dev/sdc2","title":"mkfs.ext2/3/4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DiskOperation/#mount","text":"\u6302\u8f7d\u7cfb\u7edf\u5916\u7684\u78c1\u76d8\u5206\u533a\u6216\u8005\u76ee\u5f55\u7b49\u3002 [ubuntu@book:~]$ sudo mount -t vfat /dev/sdc1 /mnt [ubuntu@book:~]$ sudo umont /mnt [ubuntu@book:~]$ sudo umont /dev/sdc1 [ubuntu@book:~]$ sudo mount -t ext4 /dev/sdc2 /mnt [ubuntu@book:~]$ sudo umont /mnt [ubuntu@book:~]$ sudo umont /dev/sdc2","title":"mount\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DiskOperation/#df","text":"\u663e\u793aLinux\u4e0a\u6587\u4ef6\u7cfb\u7edf\u78c1\u76d8\u4f7f\u7528\u7684\u5360\u7528\u60c5\u51b5\u3002 [ ubuntu@book:~ ] $ df //\u663e\u793a\u6587\u4ef6\u7cfb\u7edf\u7684\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5\u3002 [ ubuntu@book:~ ] $ df -h //\u4ee5\u6613\u8bfb\u7684\u5f62\u5f0f\u5c55\u793a\u8f93\u51fa\u78c1\u76d8\u7684\u4f7f\u7528\u60c5\u51b5","title":"df\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DiskOperation/#du","text":"\u7528\u4e8e\u663e\u793a\u76ee\u5f55\u6216\u6587\u4ef6\u5927\u5c0f\u3002 [ ubuntu@book:~ ] $ du //\u663e\u793a\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u53ca\u76ee\u5f55\u5927\u5c0f\u3002 [ ubuntu@book:~ ] $ du -h //\u4ee5\u6bd4\u8f83\u76f4\u89c2\u7684\u65b9\u5f0f\u663e\u793a\u6240\u6709\u6587\u4ef6\u53ca\u76ee\u5f55\u5927\u5c0f\u3002 [ ubuntu@book:~ ] $ du dir -h //\u4ee5\u6bd4\u8f83\u76f4\u89c2\u65b9\u5f0f\u663e\u793adir\u76ee\u5f55\u5927\u5c0f\u3002 [ ubuntu@book:~ ] $ du file1 //\u663e\u793afile\u6587\u4ef6\u5927\u5c0f\u3002 [ ubuntu@book:~ ] $ du dir -h --max-depth = 1 //\u4ee5\u6bd4\u8f83\u76f4\u89c2\u7684\u65b9\u5f0f\u663e\u793adir\u76ee\u5f55\u5e76\u53ea\u663e\u793a\u76ee\u5f55\u6df1\u5ea6\u4e3a1\u7ea7\u3002","title":"du\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DiskOperation/#dd","text":"dd\u547d\u4ee4\u7528\u4e8e\u6570\u636e\u7684\u8bfb\u53d6\u8f6c\u6362\u7b49\u64cd\u4f5c\u3002 [ubuntu@book:~]$ dd --help //\u67e5\u770bdd\u5e2e\u52a9\u547d\u4ee4\u3002 [ubuntu@book:~]$ dd if=/dev/zero of=dd.img count=1024 bs=1M //\u751f\u4ea7\u4e00\u4e2a1G\u5927\u5c0f\u7684dd.img\u955c\u50cf [ubuntu@book:~]$ mkfs.ext4 dd.img //\u683c\u5f0f\u5316\u4e3a ext4\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3002 [ubuntu@book:~]$ sudo mount -t ext4 dd.img /mnt //\u6302\u8f7d\u5230 /mnt\u76ee\u5f55\u4e0b\uff0c\u4e4b\u540e\u8fdb\u884c\u64cd\u4f5c\u3002 [ubuntu@book:~]$ sudo umount /mnt //\u64cd\u4f5c\u5b8c\u6210\u540e\u5378\u8f7d\u8be5\u6302\u8f7d\u7684\u955c\u50cf\u3002","title":"dd\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DocumentEditing/","text":"\u6587\u6863\u7f16\u8f91\u7c7b\u547d\u4ee4 cat \u547d\u4ee4 \u5728\u7ec8\u7aef\u4e0a\u663e\u793a\u6587\u4ef6\u5185\u5bb9 [ ubuntu@book:~ ] $ cat file //\u67e5\u770bfile\u6587\u6863\u5185\u5bb9 [ ubuntu@book:~ ] $ cat 11111 > file //\u91cd\u5b9a\u541111111 \u5230file\u6587\u6863\u5185\uff0c\u4e5f\u53ef\u4ee5\u7406\u89e3\u5c06 1111 > \u5199\u5165\u5230 file\u91cc\u9762\u3002 [ ubuntu@book:~ ] $ cat /proc/cpuinfo > cpuinfo.txt //\u5c06cpuinfo\u4fe1\u606f\u5199\u5165\u5230 cpuinfo.txt\u6587\u6863\u5185\u3002 [ ubuntu@book:~ ] $ cat -n file //\u663e\u793afile\u6587\u672c\u91cc\u9762\u7684\u884c\u53f7\u3002 [ ubuntu@book:~ ] $ cat > helloword.txt <<EOF >Hello >word >1111 >EOF [ ubuntu@book:~ ] $ cat helloword.txt //\u5e38\u7528\u4e8e\u811a\u672c\u5904\u7406\u7b49\u3002 Hello word 1111 echo\u547d\u4ee4 \u5728\u7ec8\u7aef\u4e0a\u8f93\u51fa\u5b57\u7b26\u4e32\uff0c\u6216\u8005\u63d0\u793ashell\u7684\u503c [ ubuntu@book:~ ] $ echo \"hello word!\" //\u5728\u7ec8\u7aef\u4e0a\u8f93\u51fa helloword \u5b57\u7b26\u4e32 [ ubuntu@book:~ ] $ echo ` date ` //\u6267\u884cdate\u547d\u4ee4\uff0c\u8fdb\u884c\u8f93\u51fa\u663e\u793a\u3002 [ ubuntu@book:~ ] $ echo -e \"Hello\\n Word!\" //\u8f93\u51fa\u7684\u5b57\u7b26\u4e32 Hell\u6362\u884c\u3002 [ ubuntu@book:~ ] $ echo -e \"\\033[31m Hello word \\033[0m\" //\u8f93\u51fa\u7ea2\u8272\u5b57\u4f53\u7684Hello word. gedit \u547d\u4ee4 \u4e00\u4e2a\u6587\u672c\u7f16\u8f91\u5668\uff0c\u7c7b\u4f3c\u4e8eVIM [ ubuntu@book:~ ] $ gedit file1 //gedit\u547d\u4ee4\u540e\u9762\u52a0 \u6587\u4ef6\u540d\uff0c\u65b0\u6587\u4ef6\u6216\u8005\u5df2\u7ecf\u5b58\u5728\u7684\u90fd\u53ef\u4ee5\u3002 rm\u547d\u4ee4 rm --help\u67e5\u770b\u8be6\u7ec6\u5b98\u65b9\u8bf4\u660e\uff0c\u4e3b\u8981\u7528\u9014\u662f\u5220\u9664\u6307\u5b9a\u7684\u6587\u4ef6\u6216\u8005\u76ee\u5f55\u3002 [ ubuntu@book:~ ] $ rm file //\u5220\u9664\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ rm -r dir //\u5220\u9664\u4e00\u4e2a\u76ee\u5f55\u3002 [ ubuntu@book:~ ] $ rm -v file //\u663e\u793a\u5220\u9664\u6587\u4ef6\u56fd\u4ea7\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ rm -rv dir //\u663e\u793a\u5220\u9664\u6587\u4ef6\u5939\u7684\u8be6\u7ec6\u8f93\u51fa\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ rm -d dir //\u5220\u9664\u7a7a\u76ee\u5f55\u3002 [ ubuntu@book:~ ] $ rm -i file //\u5220\u9664\u524d\u786e\u8ba4\uff0c\u9ed8\u8ba4 y \u8868\u793a\u786e\u8ba4\uff0c\u5176\u5b83\u5b57\u7b26\u8868\u793a\u4e0d\u786e\u8ba4\u3002 grep \u547d\u4ee4 grep --help\u53ef\u4ee5\u67e5\u770b\u5b98\u65b9\u8be6\u7ec6\u8bf4\u660e\u3002\u4e3b\u8981\u7528\u9014\u662f\u6587\u672c\u5b57\u7b26\u4e32\u641c\u7d22\u3002 [ ubuntu@book:~ ] $ grep \"fpu\" cpuinfo.txt //\u5728cpuinfo\u6587\u4ef6\u5185\u641c\u7d22 fpu\u5173\u952e\u5b57\u3002 [ ubuntu@book:~ ] $ grep \"fpu*\" cpuinfo.txt //\u5728cpuinfo\u6587\u4ef6\u5185\u641c\u7d22 fpu*\u901a\u914d\u7b26\u5173\u952e\u5b57\u3002 [ ubuntu@book:~ ] $ grep -n \"fpu\" cpuinfo.txt //\u5728cpuinfo\u641c\u7d22fpu\u5173\u952e\u5b57\u5e76\u663e\u793a\u5173\u952e\u6240\u5728\u884c\u3002 [ ubuntu@book:~ ] $ grep -nr \"fpu\" DIR //\u5728dir\u641c\u7d22\u6240\u6709\u6587\u4ef6\u5305\u542bfpu \u5173\u952e\u5b57\u5e76\u663e\u793a\u5173\u952e\u5e76\u6240\u5728\u884c\u4ee5\u53ca\u6587\u4ef6\u540d\u79f0\u3002 [ ubuntu@book:~ ] $ grep -nwr \"fpu\" DIR //\u5728dir\u641c\u7d22\u6240\u6709\u6587\u4ef6\u5305\u542bfpu\u5173\u952e\u5b57\u4ee5\u6574\u8bcd\u5339\u914d\u65b9\u5f0f\uff0c\u5e76\u663e\u793a\u5e76\u663e\u793a\u6240\u5728\u884c\u4ee5\u53ca\u6587\u4ef6\u540d\u79f0\u3002 [ ubuntu@book:~ ] $ grep -wrh \"fpu\" DIR //\u5728dir\u641c\u7d22\u6240\u6709\u6587\u4ef6\u5305\u542bfpu\u5173\u952e\u5b57\u4ee5\u6574\u8bcd\u5339\u914d\u65b9\u5f0f\uff0c\u5e76\u663e\u793a\u5e76\u663e\u793a\u6240\u5728\u884c\u4e0d\u663e\u793a\u6587\u4ef6\u540d\u79f0\u3002 \u6269\u5c55\uff1a\u4e5f\u53ef\u4ee5\u4f7f\u7528egrep \u547d\u4ee4\u8fdb\u884c\u641c\u7d22\u3002 more\u547d\u4ee4 \u4ee5\u4e00\u9875\u4e00\u9875\u7684\u5f62\u5f0f\u5728\u7ec8\u7aef\u5185\u663e\u793a\u6587\u6863\u5185\u5bb9\u3002 [ ubuntu@book:~ ] $ more file.txt //\u67e5\u770bfile.txt\u5185\u5bb9\uff0c\u4ee5\u9875\u7684\u65b9\u5f0f\u67e5\u770b\u3002 ctrl + F \uff1a\u5411\u4e0b\u6eda\u52a8\u4e00\u5c4f\u3002 \u7a7a\u683c\u952e \uff1a\u5411\u4e0b\u6eda\u52a8\u4e00\u5c4f\u3002 ctrl + B : \u5411\u4e0a\u6eda\u52a8\u4e00\u5c4f\u3002 q : \u9000\u51fa\u3002","title":"\u6587\u6863\u7f16\u8f91\u7c7b\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DocumentEditing/#_1","text":"","title":"\u6587\u6863\u7f16\u8f91\u7c7b\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DocumentEditing/#cat","text":"\u5728\u7ec8\u7aef\u4e0a\u663e\u793a\u6587\u4ef6\u5185\u5bb9 [ ubuntu@book:~ ] $ cat file //\u67e5\u770bfile\u6587\u6863\u5185\u5bb9 [ ubuntu@book:~ ] $ cat 11111 > file //\u91cd\u5b9a\u541111111 \u5230file\u6587\u6863\u5185\uff0c\u4e5f\u53ef\u4ee5\u7406\u89e3\u5c06 1111 > \u5199\u5165\u5230 file\u91cc\u9762\u3002 [ ubuntu@book:~ ] $ cat /proc/cpuinfo > cpuinfo.txt //\u5c06cpuinfo\u4fe1\u606f\u5199\u5165\u5230 cpuinfo.txt\u6587\u6863\u5185\u3002 [ ubuntu@book:~ ] $ cat -n file //\u663e\u793afile\u6587\u672c\u91cc\u9762\u7684\u884c\u53f7\u3002 [ ubuntu@book:~ ] $ cat > helloword.txt <<EOF >Hello >word >1111 >EOF [ ubuntu@book:~ ] $ cat helloword.txt //\u5e38\u7528\u4e8e\u811a\u672c\u5904\u7406\u7b49\u3002 Hello word 1111","title":"cat \u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DocumentEditing/#echo","text":"\u5728\u7ec8\u7aef\u4e0a\u8f93\u51fa\u5b57\u7b26\u4e32\uff0c\u6216\u8005\u63d0\u793ashell\u7684\u503c [ ubuntu@book:~ ] $ echo \"hello word!\" //\u5728\u7ec8\u7aef\u4e0a\u8f93\u51fa helloword \u5b57\u7b26\u4e32 [ ubuntu@book:~ ] $ echo ` date ` //\u6267\u884cdate\u547d\u4ee4\uff0c\u8fdb\u884c\u8f93\u51fa\u663e\u793a\u3002 [ ubuntu@book:~ ] $ echo -e \"Hello\\n Word!\" //\u8f93\u51fa\u7684\u5b57\u7b26\u4e32 Hell\u6362\u884c\u3002 [ ubuntu@book:~ ] $ echo -e \"\\033[31m Hello word \\033[0m\" //\u8f93\u51fa\u7ea2\u8272\u5b57\u4f53\u7684Hello word.","title":"echo\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DocumentEditing/#gedit","text":"\u4e00\u4e2a\u6587\u672c\u7f16\u8f91\u5668\uff0c\u7c7b\u4f3c\u4e8eVIM [ ubuntu@book:~ ] $ gedit file1 //gedit\u547d\u4ee4\u540e\u9762\u52a0 \u6587\u4ef6\u540d\uff0c\u65b0\u6587\u4ef6\u6216\u8005\u5df2\u7ecf\u5b58\u5728\u7684\u90fd\u53ef\u4ee5\u3002","title":"gedit \u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DocumentEditing/#rm","text":"rm --help\u67e5\u770b\u8be6\u7ec6\u5b98\u65b9\u8bf4\u660e\uff0c\u4e3b\u8981\u7528\u9014\u662f\u5220\u9664\u6307\u5b9a\u7684\u6587\u4ef6\u6216\u8005\u76ee\u5f55\u3002 [ ubuntu@book:~ ] $ rm file //\u5220\u9664\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ rm -r dir //\u5220\u9664\u4e00\u4e2a\u76ee\u5f55\u3002 [ ubuntu@book:~ ] $ rm -v file //\u663e\u793a\u5220\u9664\u6587\u4ef6\u56fd\u4ea7\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ rm -rv dir //\u663e\u793a\u5220\u9664\u6587\u4ef6\u5939\u7684\u8be6\u7ec6\u8f93\u51fa\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ rm -d dir //\u5220\u9664\u7a7a\u76ee\u5f55\u3002 [ ubuntu@book:~ ] $ rm -i file //\u5220\u9664\u524d\u786e\u8ba4\uff0c\u9ed8\u8ba4 y \u8868\u793a\u786e\u8ba4\uff0c\u5176\u5b83\u5b57\u7b26\u8868\u793a\u4e0d\u786e\u8ba4\u3002","title":"rm\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DocumentEditing/#grep","text":"grep --help\u53ef\u4ee5\u67e5\u770b\u5b98\u65b9\u8be6\u7ec6\u8bf4\u660e\u3002\u4e3b\u8981\u7528\u9014\u662f\u6587\u672c\u5b57\u7b26\u4e32\u641c\u7d22\u3002 [ ubuntu@book:~ ] $ grep \"fpu\" cpuinfo.txt //\u5728cpuinfo\u6587\u4ef6\u5185\u641c\u7d22 fpu\u5173\u952e\u5b57\u3002 [ ubuntu@book:~ ] $ grep \"fpu*\" cpuinfo.txt //\u5728cpuinfo\u6587\u4ef6\u5185\u641c\u7d22 fpu*\u901a\u914d\u7b26\u5173\u952e\u5b57\u3002 [ ubuntu@book:~ ] $ grep -n \"fpu\" cpuinfo.txt //\u5728cpuinfo\u641c\u7d22fpu\u5173\u952e\u5b57\u5e76\u663e\u793a\u5173\u952e\u6240\u5728\u884c\u3002 [ ubuntu@book:~ ] $ grep -nr \"fpu\" DIR //\u5728dir\u641c\u7d22\u6240\u6709\u6587\u4ef6\u5305\u542bfpu \u5173\u952e\u5b57\u5e76\u663e\u793a\u5173\u952e\u5e76\u6240\u5728\u884c\u4ee5\u53ca\u6587\u4ef6\u540d\u79f0\u3002 [ ubuntu@book:~ ] $ grep -nwr \"fpu\" DIR //\u5728dir\u641c\u7d22\u6240\u6709\u6587\u4ef6\u5305\u542bfpu\u5173\u952e\u5b57\u4ee5\u6574\u8bcd\u5339\u914d\u65b9\u5f0f\uff0c\u5e76\u663e\u793a\u5e76\u663e\u793a\u6240\u5728\u884c\u4ee5\u53ca\u6587\u4ef6\u540d\u79f0\u3002 [ ubuntu@book:~ ] $ grep -wrh \"fpu\" DIR //\u5728dir\u641c\u7d22\u6240\u6709\u6587\u4ef6\u5305\u542bfpu\u5173\u952e\u5b57\u4ee5\u6574\u8bcd\u5339\u914d\u65b9\u5f0f\uff0c\u5e76\u663e\u793a\u5e76\u663e\u793a\u6240\u5728\u884c\u4e0d\u663e\u793a\u6587\u4ef6\u540d\u79f0\u3002 \u6269\u5c55\uff1a\u4e5f\u53ef\u4ee5\u4f7f\u7528egrep \u547d\u4ee4\u8fdb\u884c\u641c\u7d22\u3002","title":"grep \u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/DocumentEditing/#more","text":"\u4ee5\u4e00\u9875\u4e00\u9875\u7684\u5f62\u5f0f\u5728\u7ec8\u7aef\u5185\u663e\u793a\u6587\u6863\u5185\u5bb9\u3002 [ ubuntu@book:~ ] $ more file.txt //\u67e5\u770bfile.txt\u5185\u5bb9\uff0c\u4ee5\u9875\u7684\u65b9\u5f0f\u67e5\u770b\u3002 ctrl + F \uff1a\u5411\u4e0b\u6eda\u52a8\u4e00\u5c4f\u3002 \u7a7a\u683c\u952e \uff1a\u5411\u4e0b\u6eda\u52a8\u4e00\u5c4f\u3002 ctrl + B : \u5411\u4e0a\u6eda\u52a8\u4e00\u5c4f\u3002 q : \u9000\u51fa\u3002","title":"more\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/","text":"\u6587\u4ef6\u7ba1\u7406\u7c7b\u547d\u4ee4 ls\u547d\u4ee4 \u53ef\u4ee5\u4f7f\u7528ls --help\u53bb\u770b\u5b98\u65b9\u7684\u8bf4\u660e\u3002\u7528\u4e8e\u67e5\u770b\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 \u76ee\u5f55 \u6587\u4ef6\u8be6\u7ec6\u53c2\u6570\u7b49\u4fe1\u606f\u3002 ls \u67e5\u770b\u5f53\u7136\u76ee\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff0c\u4ee5\u53ca\u6587\u4ef6\u5939\uff0c\uff08\u4e0d\u5305\u542b\u9690\u85cf\u6587\u4ef6\uff09\u3002 ls -l \u67e5\u770b\u5f53\u7136\u76ee\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff0c\u4ee5\u53ca\u6587\u4ef6\u5939\uff0c\u7684\u8be6\u7ec6\u5c5e\u6027\u4fe1\u606f\u3002\uff08\u4e0d\u5305\u542b\u9690\u85cf\u6587\u4ef6\uff09\u3002 ls -a \u67e5\u770b\u5f53\u7136\u76ee\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff0c\u4ee5\u53ca\u6587\u4ef6\u5939\uff0c\uff08\u5305\u542b\u9690\u85cf\u6587\u4ef6\uff09\u3002 ls DIR \u67e5\u770bDIR(\u76ee\u6807\u76ee\u5f55)\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff0c\uff08\u4e0d\u5305\u542b\u9690\u85cf\u6587\u4ef6\uff09\u3002 \u540e\u9762\u52a0\u540c\u7b49\u7684 ls \u53c2\u6570\uff0c\u6bd4\u5982 ls Desktop -la \u5c31\u662f\u67e5\u770b Desktop\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u5939 \u6587\u4ef6 \u4ee5\u53ca\u6240\u6709\u7684\u9690\u85cf\u6587\u4ef6\u8fd8\u6709\u8be6\u7ec6\u7684\u5c5e\u6027\u4fe1\u606f\u7b49\u3002 cd \u547d\u4ee4\uff1a \u53ef\u4ee5\u4f7f\u7528 cd --help\u53bb\u67e5\u770b\u5b98\u65b9\u8bf4\u660e\u3002 \u6539\u53d8shell\u5de5\u4f5c\u76ee\u5f55\u3002 cd DIR \u8fdb\u5165\uff08\u5207\u6362\uff09\u5230DIR\u76ee\u6807\u76ee\u5f55\u4e0b\u3002\u6bd4\u5982\u4f7f\u7528 cd Desktop \u8fdb\u5165\u5230Desktop\u76ee\u5f55\u4e0b\u3002 cd - \u5207\u6362\u5230\u4e0a\u6b21\u6267\u884ccd DIR\u76ee\u5f55\u5185\u3002 \u4e3e\u4f8b\uff0c\u9996\u5148\u5728 ~ \u76ee\u5f55\uff0c\u4e4b\u540e\u6211\u4eec\u4f7f\u7528 cd Desktop \u8fdb\u5165\u5230Desktop\u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u4f7f\u7528 cd - \u547d\u4ee4\u76f4\u63a5\u5207\u6362\u56de ~ \u52a0\u76ee\u5f55\u4e0b\u3002 cd . //\u8868\u793a\u8fdb\u5165\u5230\u5f53\u524d\u76ee\u5f55 cd .. //\u8868\u793a\u5207\u6362\u5230\u4e0a\u4e00\u7ea7\u76ee\u5f55 cd ../.. //\u8868\u793a\u5207\u6362\u5230 \u4e0a\u4e0a\u7ea7\u76ee\u5f55\u3002 cp\u547d\u4ee4\uff1a \u53ef\u4ee5\u4f7f\u7528 cp --help\u53bb\u67e5\u770b\u5b98\u65b9\u8bf4\u660e\u3002\u5c06\u6307\u5b9a\u7684<\u6e90\u6587\u4ef6>\u590d\u5236\u81f3<\u76ee\u6807\u6587\u4ef6>\uff0c\u6216\u5c06\u591a\u4e2a<\u6e90\u6587\u4ef6>\u590d\u5236\u81f3<\u76ee\u6807\u76ee\u5f55>\u3002 cp -r DIR1 DIR1 //\u590d\u5236DIR1\u76ee\u5f55\u5230DIR2\u76ee\u5f55 cp file1 file2 //\u590d\u5236file1\u6587\u4ef6\u5230file2 cp -d link DIR //\u590d\u5236\u4e00\u4e2a\u94fe\u63a5\u6587\u4ef6\u5230DIR\u76ee\u5f55\u5185 cp -p file1 file3 //\u590d\u5236file1\u6587\u4ef6\u53ca\u6240\u6709\u5c5e\u6027\u5230file3 cp -f //\u5f3a\u5236\u590d\u5236 \u67d0\u4e2a\u6587\u4ef6\u6216\u8005\u6587\u4ef6\u5939 cp -v //\u663e\u793a\u590d\u5236\u7684\u8be6\u7ec6\u4fe1\u606f\u7b49\u3002 mv\u547d\u4ee4 \u53ef\u4ee5\u4f7f\u7528mv --help\u547d\u4ee4\u67e5\u770b\u5b98\u65b9\u8bf4\u660e\uff0c\u5c06<\u6e90\u6587\u4ef6>\u91cd\u547d\u540d\u4e3a<\u76ee\u6807\u6587\u4ef6>\uff0c\u6216\u5c06\u6e90\u6587\u4ef6\u79fb\u52a8\u81f3\u6307\u5b9a<\u76ee\u5f55>\u3002 mv file1 file2 //\u5c06file1\u91cd\u547d\u540d\u4e3afile2 mv dir1 dir2 //\u5c06dir1\u91cd\u547d\u540d\u4e3adir2 mv file1 dir2 //\u5c06file1\u79fb\u52a8\u81f3dir2\u76ee\u5f55\u5185\u3002 mv dir2 dir1/ //\u5c06dir2\u76ee\u5f55\u79fb\u52a8\u81f3dir1\u76ee\u5f55\u5185\u3002 mv -f //\u5f3a\u884c\u79fb\u52a8\u6216\u91cd\u547d\u540d\u64cd\u4f5c\u3002 mv -v //\u663e\u793a\u79fb\u52a8\u6216\u8005\u91cd\u547d\u540d\u7b49\u64cd\u4f5c\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 pwd\u547d\u4ee4 \u6253\u5370\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u7684\u5b8c\u6574\u8def\u5f84\u3002 pwd //\u663e\u793a\u5b8c\u6574\u7684\u76ee\u5f55\u8def\u5f84\u3002 mkdir\u547d\u4ee4 \u521b\u5efa\u4e00\u4e2a\u6216\u591a\u4e2a\u4e0d\u5b58\u5728\u7684 \u76ee\u5f55\uff0c\u6216\u8005\u5728\u67d0\u4e2a\u76ee\u5f55\u4e0b\u521b\u5efa\u76ee\u5f55\u3002 mkdir dir1 //\u521b\u5efa\u4e00\u4e2adir1\u76ee\u5f55 mkdir dir1 dir2 //\u521b\u5efa\u4e00\u4e2adir1 dir2\u76ee\u5f55 mkdir -p dir1/dir1.1 //\u5728dir1\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a dir1.1\u76ee\u5f55 rmdir \u5220\u9664\u4e00\u4e2adir\u76ee\u5f55\u6216\u8005\u591a\u4e2adir\u76ee\u5f55\uff0c\u524d\u63d0\u8981\u6c42 dir\u76ee\u5f55\u4e0b\u6ca1\u6709\u6587\u4ef6\u3002 chown \u7528\u4e8e\u8bbe\u7f6e\u6587\u4ef6\u6240\u6709\u8005\u548c\u6587\u4ef6\u5173\u8054\u7ec4\u7684\u547d\u4ee4\u3002 [ ubuntu@book:~ ] $ chown root:root test.txt //\u4fee\u6539\u8fd9\u4e2a\u6587\u4ef6\u7684\u7528\u6237\u7ec4\u548c\u7528\u6237ID\u3002 [ ubuntu@book:~ ] $ chown -R root:root ./* //\u4fee\u6539\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6\u53ca\u6587\u4ef6\u5939\u7684\u7528\u6237\u7ec4\u548c\u7528\u6237ID\u3002 touch \u7528\u4e8e\u4fee\u6539\u6587\u4ef6\u6216\u8005\u76ee\u5f55\u7684\u65f6\u95f4\u5c5e\u6027\uff0c\u6216\u8005\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ touch file1.txt //\u4fee\u6539\u8fd9\u4e2a\u6587\u4ef6\u7684\u65f6\u95f4\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u3002 file \u7528\u4e8e\u663e\u793a\u6587\u4ef6\u7c7b\u578b\u7b49\u8be6\u7ec6\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ file file.txt //\u7528\u4e8e\u663e\u793a\u8fd9\u4e2a\u6587\u4ef6\u7684\u8be6\u7ec6\u7c7b\u578b\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ file -i file.txt //\u7528\u4e8e\u663e\u793a\u8fd9\u4e2a\u6587\u4ef6\u7684MIME\u7c7b\u522b\u3002 chmod\u547d\u4ee4 [ ubuntu@book:~ ] $ chmod ugo+x test.sh //\u7ed9\u8fd9\u4e2a\u6587\u4ef6\u589e\u52a0\u6240\u6709\u7528\u6237\u7684\u53ef\u6267\u884c\u6743\u9650\u3002 [ ubuntu@book:~ ] $ chmod a+x test.sh //\u7ed9\u8fd9\u4e2a\u6587\u4ef6\u589e\u52a0\u6240\u6709\u7528\u6237\u7684\u53ef\u6267\u884c\u6743\u9650\u3002 [ ubuntu@book:~ ] $ chmod a-x test.sh //\u7ed9\u8fd9\u4e2a\u6587\u4ef6\u79fb\u9664\u6240\u6709\u7528\u6237\u7684\u53ef\u6267\u884c\u6743\u9650\u3002 [ ubuntu@book:~ ] $ chmod 755 test.sh //\u7ed9\u8fd9\u4e2a\u6587\u4ef6user\u8bbe\u7f6e\u4e3arwx group\u8bbe\u7f6e\u4e3ar x,\u7ed9\u5176\u5b83\u7528\u6237\u4e5f\u662f\u8bbe\u7f6e\u4e3ar x. [ ubuntu@book:~ ] $ chmod -R 755 ./* //\u7ed9\u8fd9\u4e2a\u8def\u5f84\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u673a\u53ca\u76ee\u5f55\u8bbe\u7f6e\u4e3a rwx rx rx\u6743\u9650\u3002 ln\u547d\u4ee4 \u521b\u5efa\u94fe\u63a5\u6587\u4ef6\u547d\u4ee4 [ ubuntu@book:~ ] $ ln -s file1.txt doc.txt //\u7ed9file1.txt\u521b\u5efa\u4e00\u4e2a\u8f6f\u94fe\u63a5\u540d\u4e3adoc.txt [ ubuntu@book:~ ] $ ln file1.txt doc.txt //\u7ed9file1.txt\u521b\u5efa\u4e00\u4e2a\u786c\u94fe\u63a5\u540d\u4e3adoc.txt tar\u547d\u4ee4 \u5bf9\u6587\u4ef6\u8fdb\u884c\u538b\u7f29\u4e0e\u89e3\u538b\u7f29\u64cd\u4f5c\u3002 [ ubuntu@book:~ ] $ tar -czf file.tar.gz file/ //\u538b\u7f29 file/\u6587\u4ef6\u5939\u4e3agz\u683c\u5f0f\uff0c\u538b\u7f29\u5305\u540d\u79f0\u4e3a file.tar.gz [ ubuntu@book:~ ] $ tar -xzf file.tar.gz //\u89e3\u538b\u7f29 file.tar.gz\u538b\u7f29\u5305 [ ubuntu@book:~ ] $ tar -cjf file.tar.bz file/ //\u538b\u7f29 file/\u6587\u4ef6\u5939\u4e3abz\u683c\u5f0f\uff0c\u538b\u7f29\u5305\u540d\u79f0\u4e3a file.tar.bz [ ubuntu@book:~ ] $ tar -xjf file.tar.gz //\u89e3\u538b\u7f29file.tar.gz\u538b\u7f29\u5305. [ ubuntu@book:~ ] $ tar czf - file/ | split -d -b100m - file.tar.gz //\u5c06file\u6587\u4ef6\u5939\u8fdb\u884c\u5206\u5272\uff0c\u4ee5100M\u5927\u5c0f\u8fdb\u884c\u5206\u5272\u64cd\u4f5c\uff0c\u751f\u4ea7\u7684\u538b\u7f29\u5305\u683c\u5f0f\u4e3a file.tar.gz [ ubuntu@book:~ ] $ cat file.tar.gz0* | tar zx //\u5c06\u5206\u5377\u538b\u7f29\u7684\u538b\u7f29\u5305\u8fdb\u884c\u7edf\u4e00\u89e3\u538b\u7f29\u64cd\u4f5c\u3002 7z\u547d\u4ee4 \u4ee5.7z\u7ed3\u5c3e\u7684\u538b\u7f29\u5305\u8fdb\u884c\u89e3\u538b\u7f29\u6216\u8005\u538b\u7f29\u64cd\u4f5c\u3002 [ ubuntu@book:~ ] $ sudo apt install p7zip-full //\u5b89\u88c57z\u538b\u7f29\u89e3\u538b\u7f29\u5de5\u5177 [ ubuntu@book:~ ] $ 7z a -t7z -r test1.7z dir1/ //\u538b\u7f29dir1\u76ee\u5f55\u4e3atest1.7z\u538b\u7f29\u5305\u3002 [ ubuntu@book:~ ] $ 7z x test1.7z -r -odir2/ //\u89e3\u538b\u7f29\u540d\u4e3a test1.7z\uff0c\u9012\u5f52\u89e3\u538b\u8f93\u51fa\u5230dir2\u76ee\u5f55\u5185\u3002 zip\u547d\u4ee4 \u4ee5.zip\u7ed3\u5c3e\u7684\u538b\u7f29\u5305\uff0c\u538b\u7f29\u4e0e\u89e3\u538b\u7f29\u3002 [ ubuntu@book:~ ] $ zip -r test1.zip dir1 file1 //\u5c06dir1 file1\u538b\u7f29\u4e3a test1.zip\u538b\u7f29\u5305\u3002 [ ubuntu@book:~ ] $ unzip -v test1.zip //\u67e5\u770b\u538b\u7f29\u5305test1.zip\u91cc\u9762\u7684\u5185\u5bb9 [ ubuntu@book:~ ] $ unzip -t test1.zip //\u67e5\u770b\u4e00\u4e0btest1.zip\u538b\u7f29\u5305\u5b8c\u6574\u6027 [ ubuntu@book:~ ] $ unzip -d tmp test1.zip //\u89e3\u538b\u7f29test1.zip\u5230 tmp\u76ee\u5f55\u4e0b\u3002 [ ubuntu@book:~ ] $ zip test1.zip -d file1 //\u5355\u72ec\u4ecetest1.zip\u538b\u7f29\u5305\u91cc\u5220\u9664 file1\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ unzip -v test1.zip //\u67e5\u770b\u538b\u7f29\u5305test1.zip\u91cc\u9762\u7684\u5185\u5bb9 gzip\u547d\u4ee4 \u538b\u7f29.gz\u7ed3\u5c3e\u7684\u538b\u7f29\u5305\u3002\u4ed6\u53ea\u80fd\u538b\u7f29\u5355\u4e2a\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ gzip test1.iso //\u538b\u7f29\u4e00\u4e2a\u540d\u4e3atest1.iso\u4e3agz\u538b\u7f29\u683c\u5f0f\u3002 [ ubuntu@book:~ ] $ gunzip test1.iso.gz //\u89e3\u538b\u7f29test1.iso.gz\u538b\u7f29\u5305\u3002 bzip2\u547d\u4ee4 \u538b\u7f29\u4e3a.bz2\u7684\u538b\u7f29\u5305\u4ee5\u53ca\u89e3\u538b\u7f29\u3002 [ ubuntu@book:~ ] $ bzip2 file.txt //\u538b\u7f29\u4e00\u4e2afile.txt,\u538b\u7f29\u540e\u540d\u79f0\u4e3afile.txt.bz2 [ ubuntu@book:~ ] $ bunzip2 file.txt.bz2 //\u89e3\u538b\u7f29file.txt.bz2","title":"\u6587\u4ef6\u7ba1\u7406\u7c7b\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#_1","text":"","title":"\u6587\u4ef6\u7ba1\u7406\u7c7b\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#ls","text":"\u53ef\u4ee5\u4f7f\u7528ls --help\u53bb\u770b\u5b98\u65b9\u7684\u8bf4\u660e\u3002\u7528\u4e8e\u67e5\u770b\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 \u76ee\u5f55 \u6587\u4ef6\u8be6\u7ec6\u53c2\u6570\u7b49\u4fe1\u606f\u3002 ls \u67e5\u770b\u5f53\u7136\u76ee\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff0c\u4ee5\u53ca\u6587\u4ef6\u5939\uff0c\uff08\u4e0d\u5305\u542b\u9690\u85cf\u6587\u4ef6\uff09\u3002 ls -l \u67e5\u770b\u5f53\u7136\u76ee\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff0c\u4ee5\u53ca\u6587\u4ef6\u5939\uff0c\u7684\u8be6\u7ec6\u5c5e\u6027\u4fe1\u606f\u3002\uff08\u4e0d\u5305\u542b\u9690\u85cf\u6587\u4ef6\uff09\u3002 ls -a \u67e5\u770b\u5f53\u7136\u76ee\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff0c\u4ee5\u53ca\u6587\u4ef6\u5939\uff0c\uff08\u5305\u542b\u9690\u85cf\u6587\u4ef6\uff09\u3002 ls DIR \u67e5\u770bDIR(\u76ee\u6807\u76ee\u5f55)\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff0c\uff08\u4e0d\u5305\u542b\u9690\u85cf\u6587\u4ef6\uff09\u3002 \u540e\u9762\u52a0\u540c\u7b49\u7684 ls \u53c2\u6570\uff0c\u6bd4\u5982 ls Desktop -la \u5c31\u662f\u67e5\u770b Desktop\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u5939 \u6587\u4ef6 \u4ee5\u53ca\u6240\u6709\u7684\u9690\u85cf\u6587\u4ef6\u8fd8\u6709\u8be6\u7ec6\u7684\u5c5e\u6027\u4fe1\u606f\u7b49\u3002","title":"ls\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#cd","text":"\u53ef\u4ee5\u4f7f\u7528 cd --help\u53bb\u67e5\u770b\u5b98\u65b9\u8bf4\u660e\u3002 \u6539\u53d8shell\u5de5\u4f5c\u76ee\u5f55\u3002 cd DIR \u8fdb\u5165\uff08\u5207\u6362\uff09\u5230DIR\u76ee\u6807\u76ee\u5f55\u4e0b\u3002\u6bd4\u5982\u4f7f\u7528 cd Desktop \u8fdb\u5165\u5230Desktop\u76ee\u5f55\u4e0b\u3002 cd - \u5207\u6362\u5230\u4e0a\u6b21\u6267\u884ccd DIR\u76ee\u5f55\u5185\u3002 \u4e3e\u4f8b\uff0c\u9996\u5148\u5728 ~ \u76ee\u5f55\uff0c\u4e4b\u540e\u6211\u4eec\u4f7f\u7528 cd Desktop \u8fdb\u5165\u5230Desktop\u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u4f7f\u7528 cd - \u547d\u4ee4\u76f4\u63a5\u5207\u6362\u56de ~ \u52a0\u76ee\u5f55\u4e0b\u3002 cd . //\u8868\u793a\u8fdb\u5165\u5230\u5f53\u524d\u76ee\u5f55 cd .. //\u8868\u793a\u5207\u6362\u5230\u4e0a\u4e00\u7ea7\u76ee\u5f55 cd ../.. //\u8868\u793a\u5207\u6362\u5230 \u4e0a\u4e0a\u7ea7\u76ee\u5f55\u3002","title":"cd \u547d\u4ee4\uff1a"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#cp","text":"\u53ef\u4ee5\u4f7f\u7528 cp --help\u53bb\u67e5\u770b\u5b98\u65b9\u8bf4\u660e\u3002\u5c06\u6307\u5b9a\u7684<\u6e90\u6587\u4ef6>\u590d\u5236\u81f3<\u76ee\u6807\u6587\u4ef6>\uff0c\u6216\u5c06\u591a\u4e2a<\u6e90\u6587\u4ef6>\u590d\u5236\u81f3<\u76ee\u6807\u76ee\u5f55>\u3002 cp -r DIR1 DIR1 //\u590d\u5236DIR1\u76ee\u5f55\u5230DIR2\u76ee\u5f55 cp file1 file2 //\u590d\u5236file1\u6587\u4ef6\u5230file2 cp -d link DIR //\u590d\u5236\u4e00\u4e2a\u94fe\u63a5\u6587\u4ef6\u5230DIR\u76ee\u5f55\u5185 cp -p file1 file3 //\u590d\u5236file1\u6587\u4ef6\u53ca\u6240\u6709\u5c5e\u6027\u5230file3 cp -f //\u5f3a\u5236\u590d\u5236 \u67d0\u4e2a\u6587\u4ef6\u6216\u8005\u6587\u4ef6\u5939 cp -v //\u663e\u793a\u590d\u5236\u7684\u8be6\u7ec6\u4fe1\u606f\u7b49\u3002","title":"cp\u547d\u4ee4\uff1a"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#mv","text":"\u53ef\u4ee5\u4f7f\u7528mv --help\u547d\u4ee4\u67e5\u770b\u5b98\u65b9\u8bf4\u660e\uff0c\u5c06<\u6e90\u6587\u4ef6>\u91cd\u547d\u540d\u4e3a<\u76ee\u6807\u6587\u4ef6>\uff0c\u6216\u5c06\u6e90\u6587\u4ef6\u79fb\u52a8\u81f3\u6307\u5b9a<\u76ee\u5f55>\u3002 mv file1 file2 //\u5c06file1\u91cd\u547d\u540d\u4e3afile2 mv dir1 dir2 //\u5c06dir1\u91cd\u547d\u540d\u4e3adir2 mv file1 dir2 //\u5c06file1\u79fb\u52a8\u81f3dir2\u76ee\u5f55\u5185\u3002 mv dir2 dir1/ //\u5c06dir2\u76ee\u5f55\u79fb\u52a8\u81f3dir1\u76ee\u5f55\u5185\u3002 mv -f //\u5f3a\u884c\u79fb\u52a8\u6216\u91cd\u547d\u540d\u64cd\u4f5c\u3002 mv -v //\u663e\u793a\u79fb\u52a8\u6216\u8005\u91cd\u547d\u540d\u7b49\u64cd\u4f5c\u7684\u8be6\u7ec6\u4fe1\u606f\u3002","title":"mv\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#pwd","text":"\u6253\u5370\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u7684\u5b8c\u6574\u8def\u5f84\u3002 pwd //\u663e\u793a\u5b8c\u6574\u7684\u76ee\u5f55\u8def\u5f84\u3002","title":"pwd\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#mkdir","text":"\u521b\u5efa\u4e00\u4e2a\u6216\u591a\u4e2a\u4e0d\u5b58\u5728\u7684 \u76ee\u5f55\uff0c\u6216\u8005\u5728\u67d0\u4e2a\u76ee\u5f55\u4e0b\u521b\u5efa\u76ee\u5f55\u3002 mkdir dir1 //\u521b\u5efa\u4e00\u4e2adir1\u76ee\u5f55 mkdir dir1 dir2 //\u521b\u5efa\u4e00\u4e2adir1 dir2\u76ee\u5f55 mkdir -p dir1/dir1.1 //\u5728dir1\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a dir1.1\u76ee\u5f55 rmdir \u5220\u9664\u4e00\u4e2adir\u76ee\u5f55\u6216\u8005\u591a\u4e2adir\u76ee\u5f55\uff0c\u524d\u63d0\u8981\u6c42 dir\u76ee\u5f55\u4e0b\u6ca1\u6709\u6587\u4ef6\u3002","title":"mkdir\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#chown","text":"\u7528\u4e8e\u8bbe\u7f6e\u6587\u4ef6\u6240\u6709\u8005\u548c\u6587\u4ef6\u5173\u8054\u7ec4\u7684\u547d\u4ee4\u3002 [ ubuntu@book:~ ] $ chown root:root test.txt //\u4fee\u6539\u8fd9\u4e2a\u6587\u4ef6\u7684\u7528\u6237\u7ec4\u548c\u7528\u6237ID\u3002 [ ubuntu@book:~ ] $ chown -R root:root ./* //\u4fee\u6539\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6\u53ca\u6587\u4ef6\u5939\u7684\u7528\u6237\u7ec4\u548c\u7528\u6237ID\u3002","title":"chown"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#touch","text":"\u7528\u4e8e\u4fee\u6539\u6587\u4ef6\u6216\u8005\u76ee\u5f55\u7684\u65f6\u95f4\u5c5e\u6027\uff0c\u6216\u8005\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ touch file1.txt //\u4fee\u6539\u8fd9\u4e2a\u6587\u4ef6\u7684\u65f6\u95f4\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u3002","title":"touch"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#file","text":"\u7528\u4e8e\u663e\u793a\u6587\u4ef6\u7c7b\u578b\u7b49\u8be6\u7ec6\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ file file.txt //\u7528\u4e8e\u663e\u793a\u8fd9\u4e2a\u6587\u4ef6\u7684\u8be6\u7ec6\u7c7b\u578b\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ file -i file.txt //\u7528\u4e8e\u663e\u793a\u8fd9\u4e2a\u6587\u4ef6\u7684MIME\u7c7b\u522b\u3002","title":"file"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#chmod","text":"[ ubuntu@book:~ ] $ chmod ugo+x test.sh //\u7ed9\u8fd9\u4e2a\u6587\u4ef6\u589e\u52a0\u6240\u6709\u7528\u6237\u7684\u53ef\u6267\u884c\u6743\u9650\u3002 [ ubuntu@book:~ ] $ chmod a+x test.sh //\u7ed9\u8fd9\u4e2a\u6587\u4ef6\u589e\u52a0\u6240\u6709\u7528\u6237\u7684\u53ef\u6267\u884c\u6743\u9650\u3002 [ ubuntu@book:~ ] $ chmod a-x test.sh //\u7ed9\u8fd9\u4e2a\u6587\u4ef6\u79fb\u9664\u6240\u6709\u7528\u6237\u7684\u53ef\u6267\u884c\u6743\u9650\u3002 [ ubuntu@book:~ ] $ chmod 755 test.sh //\u7ed9\u8fd9\u4e2a\u6587\u4ef6user\u8bbe\u7f6e\u4e3arwx group\u8bbe\u7f6e\u4e3ar x,\u7ed9\u5176\u5b83\u7528\u6237\u4e5f\u662f\u8bbe\u7f6e\u4e3ar x. [ ubuntu@book:~ ] $ chmod -R 755 ./* //\u7ed9\u8fd9\u4e2a\u8def\u5f84\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u673a\u53ca\u76ee\u5f55\u8bbe\u7f6e\u4e3a rwx rx rx\u6743\u9650\u3002","title":"chmod\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#ln","text":"\u521b\u5efa\u94fe\u63a5\u6587\u4ef6\u547d\u4ee4 [ ubuntu@book:~ ] $ ln -s file1.txt doc.txt //\u7ed9file1.txt\u521b\u5efa\u4e00\u4e2a\u8f6f\u94fe\u63a5\u540d\u4e3adoc.txt [ ubuntu@book:~ ] $ ln file1.txt doc.txt //\u7ed9file1.txt\u521b\u5efa\u4e00\u4e2a\u786c\u94fe\u63a5\u540d\u4e3adoc.txt","title":"ln\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#tar","text":"\u5bf9\u6587\u4ef6\u8fdb\u884c\u538b\u7f29\u4e0e\u89e3\u538b\u7f29\u64cd\u4f5c\u3002 [ ubuntu@book:~ ] $ tar -czf file.tar.gz file/ //\u538b\u7f29 file/\u6587\u4ef6\u5939\u4e3agz\u683c\u5f0f\uff0c\u538b\u7f29\u5305\u540d\u79f0\u4e3a file.tar.gz [ ubuntu@book:~ ] $ tar -xzf file.tar.gz //\u89e3\u538b\u7f29 file.tar.gz\u538b\u7f29\u5305 [ ubuntu@book:~ ] $ tar -cjf file.tar.bz file/ //\u538b\u7f29 file/\u6587\u4ef6\u5939\u4e3abz\u683c\u5f0f\uff0c\u538b\u7f29\u5305\u540d\u79f0\u4e3a file.tar.bz [ ubuntu@book:~ ] $ tar -xjf file.tar.gz //\u89e3\u538b\u7f29file.tar.gz\u538b\u7f29\u5305. [ ubuntu@book:~ ] $ tar czf - file/ | split -d -b100m - file.tar.gz //\u5c06file\u6587\u4ef6\u5939\u8fdb\u884c\u5206\u5272\uff0c\u4ee5100M\u5927\u5c0f\u8fdb\u884c\u5206\u5272\u64cd\u4f5c\uff0c\u751f\u4ea7\u7684\u538b\u7f29\u5305\u683c\u5f0f\u4e3a file.tar.gz [ ubuntu@book:~ ] $ cat file.tar.gz0* | tar zx //\u5c06\u5206\u5377\u538b\u7f29\u7684\u538b\u7f29\u5305\u8fdb\u884c\u7edf\u4e00\u89e3\u538b\u7f29\u64cd\u4f5c\u3002","title":"tar\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#7z","text":"\u4ee5.7z\u7ed3\u5c3e\u7684\u538b\u7f29\u5305\u8fdb\u884c\u89e3\u538b\u7f29\u6216\u8005\u538b\u7f29\u64cd\u4f5c\u3002 [ ubuntu@book:~ ] $ sudo apt install p7zip-full //\u5b89\u88c57z\u538b\u7f29\u89e3\u538b\u7f29\u5de5\u5177 [ ubuntu@book:~ ] $ 7z a -t7z -r test1.7z dir1/ //\u538b\u7f29dir1\u76ee\u5f55\u4e3atest1.7z\u538b\u7f29\u5305\u3002 [ ubuntu@book:~ ] $ 7z x test1.7z -r -odir2/ //\u89e3\u538b\u7f29\u540d\u4e3a test1.7z\uff0c\u9012\u5f52\u89e3\u538b\u8f93\u51fa\u5230dir2\u76ee\u5f55\u5185\u3002","title":"7z\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#zip","text":"\u4ee5.zip\u7ed3\u5c3e\u7684\u538b\u7f29\u5305\uff0c\u538b\u7f29\u4e0e\u89e3\u538b\u7f29\u3002 [ ubuntu@book:~ ] $ zip -r test1.zip dir1 file1 //\u5c06dir1 file1\u538b\u7f29\u4e3a test1.zip\u538b\u7f29\u5305\u3002 [ ubuntu@book:~ ] $ unzip -v test1.zip //\u67e5\u770b\u538b\u7f29\u5305test1.zip\u91cc\u9762\u7684\u5185\u5bb9 [ ubuntu@book:~ ] $ unzip -t test1.zip //\u67e5\u770b\u4e00\u4e0btest1.zip\u538b\u7f29\u5305\u5b8c\u6574\u6027 [ ubuntu@book:~ ] $ unzip -d tmp test1.zip //\u89e3\u538b\u7f29test1.zip\u5230 tmp\u76ee\u5f55\u4e0b\u3002 [ ubuntu@book:~ ] $ zip test1.zip -d file1 //\u5355\u72ec\u4ecetest1.zip\u538b\u7f29\u5305\u91cc\u5220\u9664 file1\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ unzip -v test1.zip //\u67e5\u770b\u538b\u7f29\u5305test1.zip\u91cc\u9762\u7684\u5185\u5bb9","title":"zip\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#gzip","text":"\u538b\u7f29.gz\u7ed3\u5c3e\u7684\u538b\u7f29\u5305\u3002\u4ed6\u53ea\u80fd\u538b\u7f29\u5355\u4e2a\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ gzip test1.iso //\u538b\u7f29\u4e00\u4e2a\u540d\u4e3atest1.iso\u4e3agz\u538b\u7f29\u683c\u5f0f\u3002 [ ubuntu@book:~ ] $ gunzip test1.iso.gz //\u89e3\u538b\u7f29test1.iso.gz\u538b\u7f29\u5305\u3002","title":"gzip\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/Filemanagement/#bzip2","text":"\u538b\u7f29\u4e3a.bz2\u7684\u538b\u7f29\u5305\u4ee5\u53ca\u89e3\u538b\u7f29\u3002 [ ubuntu@book:~ ] $ bzip2 file.txt //\u538b\u7f29\u4e00\u4e2afile.txt,\u538b\u7f29\u540e\u540d\u79f0\u4e3afile.txt.bz2 [ ubuntu@book:~ ] $ bunzip2 file.txt.bz2 //\u89e3\u538b\u7f29file.txt.bz2","title":"bzip2\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/NetworkManagement/","text":"\u7f51\u7edc\u7ba1\u7406 ifconfig\u547d\u4ee4 ifconfig\u7528\u4e8e\u7ba1\u7406\u7f51\u7edc\u8bbe\u5907\u3002 [ ubuntu@book:~ ] $ sudo apt install net-tools [ ubuntu@book:~ ] $ ifconfig [ ubuntu@book:~ ] $ sudo dhclient //\u81ea\u52a8\u83b7\u53d6IP\u5730\u5740 [ ubuntu@book:~ ] $ sudo ifconfig ens33 up //\u542f\u52a8\u7f51\u5361\u540d\u4e3aens33\u7684\u7f51\u5361\u8bbe\u5907 [ ubuntu@book:~ ] $ sudo dhclient //\u81ea\u52a8\u83b7\u53d6IP\u5730\u5740 [ ubuntu@book:~ ] $ ping qq.com //\u6d4b\u8bd5\u7f51\u7edc\u8054\u901a\u6027\u3002 [ ubuntu@book:~ ] $ sudo ifconfig ens33 down //\u5173\u95ed\u7f51\u5361\u540d\u4e3aens33\u7684\u7f51\u5361\u8bbe\u5907 [ ubuntu@book:~ ] $ sudo ifconfig ens33 hw ether 00 :AA:BB:CC:DD:EE //\u8bbe\u7f6eens33\u7f51\u5361\u8bbe\u5907\u7684MAC\u5730\u5740\u4e3a00:AA:BB:CC:DD:EE\u3002 [ ubuntu@book:~ ] $ sudo ifconfig ens33 up //\u542f\u52a8\u7f51\u5361\u540d\u4e3aens33\u7684\u7f51\u5361\u8bbe\u5907 [ ubuntu@book:~ ] $ sudo dhclient //\u81ea\u52a8\u83b7\u53d6IP\u5730\u5740 \u8bbe\u7f6e\u52a8\u6001IP\u53c2\u8003 book@virtual-machine:~$ cat /etc/netplan/01-netplan.yaml network: version: 2 ethernets: ens33: dhcp4: true \u8bbe\u7f6e\u9759\u6001IP\u53c2\u8003 book@virtual-machine:~$ cat /etc/netplan/01-netplan.yaml network: version: 2 renderer: networkd ethernets: ens192: dhcp4: no addresses: [ 192 .168.1.133/24 ] gateway4: 192 .168.1.1 ping\u547d\u4ee4 \u7528\u4e8e\u68c0\u6d4b\u6216\u9a8c\u8bc1\u7f51\u7edc\u8fde\u901a\u6027\u3002 [ubuntu@book:~]$ ping qq.com //\u9a8c\u8bc1\u4e0eqq.com\u7684\u8fde\u901a\u6027 [ubuntu@book:~]$ ping 192.168.1.1 //\u9a8c\u8bc1\u4e0e192.168.1.1\u7684\u8fde\u901a\u6027 [ubuntu@book:~]$ ping -I ens36 qq.com //\u6307\u5b9a\u4f7f\u7528ens36\u7f51\u5361\u53bb\u9a8c\u8bc1\u4e0eqq.com\u7f51\u7ad9\u7684\u8fde\u901a\u6027\u3002 [ubuntu@book:~]$ ping -I ens36 192.168.1.1 //\u6307\u5b9a\u4f7f\u7528ens36\u7f51\u5361\u53bb\u9a8c\u8bc1\u4e0eIP\u5730\u5740192.168.1.1\u7684\u8fde\u901a\u6027\u3002 [ubuntu@book:~]$ ping -i 3 -s 1024 qq.com //\u8bbe\u7f6e3\u79d2 \u6570\u636e\u5305\u5927\u5c0f1024 \u53bb\u9a8c\u8bc1\u548cqq.com\u7684\u8fde\u901a\u6027\u3002 \u7f51\u7edc\u8054\u901a\u72b6\u6001\u3002 \u7f51\u7edc\u901a\u4fe1\u5f02\u5e38\u60c5\u51b5\u3002 samba\u5171\u4eab\u6587\u4ef6 [ ubuntu@book:~ ] $ sudo apt install cifs-utils smaba -y [ ubuntu@book:~ ] $ sudo nano /etc/samba/smb.conf [ share ] comment = All Printers available = yes browseable = yes path = /home/ubuntu/Downloads public = yes writable = yes [ ubuntu@book:~ ] $ sudo smbpasswd -a ubuntu [ ubuntu@book:~ ] $ sudo /etc/init.d/smbd restart [ ubuntu@book:~ ] $ sudo chmod -R go+rwx Downloads/ Windows\u4e0b\u8f93\u5165 \\\\IP\\share \u5728\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\u5185\u8f93\u5165\u6211\u4eec\u521a\u624d\u8bbe\u7f6e smbpasswd \u7528\u6237\u540d\u548c\u5bc6\u7801\u3002 nfs\u670d\u52a1 NFS\u5373\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u5141\u8bb8\u5f00\u53d1\u677f\u76f4\u63a5\u901a\u8fc7\u7f51\u7edc\u6302\u8f7dPC\u673a\u4e2d\u7684\u6587\u4ef6\u5939\u3002 [ ubuntu@book:~ ] $ sudo apt install nfs-kernel-server [ ubuntu@book:~ ] $ mkdir ~/nfs_rootfs [ ubuntu@book:~ ] $ sudo nano /etc/exports /home/ubuntu/nfs_rootfs * ( rw,nohide,insecure,no_subtree_check,async,no_root_squash ) [ ubuntu@book:~ ] $ sudo service nfs-kernel-server restart [ ubuntu@book:~ ] $ sudo mount -t nfs 127 .0.0.1:/home/ubuntu/nfs_rootfs /mnt tftp\u670d\u52a1 [ ubuntu@book:~ ] $ sudo apt-get install tftp-hpa tftpd-hpa [ ubuntu@book:~ ] $ mkdir ~/tftpboot [ ubuntu@book:~ ] $ sudo chmod -R 777 ~/tftpboot [ ubuntu@book:~/tftpboot ] $ sudo nano /etc/default/tftpd-hpa TFTP_USERNAME = \"tftp\" TFTP_DIRECTORY = \"/home/ubuntu/tftpboot\" TFTP_OPTIONS = \"-l -c -s\" TFTP_ADDRESS = \":69\" [ ubuntu@book:~/tftpboot ] $ sudo service tftpd-hpa restart TFTP_OPTIONS=\"-l -c -s\" -s\u8868\u793a\u5b89\u5168 -c\u8868\u793a\u8fd0\u884c\u4e0a\u4f20 \u5f00\u53d1\u677f\u5185\u4f7f\u7528tftp\u547d\u4ee4\u4e0a\u4f20\u4e0b\u8f7d\u6587\u4ef6 # tftp -r test1 -g 192.168.1.20 //\u4ece192.168.1.20\u670d\u52a1\u5668\u83b7\u53d6\u5230 test1\u6587\u4ef6\u3002 # tftp -l 1.txt -p 192.168.1.20 //\u5c06\u672c\u5730\u76841.txt\u4e0a\u4f20\u5230 192.168.1.20\u670d\u52a1\u5668\u3002 netstat\u547d\u4ee4 \u7528\u4e8e\u67e5\u770b\u7cfb\u7edf\u7f51\u7edc\u8be6\u7ec6\u8fde\u63a5\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ netstat -a //\u663e\u793a\u8be6\u7ec6\u7684\u7f51\u8def\u72b6\u51b5\u3002 [ ubuntu@book:~ ] $ netstat -apu //\u663e\u793a\u7aef\u53e3\u53f7\u7b49\u4f7f\u7528\u60c5\u51b5\u3002 tcpdump\u547d\u4ee4 \u7528\u4e8e\u4fa6\u542c\u7f51\u7edc\u4f20\u8f93\u7684\u6570\u636e\u3002 [ ubuntu@book:~ ] $ tcpdump //\u663e\u793a\u6240\u6709\u7684\u7f51\u7edc\u5305\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ tcpdump -i ens36 //\u6307\u5b9a\u7f51\u5361\u8bbe\u5907\uff0c\u76d1\u542cens36\u7684\u7f51\u7edc\u5305\u4fe1\u606f [ ubuntu@book:~ ] $ tcpdump -i ens36 -q //\u4ee5\u7cbe\u7b80\u6a21\u5f0f\u663e\u793a [ ubuntu@book:~ ] $ tcpdump -i ens36 -vv //\u663e\u793a\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ tcpdump -c 10 -i ens36 -vv //\u76d1\u542cens36,\u53ea\u6293\u53d610\u4e2a\u5305\u3002 [ ubuntu@book:~ ] $ tcpdump -c 10 -i ens36 -vv > tcpdump.cap //\u76d1\u542cens36,\u53ea\u6293\u53d610\u4e2a\u5305,\u5bfc\u51fa\u5230tcpudump.cap\u6587\u4ef6\u5185\u3002 ip\u547d\u4ee4 \u6bd4ifconfig\u66f4\u5f3a\u5927\u7684\u4e00\u4e2a \u7f51\u7edc\u7ba1\u7406\u547d\u4ee4\u3002 [ ubuntu@book:~ ] $ ip link show [ ubuntu@book:~ ] $ ip a [ ubuntu@book:~ ] $ ip addr show [ ubuntu@book:~ ] $ ip link set ens36 up [ ubuntu@book:~ ] $ ip link set ens36 down [ ubuntu@book:~ ] $ ip addr add 192 .168.1.20/24 dev ens36 [ ubuntu@book:~ ] $ ip addr del 192 .168.1.20/24 dev ens36 [ ubuntu@book:~ ] $ ip -s link list [ ubuntu@book:~ ] $ ip route list","title":"\u7f51\u7edc\u7ba1\u7406"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/NetworkManagement/#_1","text":"","title":"\u7f51\u7edc\u7ba1\u7406"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/NetworkManagement/#ifconfig","text":"ifconfig\u7528\u4e8e\u7ba1\u7406\u7f51\u7edc\u8bbe\u5907\u3002 [ ubuntu@book:~ ] $ sudo apt install net-tools [ ubuntu@book:~ ] $ ifconfig [ ubuntu@book:~ ] $ sudo dhclient //\u81ea\u52a8\u83b7\u53d6IP\u5730\u5740 [ ubuntu@book:~ ] $ sudo ifconfig ens33 up //\u542f\u52a8\u7f51\u5361\u540d\u4e3aens33\u7684\u7f51\u5361\u8bbe\u5907 [ ubuntu@book:~ ] $ sudo dhclient //\u81ea\u52a8\u83b7\u53d6IP\u5730\u5740 [ ubuntu@book:~ ] $ ping qq.com //\u6d4b\u8bd5\u7f51\u7edc\u8054\u901a\u6027\u3002 [ ubuntu@book:~ ] $ sudo ifconfig ens33 down //\u5173\u95ed\u7f51\u5361\u540d\u4e3aens33\u7684\u7f51\u5361\u8bbe\u5907 [ ubuntu@book:~ ] $ sudo ifconfig ens33 hw ether 00 :AA:BB:CC:DD:EE //\u8bbe\u7f6eens33\u7f51\u5361\u8bbe\u5907\u7684MAC\u5730\u5740\u4e3a00:AA:BB:CC:DD:EE\u3002 [ ubuntu@book:~ ] $ sudo ifconfig ens33 up //\u542f\u52a8\u7f51\u5361\u540d\u4e3aens33\u7684\u7f51\u5361\u8bbe\u5907 [ ubuntu@book:~ ] $ sudo dhclient //\u81ea\u52a8\u83b7\u53d6IP\u5730\u5740 \u8bbe\u7f6e\u52a8\u6001IP\u53c2\u8003 book@virtual-machine:~$ cat /etc/netplan/01-netplan.yaml network: version: 2 ethernets: ens33: dhcp4: true \u8bbe\u7f6e\u9759\u6001IP\u53c2\u8003 book@virtual-machine:~$ cat /etc/netplan/01-netplan.yaml network: version: 2 renderer: networkd ethernets: ens192: dhcp4: no addresses: [ 192 .168.1.133/24 ] gateway4: 192 .168.1.1","title":"ifconfig\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/NetworkManagement/#ping","text":"\u7528\u4e8e\u68c0\u6d4b\u6216\u9a8c\u8bc1\u7f51\u7edc\u8fde\u901a\u6027\u3002 [ubuntu@book:~]$ ping qq.com //\u9a8c\u8bc1\u4e0eqq.com\u7684\u8fde\u901a\u6027 [ubuntu@book:~]$ ping 192.168.1.1 //\u9a8c\u8bc1\u4e0e192.168.1.1\u7684\u8fde\u901a\u6027 [ubuntu@book:~]$ ping -I ens36 qq.com //\u6307\u5b9a\u4f7f\u7528ens36\u7f51\u5361\u53bb\u9a8c\u8bc1\u4e0eqq.com\u7f51\u7ad9\u7684\u8fde\u901a\u6027\u3002 [ubuntu@book:~]$ ping -I ens36 192.168.1.1 //\u6307\u5b9a\u4f7f\u7528ens36\u7f51\u5361\u53bb\u9a8c\u8bc1\u4e0eIP\u5730\u5740192.168.1.1\u7684\u8fde\u901a\u6027\u3002 [ubuntu@book:~]$ ping -i 3 -s 1024 qq.com //\u8bbe\u7f6e3\u79d2 \u6570\u636e\u5305\u5927\u5c0f1024 \u53bb\u9a8c\u8bc1\u548cqq.com\u7684\u8fde\u901a\u6027\u3002 \u7f51\u7edc\u8054\u901a\u72b6\u6001\u3002 \u7f51\u7edc\u901a\u4fe1\u5f02\u5e38\u60c5\u51b5\u3002","title":"ping\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/NetworkManagement/#samba","text":"[ ubuntu@book:~ ] $ sudo apt install cifs-utils smaba -y [ ubuntu@book:~ ] $ sudo nano /etc/samba/smb.conf [ share ] comment = All Printers available = yes browseable = yes path = /home/ubuntu/Downloads public = yes writable = yes [ ubuntu@book:~ ] $ sudo smbpasswd -a ubuntu [ ubuntu@book:~ ] $ sudo /etc/init.d/smbd restart [ ubuntu@book:~ ] $ sudo chmod -R go+rwx Downloads/ Windows\u4e0b\u8f93\u5165 \\\\IP\\share \u5728\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\u5185\u8f93\u5165\u6211\u4eec\u521a\u624d\u8bbe\u7f6e smbpasswd \u7528\u6237\u540d\u548c\u5bc6\u7801\u3002","title":"samba\u5171\u4eab\u6587\u4ef6"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/NetworkManagement/#nfs","text":"NFS\u5373\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u5141\u8bb8\u5f00\u53d1\u677f\u76f4\u63a5\u901a\u8fc7\u7f51\u7edc\u6302\u8f7dPC\u673a\u4e2d\u7684\u6587\u4ef6\u5939\u3002 [ ubuntu@book:~ ] $ sudo apt install nfs-kernel-server [ ubuntu@book:~ ] $ mkdir ~/nfs_rootfs [ ubuntu@book:~ ] $ sudo nano /etc/exports /home/ubuntu/nfs_rootfs * ( rw,nohide,insecure,no_subtree_check,async,no_root_squash ) [ ubuntu@book:~ ] $ sudo service nfs-kernel-server restart [ ubuntu@book:~ ] $ sudo mount -t nfs 127 .0.0.1:/home/ubuntu/nfs_rootfs /mnt","title":"nfs\u670d\u52a1"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/NetworkManagement/#tftp","text":"[ ubuntu@book:~ ] $ sudo apt-get install tftp-hpa tftpd-hpa [ ubuntu@book:~ ] $ mkdir ~/tftpboot [ ubuntu@book:~ ] $ sudo chmod -R 777 ~/tftpboot [ ubuntu@book:~/tftpboot ] $ sudo nano /etc/default/tftpd-hpa TFTP_USERNAME = \"tftp\" TFTP_DIRECTORY = \"/home/ubuntu/tftpboot\" TFTP_OPTIONS = \"-l -c -s\" TFTP_ADDRESS = \":69\" [ ubuntu@book:~/tftpboot ] $ sudo service tftpd-hpa restart TFTP_OPTIONS=\"-l -c -s\" -s\u8868\u793a\u5b89\u5168 -c\u8868\u793a\u8fd0\u884c\u4e0a\u4f20 \u5f00\u53d1\u677f\u5185\u4f7f\u7528tftp\u547d\u4ee4\u4e0a\u4f20\u4e0b\u8f7d\u6587\u4ef6 # tftp -r test1 -g 192.168.1.20 //\u4ece192.168.1.20\u670d\u52a1\u5668\u83b7\u53d6\u5230 test1\u6587\u4ef6\u3002 # tftp -l 1.txt -p 192.168.1.20 //\u5c06\u672c\u5730\u76841.txt\u4e0a\u4f20\u5230 192.168.1.20\u670d\u52a1\u5668\u3002","title":"tftp\u670d\u52a1"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/NetworkManagement/#netstat","text":"\u7528\u4e8e\u67e5\u770b\u7cfb\u7edf\u7f51\u7edc\u8be6\u7ec6\u8fde\u63a5\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ netstat -a //\u663e\u793a\u8be6\u7ec6\u7684\u7f51\u8def\u72b6\u51b5\u3002 [ ubuntu@book:~ ] $ netstat -apu //\u663e\u793a\u7aef\u53e3\u53f7\u7b49\u4f7f\u7528\u60c5\u51b5\u3002","title":"netstat\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/NetworkManagement/#tcpdump","text":"\u7528\u4e8e\u4fa6\u542c\u7f51\u7edc\u4f20\u8f93\u7684\u6570\u636e\u3002 [ ubuntu@book:~ ] $ tcpdump //\u663e\u793a\u6240\u6709\u7684\u7f51\u7edc\u5305\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ tcpdump -i ens36 //\u6307\u5b9a\u7f51\u5361\u8bbe\u5907\uff0c\u76d1\u542cens36\u7684\u7f51\u7edc\u5305\u4fe1\u606f [ ubuntu@book:~ ] $ tcpdump -i ens36 -q //\u4ee5\u7cbe\u7b80\u6a21\u5f0f\u663e\u793a [ ubuntu@book:~ ] $ tcpdump -i ens36 -vv //\u663e\u793a\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ tcpdump -c 10 -i ens36 -vv //\u76d1\u542cens36,\u53ea\u6293\u53d610\u4e2a\u5305\u3002 [ ubuntu@book:~ ] $ tcpdump -c 10 -i ens36 -vv > tcpdump.cap //\u76d1\u542cens36,\u53ea\u6293\u53d610\u4e2a\u5305,\u5bfc\u51fa\u5230tcpudump.cap\u6587\u4ef6\u5185\u3002","title":"tcpdump\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/NetworkManagement/#ip","text":"\u6bd4ifconfig\u66f4\u5f3a\u5927\u7684\u4e00\u4e2a \u7f51\u7edc\u7ba1\u7406\u547d\u4ee4\u3002 [ ubuntu@book:~ ] $ ip link show [ ubuntu@book:~ ] $ ip a [ ubuntu@book:~ ] $ ip addr show [ ubuntu@book:~ ] $ ip link set ens36 up [ ubuntu@book:~ ] $ ip link set ens36 down [ ubuntu@book:~ ] $ ip addr add 192 .168.1.20/24 dev ens36 [ ubuntu@book:~ ] $ ip addr del 192 .168.1.20/24 dev ens36 [ ubuntu@book:~ ] $ ip -s link list [ ubuntu@book:~ ] $ ip route list","title":"ip\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/","text":"\u7cfb\u7edf\u7ba1\u7406 apt\u547d\u4ee4 \u9644\u52a0\u5de5\u5177 \u4f7f\u7528 aptitude \u56fe\u5f62\u5316\u7684\u8f6f\u4ef6\u5305\u7ba1\u7406\u5668\u3002 [ ubuntu@book:~ ] $ sudo apt update //\u66f4\u65b0\u8f6f\u4ef6\u6e90\u5305\u5217\u8868\u4e3a\u6700\u65b0\u72b6\u6001 [ ubuntu@book:~ ] $ sudo apt upgrade //\u66f4\u65b0\u6240\u6709\u7684\u5305\u4e3a\u6700\u65b0\u72b6\u6001 [ ubuntu@book:~ ] $ sudo apt install <pkg> //\u5b89\u88c5\u4e00\u4e2a\u8f6f\u4ef6\u5305\uff0c\u4e5f\u53ef\u4ee5\u662f\u591a\u4e2a\u3002 [ ubuntu@book:~ ] $ sudo apt reinstall <pkg> //\u91cd\u65b0\u5b89\u88c5\u4e00\u4e2a\u8f6f\u4ef6\u5305\u3002 [ ubuntu@book:~ ] $ sudo apt remove <pkg> //\u79fb\u9664\u4e00\u4e2a\u8f6f\u4ef6\u5305 [ ubuntu@book:~ ] $ sudo apt-cache search <string> //apt\u6e90\u4e2d\u641c\u7d22\u4e00\u4e2a\u8f6f\u4ef6\u5305 [ ubuntu@book:~ ] $ sudo apt list //\u5217\u51fa\u6211\u4eec\u5df2\u7ecf\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305 [ ubuntu@book:~ ] $ sudo apt show <pkg> //\u67e5\u770b\u67d0\u4e2a\u8f6f\u4ef6\u5305\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 aptitude \u56fe\u5f62\u5316\u5305\u7ba1\u7406\u754c\u9762\uff0c\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u53ef\u4ee5\u4f7f\u7528\u9f20\u6807\u4ee5\u53ca\u9875\u9762\u63d0\u793a\u8fdb\u884c\u64cd\u4f5c\u3002 dpkg \u547d\u4ee4 \u79bb\u7ebf\u5b89\u88c5deb\u5305\u7684\u547d\u4ee4\u3002 [ ubuntu@book:~ ] $ sudo dpkg -i <pkg.deb> //\u624b\u52a8\u5b89\u88c5\u5df2\u7ecf\u4e0b\u8f7d\u597d\u7684\u8f6f\u4ef6\u5305 [ ubuntu@book:~ ] $ sudo dpkg -r <pkg> //\u624b\u52a8\u79fb\u9664\u5df2\u7ecf\u4e0b\u8f7d\u597d\u7684\u8f6f\u4ef6\u5305 snap\u547d\u4ee4 \u5728\u7ebf\u8f6f\u4ef6\u5305\u7ba1\u7406\u547d\u4ee4 [ ubuntu@book:~ ] $ sudo snap version //\u67e5\u770bsnap\u7684\u7248\u672c\u72b6\u6001 [ ubuntu@book:~ ] $ sudo snap find \"media player\" //\u641c\u7d22\u652f\u6301 media player\u7684\u8f6f\u4ef6\u5305 [ ubuntu@book:~ ] $ sudo snap install vlc //\u5b89\u88c5vlc\u8f6f\u4ef6 [ ubuntu@book:~ ] $ sudo snap info vlc //\u67e5\u770bvlc\u8f6f\u4ef6\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ sudo snap install --channel = edeg vlc //\u5b89\u88c5\u6d4b\u8bd5\u7248\u7684vlc [ ubuntu@book:~ ] $ sudo snap switch --channel = stable vlc //\u5207\u6362vlc\u8f6f\u4ef6\u5305\u4e3a\u7a33\u5b9a\u7248\u3002 [ ubuntu@book:~ ] $ snap list //\u67e5\u770b\u5df2\u7ecf\u5b89\u88c5\u8fc7\u7684\u8f6f\u4ef6\u5305\u72b6\u6001 top\u547d\u4ee4 \u67e5\u770b\u7cfb\u7edf\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5 [ ubuntu@book:~ ] $ top htop\u547d\u4ee4 [ ubuntu@book:~ ] $ sudo apt install htop [ ubuntu@book:~ ] $ htop uname \u547d\u4ee4 \u663e\u793a\u7cfb\u7edf\u4fe1\u606f find\u547d\u4ee4 \u7528\u4e8e\u67e5\u627e\u548c\u641c\u7d22\u6587\u4ef6&\u76ee\u5f55\u3002 [ ubuntu@book:~ ] $ find -name <file> //\u5728\u5f53\u524d\u8def\u5f84\u4e0b\u641c\u7d22\u540d\u4e3a file\u6240\u6709\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ find ~/Desktop -name test.txt //\u5728Desktop\u76ee\u5f55\u4e0b\u641c\u7d22 test.txt\u6587\u4ef6 [ ubuntu@book:~ ] $ find ~/Desktop -name \"*.txt\" //\u5728Desktop\u76ee\u5f55\u4e0b\u641c\u7d22\u6240\u6709\u7684\u540e\u7f00\u662f .txt\u6587\u4ef6. [ ubuntu@book:~ ] $ find . //\u663e\u793a\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u7684\u6587\u4ef6\u53ca\u76ee\u5f55\u3002 [ ubuntu@book:~ ] $ find ~ -print > home.txt //\u5c06~\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u7684\u6587\u4ef6\u6587\u4ef6\u5939\u5217\u8868\u91cd\u5b9a\u5411\u81f3 home.txt [ ubuntu@book:~ ] $ find /usr/bin/ -size +1M //\u5217\u51fa/usr/bin/\u76ee\u5f55\u4e0b\u6240\u6709\u5927\u4e8e1M\u7684\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ find . -type f -atime +3 //\u5217\u51fa\u5f53\u524d\u8def\u5f84\u4e0b3\u5929\u5185\u88ab\u8bbf\u95ee\u8fc7\u7684\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ find . -type f -amin +10 //\u5217\u51fa\u5f53\u524d\u8def\u5f84\u4e0b\u8d85\u8fc7\u8bbf\u95ee10\u5206\u949f\u7684\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ find ./ ! -name \"*.txt\" //\u5217\u51fa\u5f53\u524d\u8def\u5f84\u4e0b\u975e\u540e\u7f00\u540d\u4e3a.txt\u7684\u6587\u4ef6\u53ca\u6587\u4ef6\u5939\u3002 adduser\u547d\u4ee4 \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7528\u6237 [ubuntu@book:~]$ sudo adduer book //\u65b0\u589e\u4e00\u4e2a\u540d\u4e3abook\u7684\u7528\u6237 [ubuntu@book:~]$ su book //\u5207\u6362\u5230book\u7528\u6237\uff0c\u6b64\u65f6\u63d0\u793a\u8f93\u5165\u5bc6\u7801\uff0c\u9700\u8981\u8f93\u5165book\u7528\u6237\u7684\u5bc6\u7801\u3002 [ubuntu@book:~]$ su ubuntu //\u5207\u6362\u56deubuntu\u7cfb\u7edf\uff0c\u8f93\u5165ubuntu\u7528\u6237\u7684\u5bc6\u7801\u3002 userdel\u547d\u4ee4 \u5220\u9664\u4e00\u4e2a\u7528\u6237 [ ubuntu@book:~ ] $ sudo userdel book //\u5220\u9664\u4e00\u4e2a\u540d\u4e3abook\u7684\u7528\u6237\u3002 [ ubuntu@book:~ ] $ sudo userdel -rf book //\u4f7f\u7528-rf\u5220\u9664book\u7528\u7684\u6240\u6709\u8d44\u6e90\u3002 passwd \u8bbe\u7f6e\u7528\u6237\u5bc6\u7801 [ ubuntu@book:~ ] $ sudo passwd ubuntu //\u91cd\u65b0\u8bbe\u7f6eUbuntu\u7528\u6237\u5bc6\u7801\u3002 [ ubuntu@book:~ ] $ sudo passwd //\u91cd\u65b0\u8bbe\u7f6eroot\u7528\u6237\u5bc6\u7801\u3002 exit\u547d\u4ee4 \u9000\u51fa\u5f53\u524d\u6253\u5f00\u7684shell [ ubuntu@book:~ ] $ exit reboot \u7528\u4e8e\u91cd\u65b0\u542f\u52a8\u8ba1\u7b97\u673a\u3002 [ ubuntu@book:~ ] $ sudo reboot [ ubuntu@book:~ ] $ sudo reboot -n //\u5728\u91cd\u542f\u4e4b\u524d\u4e0d\u5c06\u6570\u636e\u7f13\u5b58\u5199\u5165\u786c\u76d8\u3002 [ ubuntu@book:~ ] $ sudo reboot -f //\u5f3a\u5236\u91cd\u542f\uff0c\u7c7b\u4f3c\u4e8e\u65ad\u7535\u3002 [ ubuntu@book:~ ] $ sudo reboot -d //\u867d\u7136\u91cd\u542f\uff0c\u4f46\u662f\u4e0d\u5199\u5165\u7cfb\u7edflog\u65e5\u5fd7\u4e2d\u3002 [ ubuntu@book:~ ] $ sudo reboot -w //\u4e0d\u91cd\u542f\uff0c\u4f46\u662f\u5199\u5165\u7cfb\u7edf\u91cd\u542f\u88c5\u64cd\u4f5clog\u65e5\u5fd7\u4e2d\u3002 poweroff \u7528\u4e8e\u5173\u95ed\u8ba1\u7b97\u673a\u3002 [ ubuntu@book:~ ] $ sudo poweroff [ ubuntu@book:~ ] $ sudo poweroff -n //\u5728\u5173\u673a\u4e4b\u524d\u4e0d\u5c06\u6570\u636e\u7f13\u5b58\u5199\u5165\u786c\u76d8\u3002 [ ubuntu@book:~ ] $ sudo poweroff -f //\u5f3a\u5236\u5173\u673a\uff0c\u7c7b\u4f3c\u4e8e\u65ad\u7535\u3002 [ ubuntu@book:~ ] $ sudo poweroff -d //\u867d\u7136\u5173\u673a\uff0c\u4f46\u662f\u4e0d\u5199\u5165\u7cfb\u7edflog\u65e5\u5fd7\u4e2d\u3002 [ ubuntu@book:~ ] $ sudo poweroff -w //\u4e0d\u5173\u673a\uff0c\u4f46\u662f\u5199\u5165\u7cfb\u7edf\u5173\u673a\u88c5\u64cd\u4f5clog\u65e5\u5fd7\u4e2d\u3002 shutdown \u5173\u673a\u64cd\u4f5c\uff0c\u5728\u5173\u673a\u4e4b\u524d\u4f1a\u5c06\u5173\u673a\u4fe1\u606f\u4f20\u9012\u7ed9\u6240\u6709\u6b63\u5728\u6267\u884c\u7684\u7a0b\u5e8f\u3002 [ ubuntu@book:~ ] $ sudo shutdown -h now //\u7acb\u5373\u5173\u673a [ ubuntu@book:~ ] $ sudo shutdown -t 10 //10\u79d2\u540e\u5173\u673a [ ubuntu@book:~ ] $ sudo shutdown -r now //\u7acb\u5373\u91cd\u542f [ ubuntu@book:~ ] $ sudo shutdown -h 3 //3\u5206\u949f\u540e\u5173\u673a [ ubuntu@book:~ ] $ sudo shutdown -c //\u4e2d\u65ad\u6b63\u5728\u5173\u673a\u7684\u52a8\u4f5c which\u547d\u4ee4 \u7528\u4e8e\u67e5\u627e\u7cfb\u7edf\u5185\u6587\u4ef6\u6240\u5728\u4f4d\u7f6e [ ubuntu@book:~ ] $ which gdb //\u67e5\u627egdb\u547d\u4ee4\u6240\u5728\u4f4d\u7f6e\u5e76\u663e\u793a\u51fa\u6765\u3002 ps\u547d\u4ee4 \u663e\u793a\u5f53\u524d\u7cfb\u7edf\u6b63\u5728\u8fd0\u884c\u8fdb\u884c\u7684\u72b6\u6001\u7b49\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ ps -aux //\u67e5\u770b\u8be6\u7ec6\u7684\u8fdb\u7a0b\u72b6\u6001\u4fe1\u606f\u7b49\u3002 [ ubuntu@book:~ ] $ ps -ef | grep \"ssh\" //\u67e5\u770b\u5b8c\u6574\u7684\u8fdb\u884c\u8def\u5f84\u53caPID\u7b49\uff0c\u914d\u5408\u7740grep\u67e5\u627e\u6211\u4eec\u9700\u8981\u7684\u8fdb\u7a0b\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ ps -u root //\u67e5\u770broot\u7528\u6237\u7684\u8fdb\u7a0b\u4fe1\u606f\u3002 clear\u547d\u4ee4 \u7528\u4e8e\u6e05\u5c4f\u64cd\u4f5c\uff0c\u4e3b\u8981\u6e05\u7406\u7ec8\u7aef\u5b57\u7b26\u4e32\u3002 [ubuntu@book:~]$ clear su\u547d\u4ee4 \u7528\u4e8e\u5207\u6362\u7528\u6237\u8eab\u4efd\uff0c\u53d8\u66f4\u5f53\u524d\u7ec8\u7aef\u7684\u7528\u6237\u3002 [ ubuntu@book:~ ] $ su root //\u5207\u6362\u5230root\u7528\u6237\uff0c\u8f93\u5165\u7684\u662froot\u7528\u6237\u540d\u5bc6\u7801\u3002 [ ubuntu@book:~ ] $ su ubuntu //\u5207\u6362\u5230ubuntu\u7528\u6237 \u8f93\u5165\u7684\u662fUbuntu\u7528\u6237\u5bc6\u7801\u3002 whoami\u547d\u4ee4 whoami\u547d\u4ee4\u7528\u4e8e\u663e\u793a\u81ea\u8eab\u7528\u6237\u7684\u540d\u79f0 [ ubuntu@book:~ ] $ whoami who\u547d\u4ee4 \u7528\u4e8e\u663e\u793a\u5f53\u524d\u7cfb\u7edf\u4e2d\u6709\u90a3\u4e9b\u767b\u5f55\u7528\u6237\uff0c\u4ee5\u53ca\u767b\u5f55\u7528\u6237\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ who //\u663e\u793a\u5f53\u524d\u767b\u5f55\u5230\u8be5\u7cfb\u7edf\u7684\u6240\u6709\u7528\u6237 [ ubuntu@book:~ ] $ who -H //\u663e\u793a\u6807\u9898\u680f [ ubuntu@book:~ ] $ who -T -H //\u663e\u793a\u767b\u5f55\u7ec8\u7aef\u5c5e\u6027 [ ubuntu@book:~ ] $ who -q //\u4ee5\u7cbe\u7b80\u6a21\u5f0f\u663e\u793a\u767b\u5f55\u7684\u7528\u6237\u72b6\u6001 date \u547d\u4ee4 \u7528\u4e8e\u663e\u793a\u7cfb\u7edf\u5f53\u524d\u65f6\u95f4\u4fe1\u606f\u3002 [ubuntu@book:~]$ date dmesg \u7528\u4e8e\u67e5\u770bkernel\u65e5\u5fd7\u4fe1\u606f\u547d\u4ee4\u3002 [ ubuntu@book:~ ] $ dmesg","title":"\u7cfb\u7edf\u7ba1\u7406"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#_1","text":"","title":"\u7cfb\u7edf\u7ba1\u7406"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#apt","text":"\u9644\u52a0\u5de5\u5177 \u4f7f\u7528 aptitude \u56fe\u5f62\u5316\u7684\u8f6f\u4ef6\u5305\u7ba1\u7406\u5668\u3002 [ ubuntu@book:~ ] $ sudo apt update //\u66f4\u65b0\u8f6f\u4ef6\u6e90\u5305\u5217\u8868\u4e3a\u6700\u65b0\u72b6\u6001 [ ubuntu@book:~ ] $ sudo apt upgrade //\u66f4\u65b0\u6240\u6709\u7684\u5305\u4e3a\u6700\u65b0\u72b6\u6001 [ ubuntu@book:~ ] $ sudo apt install <pkg> //\u5b89\u88c5\u4e00\u4e2a\u8f6f\u4ef6\u5305\uff0c\u4e5f\u53ef\u4ee5\u662f\u591a\u4e2a\u3002 [ ubuntu@book:~ ] $ sudo apt reinstall <pkg> //\u91cd\u65b0\u5b89\u88c5\u4e00\u4e2a\u8f6f\u4ef6\u5305\u3002 [ ubuntu@book:~ ] $ sudo apt remove <pkg> //\u79fb\u9664\u4e00\u4e2a\u8f6f\u4ef6\u5305 [ ubuntu@book:~ ] $ sudo apt-cache search <string> //apt\u6e90\u4e2d\u641c\u7d22\u4e00\u4e2a\u8f6f\u4ef6\u5305 [ ubuntu@book:~ ] $ sudo apt list //\u5217\u51fa\u6211\u4eec\u5df2\u7ecf\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305 [ ubuntu@book:~ ] $ sudo apt show <pkg> //\u67e5\u770b\u67d0\u4e2a\u8f6f\u4ef6\u5305\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 aptitude \u56fe\u5f62\u5316\u5305\u7ba1\u7406\u754c\u9762\uff0c\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u53ef\u4ee5\u4f7f\u7528\u9f20\u6807\u4ee5\u53ca\u9875\u9762\u63d0\u793a\u8fdb\u884c\u64cd\u4f5c\u3002","title":"apt\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#dpkg","text":"\u79bb\u7ebf\u5b89\u88c5deb\u5305\u7684\u547d\u4ee4\u3002 [ ubuntu@book:~ ] $ sudo dpkg -i <pkg.deb> //\u624b\u52a8\u5b89\u88c5\u5df2\u7ecf\u4e0b\u8f7d\u597d\u7684\u8f6f\u4ef6\u5305 [ ubuntu@book:~ ] $ sudo dpkg -r <pkg> //\u624b\u52a8\u79fb\u9664\u5df2\u7ecf\u4e0b\u8f7d\u597d\u7684\u8f6f\u4ef6\u5305","title":"dpkg \u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#snap","text":"\u5728\u7ebf\u8f6f\u4ef6\u5305\u7ba1\u7406\u547d\u4ee4 [ ubuntu@book:~ ] $ sudo snap version //\u67e5\u770bsnap\u7684\u7248\u672c\u72b6\u6001 [ ubuntu@book:~ ] $ sudo snap find \"media player\" //\u641c\u7d22\u652f\u6301 media player\u7684\u8f6f\u4ef6\u5305 [ ubuntu@book:~ ] $ sudo snap install vlc //\u5b89\u88c5vlc\u8f6f\u4ef6 [ ubuntu@book:~ ] $ sudo snap info vlc //\u67e5\u770bvlc\u8f6f\u4ef6\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ sudo snap install --channel = edeg vlc //\u5b89\u88c5\u6d4b\u8bd5\u7248\u7684vlc [ ubuntu@book:~ ] $ sudo snap switch --channel = stable vlc //\u5207\u6362vlc\u8f6f\u4ef6\u5305\u4e3a\u7a33\u5b9a\u7248\u3002 [ ubuntu@book:~ ] $ snap list //\u67e5\u770b\u5df2\u7ecf\u5b89\u88c5\u8fc7\u7684\u8f6f\u4ef6\u5305\u72b6\u6001","title":"snap\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#top","text":"\u67e5\u770b\u7cfb\u7edf\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5 [ ubuntu@book:~ ] $ top","title":"top\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#htop","text":"[ ubuntu@book:~ ] $ sudo apt install htop [ ubuntu@book:~ ] $ htop","title":"htop\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#uname","text":"\u663e\u793a\u7cfb\u7edf\u4fe1\u606f","title":"uname \u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#find","text":"\u7528\u4e8e\u67e5\u627e\u548c\u641c\u7d22\u6587\u4ef6&\u76ee\u5f55\u3002 [ ubuntu@book:~ ] $ find -name <file> //\u5728\u5f53\u524d\u8def\u5f84\u4e0b\u641c\u7d22\u540d\u4e3a file\u6240\u6709\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ find ~/Desktop -name test.txt //\u5728Desktop\u76ee\u5f55\u4e0b\u641c\u7d22 test.txt\u6587\u4ef6 [ ubuntu@book:~ ] $ find ~/Desktop -name \"*.txt\" //\u5728Desktop\u76ee\u5f55\u4e0b\u641c\u7d22\u6240\u6709\u7684\u540e\u7f00\u662f .txt\u6587\u4ef6. [ ubuntu@book:~ ] $ find . //\u663e\u793a\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u7684\u6587\u4ef6\u53ca\u76ee\u5f55\u3002 [ ubuntu@book:~ ] $ find ~ -print > home.txt //\u5c06~\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u7684\u6587\u4ef6\u6587\u4ef6\u5939\u5217\u8868\u91cd\u5b9a\u5411\u81f3 home.txt [ ubuntu@book:~ ] $ find /usr/bin/ -size +1M //\u5217\u51fa/usr/bin/\u76ee\u5f55\u4e0b\u6240\u6709\u5927\u4e8e1M\u7684\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ find . -type f -atime +3 //\u5217\u51fa\u5f53\u524d\u8def\u5f84\u4e0b3\u5929\u5185\u88ab\u8bbf\u95ee\u8fc7\u7684\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ find . -type f -amin +10 //\u5217\u51fa\u5f53\u524d\u8def\u5f84\u4e0b\u8d85\u8fc7\u8bbf\u95ee10\u5206\u949f\u7684\u6587\u4ef6\u3002 [ ubuntu@book:~ ] $ find ./ ! -name \"*.txt\" //\u5217\u51fa\u5f53\u524d\u8def\u5f84\u4e0b\u975e\u540e\u7f00\u540d\u4e3a.txt\u7684\u6587\u4ef6\u53ca\u6587\u4ef6\u5939\u3002","title":"find\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#adduser","text":"\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7528\u6237 [ubuntu@book:~]$ sudo adduer book //\u65b0\u589e\u4e00\u4e2a\u540d\u4e3abook\u7684\u7528\u6237 [ubuntu@book:~]$ su book //\u5207\u6362\u5230book\u7528\u6237\uff0c\u6b64\u65f6\u63d0\u793a\u8f93\u5165\u5bc6\u7801\uff0c\u9700\u8981\u8f93\u5165book\u7528\u6237\u7684\u5bc6\u7801\u3002 [ubuntu@book:~]$ su ubuntu //\u5207\u6362\u56deubuntu\u7cfb\u7edf\uff0c\u8f93\u5165ubuntu\u7528\u6237\u7684\u5bc6\u7801\u3002","title":"adduser\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#userdel","text":"\u5220\u9664\u4e00\u4e2a\u7528\u6237 [ ubuntu@book:~ ] $ sudo userdel book //\u5220\u9664\u4e00\u4e2a\u540d\u4e3abook\u7684\u7528\u6237\u3002 [ ubuntu@book:~ ] $ sudo userdel -rf book //\u4f7f\u7528-rf\u5220\u9664book\u7528\u7684\u6240\u6709\u8d44\u6e90\u3002","title":"userdel\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#passwd","text":"\u8bbe\u7f6e\u7528\u6237\u5bc6\u7801 [ ubuntu@book:~ ] $ sudo passwd ubuntu //\u91cd\u65b0\u8bbe\u7f6eUbuntu\u7528\u6237\u5bc6\u7801\u3002 [ ubuntu@book:~ ] $ sudo passwd //\u91cd\u65b0\u8bbe\u7f6eroot\u7528\u6237\u5bc6\u7801\u3002","title":"passwd"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#exit","text":"\u9000\u51fa\u5f53\u524d\u6253\u5f00\u7684shell [ ubuntu@book:~ ] $ exit","title":"exit\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#reboot","text":"\u7528\u4e8e\u91cd\u65b0\u542f\u52a8\u8ba1\u7b97\u673a\u3002 [ ubuntu@book:~ ] $ sudo reboot [ ubuntu@book:~ ] $ sudo reboot -n //\u5728\u91cd\u542f\u4e4b\u524d\u4e0d\u5c06\u6570\u636e\u7f13\u5b58\u5199\u5165\u786c\u76d8\u3002 [ ubuntu@book:~ ] $ sudo reboot -f //\u5f3a\u5236\u91cd\u542f\uff0c\u7c7b\u4f3c\u4e8e\u65ad\u7535\u3002 [ ubuntu@book:~ ] $ sudo reboot -d //\u867d\u7136\u91cd\u542f\uff0c\u4f46\u662f\u4e0d\u5199\u5165\u7cfb\u7edflog\u65e5\u5fd7\u4e2d\u3002 [ ubuntu@book:~ ] $ sudo reboot -w //\u4e0d\u91cd\u542f\uff0c\u4f46\u662f\u5199\u5165\u7cfb\u7edf\u91cd\u542f\u88c5\u64cd\u4f5clog\u65e5\u5fd7\u4e2d\u3002","title":"reboot"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#poweroff","text":"\u7528\u4e8e\u5173\u95ed\u8ba1\u7b97\u673a\u3002 [ ubuntu@book:~ ] $ sudo poweroff [ ubuntu@book:~ ] $ sudo poweroff -n //\u5728\u5173\u673a\u4e4b\u524d\u4e0d\u5c06\u6570\u636e\u7f13\u5b58\u5199\u5165\u786c\u76d8\u3002 [ ubuntu@book:~ ] $ sudo poweroff -f //\u5f3a\u5236\u5173\u673a\uff0c\u7c7b\u4f3c\u4e8e\u65ad\u7535\u3002 [ ubuntu@book:~ ] $ sudo poweroff -d //\u867d\u7136\u5173\u673a\uff0c\u4f46\u662f\u4e0d\u5199\u5165\u7cfb\u7edflog\u65e5\u5fd7\u4e2d\u3002 [ ubuntu@book:~ ] $ sudo poweroff -w //\u4e0d\u5173\u673a\uff0c\u4f46\u662f\u5199\u5165\u7cfb\u7edf\u5173\u673a\u88c5\u64cd\u4f5clog\u65e5\u5fd7\u4e2d\u3002","title":"poweroff"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#shutdown","text":"\u5173\u673a\u64cd\u4f5c\uff0c\u5728\u5173\u673a\u4e4b\u524d\u4f1a\u5c06\u5173\u673a\u4fe1\u606f\u4f20\u9012\u7ed9\u6240\u6709\u6b63\u5728\u6267\u884c\u7684\u7a0b\u5e8f\u3002 [ ubuntu@book:~ ] $ sudo shutdown -h now //\u7acb\u5373\u5173\u673a [ ubuntu@book:~ ] $ sudo shutdown -t 10 //10\u79d2\u540e\u5173\u673a [ ubuntu@book:~ ] $ sudo shutdown -r now //\u7acb\u5373\u91cd\u542f [ ubuntu@book:~ ] $ sudo shutdown -h 3 //3\u5206\u949f\u540e\u5173\u673a [ ubuntu@book:~ ] $ sudo shutdown -c //\u4e2d\u65ad\u6b63\u5728\u5173\u673a\u7684\u52a8\u4f5c","title":"shutdown"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#which","text":"\u7528\u4e8e\u67e5\u627e\u7cfb\u7edf\u5185\u6587\u4ef6\u6240\u5728\u4f4d\u7f6e [ ubuntu@book:~ ] $ which gdb //\u67e5\u627egdb\u547d\u4ee4\u6240\u5728\u4f4d\u7f6e\u5e76\u663e\u793a\u51fa\u6765\u3002","title":"which\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#ps","text":"\u663e\u793a\u5f53\u524d\u7cfb\u7edf\u6b63\u5728\u8fd0\u884c\u8fdb\u884c\u7684\u72b6\u6001\u7b49\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ ps -aux //\u67e5\u770b\u8be6\u7ec6\u7684\u8fdb\u7a0b\u72b6\u6001\u4fe1\u606f\u7b49\u3002 [ ubuntu@book:~ ] $ ps -ef | grep \"ssh\" //\u67e5\u770b\u5b8c\u6574\u7684\u8fdb\u884c\u8def\u5f84\u53caPID\u7b49\uff0c\u914d\u5408\u7740grep\u67e5\u627e\u6211\u4eec\u9700\u8981\u7684\u8fdb\u7a0b\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ ps -u root //\u67e5\u770broot\u7528\u6237\u7684\u8fdb\u7a0b\u4fe1\u606f\u3002","title":"ps\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#clear","text":"\u7528\u4e8e\u6e05\u5c4f\u64cd\u4f5c\uff0c\u4e3b\u8981\u6e05\u7406\u7ec8\u7aef\u5b57\u7b26\u4e32\u3002 [ubuntu@book:~]$ clear","title":"clear\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#su","text":"\u7528\u4e8e\u5207\u6362\u7528\u6237\u8eab\u4efd\uff0c\u53d8\u66f4\u5f53\u524d\u7ec8\u7aef\u7684\u7528\u6237\u3002 [ ubuntu@book:~ ] $ su root //\u5207\u6362\u5230root\u7528\u6237\uff0c\u8f93\u5165\u7684\u662froot\u7528\u6237\u540d\u5bc6\u7801\u3002 [ ubuntu@book:~ ] $ su ubuntu //\u5207\u6362\u5230ubuntu\u7528\u6237 \u8f93\u5165\u7684\u662fUbuntu\u7528\u6237\u5bc6\u7801\u3002","title":"su\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#whoami","text":"whoami\u547d\u4ee4\u7528\u4e8e\u663e\u793a\u81ea\u8eab\u7528\u6237\u7684\u540d\u79f0 [ ubuntu@book:~ ] $ whoami","title":"whoami\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#who","text":"\u7528\u4e8e\u663e\u793a\u5f53\u524d\u7cfb\u7edf\u4e2d\u6709\u90a3\u4e9b\u767b\u5f55\u7528\u6237\uff0c\u4ee5\u53ca\u767b\u5f55\u7528\u6237\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 [ ubuntu@book:~ ] $ who //\u663e\u793a\u5f53\u524d\u767b\u5f55\u5230\u8be5\u7cfb\u7edf\u7684\u6240\u6709\u7528\u6237 [ ubuntu@book:~ ] $ who -H //\u663e\u793a\u6807\u9898\u680f [ ubuntu@book:~ ] $ who -T -H //\u663e\u793a\u767b\u5f55\u7ec8\u7aef\u5c5e\u6027 [ ubuntu@book:~ ] $ who -q //\u4ee5\u7cbe\u7b80\u6a21\u5f0f\u663e\u793a\u767b\u5f55\u7684\u7528\u6237\u72b6\u6001","title":"who\u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#date","text":"\u7528\u4e8e\u663e\u793a\u7cfb\u7edf\u5f53\u524d\u65f6\u95f4\u4fe1\u606f\u3002 [ubuntu@book:~]$ date","title":"date \u547d\u4ee4"},{"location":"Stage1-LinuxCprogrammers/LinuxShell/SystemManagement/#dmesg","text":"\u7528\u4e8e\u67e5\u770bkernel\u65e5\u5fd7\u4fe1\u606f\u547d\u4ee4\u3002 [ ubuntu@book:~ ] $ dmesg","title":"dmesg"},{"location":"Stage1-LinuxCprogrammers/MakeFile/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage1_D1s-Applications/discussions/ \u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0","title":"\u57fa\u672c\u8bed\u6cd5"},{"location":"Stage1-LinuxCprogrammers/MakeFile/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/MakeFile/01-Introduction/#_2","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/MakeFile/01-Introduction/#_3","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/MakeFile/01-Introduction/#_4","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/MakeFile/01-Introduction/#_5","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/MakeFile/01-Introduction/#_6","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/MakeFile/01-Introduction/#_7","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/MakeFile/01-Introduction/#_8","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/MakeFile/01-Introduction/#_9","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/MakeFile/01-Introduction/#_10","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/MakeFile/01-Introduction/#_11","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/ProcessThread/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage1_D1s-Applications/discussions/ \u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0 \u7b80\u8ff0\u7b80\u8ff0","title":"C\u57fa\u7840"},{"location":"Stage1-LinuxCprogrammers/ProcessThread/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/ProcessThread/01-Introduction/#_2","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/ProcessThread/01-Introduction/#_3","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/ProcessThread/01-Introduction/#_4","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/ProcessThread/01-Introduction/#_5","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/ProcessThread/01-Introduction/#_6","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/ProcessThread/01-Introduction/#_7","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/ProcessThread/01-Introduction/#_8","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/ProcessThread/01-Introduction/#_9","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/ProcessThread/01-Introduction/#_10","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage1-LinuxCprogrammers/ProcessThread/01-Introduction/#_11","text":"","title":"\u7b80\u8ff0\u7b80\u8ff0"},{"location":"Stage2-Components/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage3_D1s-Components/discussions/ \u7b80\u8ff0","title":"MP157Pro-\u5f00\u53d1\u793a\u4f8b"},{"location":"Stage2-Components/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage2-Components/AudioAndVideoApplications/","text":"\u97f3\u9891\u4e0e\u663e\u793a\u76f8\u5173\u7ec4\u4ef6 IMX6ULL-Pro\u652f\u6301\u7684\u7ec4\u4ef6\u6216\u5e94\u7528\u793a\u4f8b LVGL8 Qt5 ALSA SDL2 STM32MP157-Pro\u652f\u6301\u7684\u7ec4\u4ef6\u6216\u5e94\u7528\u793a\u4f8b LVGL8 Qt5 SDL2","title":"\u97f3\u9891\u663e\u793a\u7ec4\u4ef6"},{"location":"Stage2-Components/AudioAndVideoApplications/#_1","text":"IMX6ULL-Pro\u652f\u6301\u7684\u7ec4\u4ef6\u6216\u5e94\u7528\u793a\u4f8b LVGL8 Qt5 ALSA SDL2 STM32MP157-Pro\u652f\u6301\u7684\u7ec4\u4ef6\u6216\u5e94\u7528\u793a\u4f8b LVGL8 Qt5 SDL2","title":"\u97f3\u9891\u4e0e\u663e\u793a\u76f8\u5173\u7ec4\u4ef6"},{"location":"Stage2-Components/NetworkingApplications/","text":"\u7f51\u7edc\u76f8\u5173\u7cfb\u5217\u7ec4\u4ef6 IMX6ULL-Pro\u652f\u6301\u7684lib\u5e93\u6216\u5e94\u7528\u793a\u4f8b MQTT WPA BLUEZ libnl STM32MP157-Pro\u652f\u6301\u7684lib\u5e93\u6216\u5e94\u7528\u793a\u4f8b MQTT WPA BLUEZ libnl","title":"\u7f51\u7edc\u7ec4\u4ef6"},{"location":"Stage2-Components/NetworkingApplications/#_1","text":"IMX6ULL-Pro\u652f\u6301\u7684lib\u5e93\u6216\u5e94\u7528\u793a\u4f8b MQTT WPA BLUEZ libnl STM32MP157-Pro\u652f\u6301\u7684lib\u5e93\u6216\u5e94\u7528\u793a\u4f8b MQTT WPA BLUEZ libnl","title":"\u7f51\u7edc\u76f8\u5173\u7cfb\u5217\u7ec4\u4ef6"},{"location":"Stage2-Components/AudioAndVideoApplications/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage3_D1s-Components/discussions/ \u7b80\u8ff0","title":"01 Introduction"},{"location":"Stage2-Components/AudioAndVideoApplications/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage2-Components/CompressorsAndDecompressors/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage3_D1s-Components/discussions/ \u7b80\u8ff0","title":"01 Introduction"},{"location":"Stage2-Components/CompressorsAndDecompressors/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage2-Components/DebuggingProfilingAndBenchmark/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage3_D1s-Components/discussions/ \u7b80\u8ff0","title":"01 Introduction"},{"location":"Stage2-Components/DebuggingProfilingAndBenchmark/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage2-Components/FilesystemAndFlashUtilities/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage3_D1s-Components/discussions/ \u7b80\u8ff0","title":"01 Introduction"},{"location":"Stage2-Components/FilesystemAndFlashUtilities/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage2-Components/Games/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage3_D1s-Components/discussions/ \u7b80\u8ff0","title":"01 Introduction"},{"location":"Stage2-Components/Games/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage2-Components/GraphicLibrariesAndApplications/LVGL8/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage3_D1s-Components/discussions/ \u7b80\u8ff0","title":"01 Introduction"},{"location":"Stage2-Components/GraphicLibrariesAndApplications/LVGL8/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage2-Components/HardwareHandling/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage3_D1s-Components/discussions/ \u7b80\u8ff0","title":"01 Introduction"},{"location":"Stage2-Components/HardwareHandling/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage2-Components/InterpreterLanguagesAndScripting/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage3_D1s-Components/discussions/ \u7b80\u8ff0","title":"01 Introduction"},{"location":"Stage2-Components/InterpreterLanguagesAndScripting/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage2-Components/Libraries/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage3_D1s-Components/discussions/ \u7b80\u8ff0","title":"01 Introduction"},{"location":"Stage2-Components/Libraries/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage2-Components/NetworkingApplications/MQTT/6ULLPro-Example/","text":"IMX6ULLPro\u5f00\u53d1\u677fMQTT\u793a\u4f8b \u51c6\u5907\u5de5\u4f5c \u5217\u8868 \u540d\u79f0 Host\u7aef Fetch resource Target\u7aef Update resource \u83b7\u53d6\u5de5\u7a0b\u793a\u4f8b \u70b9\u51fb\u83b7\u53d6\u538b\u7f29\u5305 \u5355\u72ecclone\u4ed3\u5e93 \u7f16\u8bd1\u5f00\u53d1\u4e0a\u4f20 \u62f7\u8d1d\u81f3ubuntu Host\u4e3b\u673a \u7f16\u8bd1\u6e90\u7801 \u4e0a\u4f20bin\u81f3Target\u677f \u5f00\u53d1\u677f\u8fd0\u884c \u4e8c\u6b21\u5f00\u53d1","title":"6ULLPro-\u5f00\u53d1\u793a\u4f8b"},{"location":"Stage2-Components/NetworkingApplications/MQTT/6ULLPro-Example/#imx6ullpromqtt","text":"","title":"IMX6ULLPro\u5f00\u53d1\u677fMQTT\u793a\u4f8b"},{"location":"Stage2-Components/NetworkingApplications/MQTT/6ULLPro-Example/#_1","text":"\u5217\u8868 \u540d\u79f0 Host\u7aef Fetch resource Target\u7aef Update resource","title":"\u51c6\u5907\u5de5\u4f5c"},{"location":"Stage2-Components/NetworkingApplications/MQTT/6ULLPro-Example/#_2","text":"\u70b9\u51fb\u83b7\u53d6\u538b\u7f29\u5305 \u5355\u72ecclone\u4ed3\u5e93","title":"\u83b7\u53d6\u5de5\u7a0b\u793a\u4f8b"},{"location":"Stage2-Components/NetworkingApplications/MQTT/6ULLPro-Example/#_3","text":"","title":"\u7f16\u8bd1\u5f00\u53d1\u4e0a\u4f20"},{"location":"Stage2-Components/NetworkingApplications/MQTT/6ULLPro-Example/#ubuntu-host","text":"","title":"\u62f7\u8d1d\u81f3ubuntu Host\u4e3b\u673a"},{"location":"Stage2-Components/NetworkingApplications/MQTT/6ULLPro-Example/#_4","text":"","title":"\u7f16\u8bd1\u6e90\u7801"},{"location":"Stage2-Components/NetworkingApplications/MQTT/6ULLPro-Example/#bintarget","text":"","title":"\u4e0a\u4f20bin\u81f3Target\u677f"},{"location":"Stage2-Components/NetworkingApplications/MQTT/6ULLPro-Example/#_5","text":"","title":"\u5f00\u53d1\u677f\u8fd0\u884c"},{"location":"Stage2-Components/NetworkingApplications/MQTT/6ULLPro-Example/#_6","text":"","title":"\u4e8c\u6b21\u5f00\u53d1"},{"location":"Stage2-Components/NetworkingApplications/MQTT/MP157Pro-Example/","text":"STM32MP157Pro\u5f00\u53d1\u677fMQTT\u793a\u4f8b \u51c6\u5907\u5de5\u4f5c \u5217\u8868 \u540d\u79f0 Host\u7aef Fetch resource Target\u7aef Update resource \u83b7\u53d6\u5de5\u7a0b\u793a\u4f8b \u70b9\u51fb\u83b7\u53d6\u538b\u7f29\u5305 \u5355\u72ecclone\u4ed3\u5e93 \u7f16\u8bd1\u5f00\u53d1\u4e0a\u4f20 \u62f7\u8d1d\u81f3ubuntu Host\u4e3b\u673a \u7f16\u8bd1\u6e90\u7801 \u4e0a\u4f20bin\u81f3Target\u677f \u5f00\u53d1\u677f\u8fd0\u884c \u4e8c\u6b21\u5f00\u53d1","title":"MP157Pro-\u5f00\u53d1\u793a\u4f8b"},{"location":"Stage2-Components/NetworkingApplications/MQTT/MP157Pro-Example/#stm32mp157promqtt","text":"","title":"STM32MP157Pro\u5f00\u53d1\u677fMQTT\u793a\u4f8b"},{"location":"Stage2-Components/NetworkingApplications/MQTT/MP157Pro-Example/#_1","text":"\u5217\u8868 \u540d\u79f0 Host\u7aef Fetch resource Target\u7aef Update resource","title":"\u51c6\u5907\u5de5\u4f5c"},{"location":"Stage2-Components/NetworkingApplications/MQTT/MP157Pro-Example/#_2","text":"\u70b9\u51fb\u83b7\u53d6\u538b\u7f29\u5305 \u5355\u72ecclone\u4ed3\u5e93","title":"\u83b7\u53d6\u5de5\u7a0b\u793a\u4f8b"},{"location":"Stage2-Components/NetworkingApplications/MQTT/MP157Pro-Example/#_3","text":"","title":"\u7f16\u8bd1\u5f00\u53d1\u4e0a\u4f20"},{"location":"Stage2-Components/NetworkingApplications/MQTT/MP157Pro-Example/#ubuntu-host","text":"","title":"\u62f7\u8d1d\u81f3ubuntu Host\u4e3b\u673a"},{"location":"Stage2-Components/NetworkingApplications/MQTT/MP157Pro-Example/#_4","text":"","title":"\u7f16\u8bd1\u6e90\u7801"},{"location":"Stage2-Components/NetworkingApplications/MQTT/MP157Pro-Example/#bintarget","text":"","title":"\u4e0a\u4f20bin\u81f3Target\u677f"},{"location":"Stage2-Components/NetworkingApplications/MQTT/MP157Pro-Example/#_5","text":"","title":"\u5f00\u53d1\u677f\u8fd0\u884c"},{"location":"Stage2-Components/NetworkingApplications/MQTT/MP157Pro-Example/#_6","text":"","title":"\u4e8c\u6b21\u5f00\u53d1"},{"location":"Stage2-Components/SystemTools/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage3_D1s-Components/discussions/ \u7b80\u8ff0","title":"01 Introduction"},{"location":"Stage2-Components/SystemTools/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage3-DeviceDriver/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage2_D1s-DeviceDriver/discussions/2 \u7b80\u8ff0","title":"\u7b80\u8ff0"},{"location":"Stage3-DeviceDriver/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/01-leddriver/","text":"led\u5b9e\u9a8c\u8bf4\u660e \u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/01_led \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002 1.\u786c\u4ef6\u4ecb\u7ecd \u672c\u8282\u5b9e\u9a8c\u4f7f\u7528\u5230 100ask_IMX6ULL-PRO \u5f00\u53d1\u677f\u4e0a\u7684 LED\u706f\u3002 2.\u770b\u539f\u7406\u56fe\u786e\u5b9a\u5f15\u811a \u6253\u5f00\u5f53\u524d\u76ee\u5f55\u7684 100ask_imx6ull_v1.1.pdf \uff0c100ASK_IMX6ULL\u4f7f\u7528\u7684LED\u539f\u7406\u56fe\u5982\u4e0b\uff0c\u53ef\u77e5\u5f15\u811a\u662fGPIO5_3\uff1a 3.\u4f7f\u7528\u8bbe\u5907\u6811\u5de5\u5177 \u5728\u8bbe\u5907\u6811\u5de5\u5177\u4e2d\uff0c\u5982\u4e0b\u56fe\u64cd\u4f5c\uff1a \u628a\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\u590d\u5236\u5230\u8bbe\u5907\u6811\u91cc BOARD_InitPinsSnvs: BOARD_InitPinsSnvsGrp { /*!< Function assigned for the core: Cortex-A7[ca7] */ fsl,pins = < MX6ULL_PAD_SNVS_TAMPER3__GPIO5_IO03 0x000110A0 >; }; 4.\u4fee\u6539\u8bbe\u5907\u6811 \u6765\u7684\u8fd9\u4e2a\u76ee\u5f55\u8f93\u5165\u5982\u4e0b\u6307\u4ee4\uff1a ~/100ask_imx6ull-sdk/Linux-4.9.88/arch/arm/boot/dts vi 100ask_imx6ull-14x14.dts \u627e\u5230 &iomuxc_snvc \u8282\u70b9\u5e76\u653e\u5728 &iomuxc_snvc \u8282\u70b9\u4e0b\u9762\uff0c\u5e76\u81ea\u5df1\u4fee\u6539\u540d\u79f0\uff1a \u7136\u540e\u56de\u5230 / **\u6839\u8282\u70b9**\u5904\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a myled { compatible = \"100ask,leddrv\"; pinctrl-names = \"default\"; pinctrl-0 = <&myled_for_gpio_subsys>; led-gpios = <&gpio5 3 GPIO_ACTIVE_LOW>; }; 5.\u7f16\u8bd1\u8bbe\u5907\u6811\u6587\u4ef6 \u5728\u76ee\u5f55 ~/100ask_imx6ull-sdk/Linux-4.9.88 \u4e0b,\u4f7f\u7528\u547d\u4ee4 make dtbs 6.\u66ff\u6362\u5f00\u53d1\u677f\u4e0b\u7684\u8bbe\u5907\u6811 \u7136\u540e\u628a\u751f\u6210\u7684 arch/arm/boot/dts/100ask_imx6ull-14x14.dtb \u6587\u4ef6\u590d\u5236\u5230NFS \u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u5728\u5f00\u53d1\u677f\u4e0a\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5373\u53ef\uff1a // \u751f\u6210 arch/arm/boot/dts/100ask_imx6ull-14x14.dtb \uff0c\u8bf7\u628a\u5b83\u653e\u5230\u677f\u5b50\u7684/boot \u76ee\u5f55 [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot 7.\u786e\u5b9a\u8bbe\u5907\u6811\u8282\u70b9\u6587\u4ef6\u662f\u5426\u751f\u6210 ls /proc/device-tree 8.Makefile\u6587\u4ef6\u8bf4\u660e \u6e90\u7801\u6587\u4ef6\u5939\u8def\u5f84\uff1a IMX6ULL/01_led # 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all: make -C $(KERN_DIR) M=`pwd` modules $(CROSS_COMPILE)gcc -o ledtest ledtest.c clean: make -C $(KERN_DIR) M=`pwd` modules clean rm -rf modules.order rm -f ledtest # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += leddrv.o 9.\u7f16\u8bd1\u547d\u4ee4\u8bf4\u660e \u5728\u5b9e\u9a8c\u76ee\u5f55\u4e0b\u8f93\u5165\u5982\u4e0b\u547d\u4ee4\u6765\u7f16\u8bd1\u9a71\u52a8\u6a21\u5757\uff1a \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u5c06\u751f\u6210\u7684 leddrv.ko \u548c ledtest \u62f7\u8d1d\u5230NFS\uff0c\u6267\u884c\u547d\u4ee4\u5982\u4e0b\uff1a cp ledtest * . ko ~/ nfs_rootfs / \u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff1a [root@100ask:~]# mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt 10.\u52a0\u8f7d\u9a71\u52a8\u7a0b\u5e8f \u5728\u5f00\u53d1\u677f\u4e0a\uff0c\u4f7f\u7528insmod\u547d\u4ee4\u52a0\u8f7d leddrv.ko insmod leddrv.ko \u6d4b\u8bd5\u9a71\u52a8\u7a0b\u5e8f\uff1a ./led_test /dev/100ask_led0 on ./led_test /dev/100ask_led0 off \u5b9e\u9a8c\u73b0\u8c61\uff0c\u53d1\u73b0\u5f00\u53d1\u677f\u4e0a\u7684\u7eff\u8272led\u70b9\u4eae\uff1a 11.\u9700\u8981\u6ce8\u610f\u7684\u95ee\u9898 11.1 \u89e3\u51b3\u8bbe\u5907\u6811\u5f15\u811a\u88ab\u5360\u7528 \u5f53\u8bbe\u5907\u6811\u5f15\u811a\u88ab\u5360\u7528\u65f6\uff0c\u53c8\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5b9e\u9a8c\u5931\u8d25 \u8bbe\u5907\u6811\u4e2d\u5f15\u811a\u7ed9\u5360\u7528\u89e3\u51b3\u7684\u65b9\u6cd5\uff1a \u2460\u641c\u7d22 MX6ULL_PAD_SNVS_TAMPER3__GPIO5_IO03 \uff0c\u82e5\u53d1\u73b0\u6b64\u5f15\u811a\u5728\u5176\u4ed6\u5730\u65b9\u4e5f\u88ab\u5360\u7528 \u2461\u518d\u641c\u7d22 pinctrl_leds \uff0c\u5f97\u5230\u5982\u4e0b\u4fe1\u606f\uff1a \u2462\u89e3\u51b3\u529e\u6cd5\uff1a \u5982\u4e0b\u56fe\u5904\u52a0\u4e0a**status = \"disabled\";** \u8fd9\u53e5\u8bdd","title":"6ULLPro-LED\u706f"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/01-leddriver/#led","text":"\u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/01_led \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002","title":"led\u5b9e\u9a8c\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/01-leddriver/#1","text":"\u672c\u8282\u5b9e\u9a8c\u4f7f\u7528\u5230 100ask_IMX6ULL-PRO \u5f00\u53d1\u677f\u4e0a\u7684 LED\u706f\u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/01-leddriver/#2","text":"\u6253\u5f00\u5f53\u524d\u76ee\u5f55\u7684 100ask_imx6ull_v1.1.pdf \uff0c100ASK_IMX6ULL\u4f7f\u7528\u7684LED\u539f\u7406\u56fe\u5982\u4e0b\uff0c\u53ef\u77e5\u5f15\u811a\u662fGPIO5_3\uff1a","title":"2.\u770b\u539f\u7406\u56fe\u786e\u5b9a\u5f15\u811a"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/01-leddriver/#3","text":"\u5728\u8bbe\u5907\u6811\u5de5\u5177\u4e2d\uff0c\u5982\u4e0b\u56fe\u64cd\u4f5c\uff1a \u628a\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\u590d\u5236\u5230\u8bbe\u5907\u6811\u91cc BOARD_InitPinsSnvs: BOARD_InitPinsSnvsGrp { /*!< Function assigned for the core: Cortex-A7[ca7] */ fsl,pins = < MX6ULL_PAD_SNVS_TAMPER3__GPIO5_IO03 0x000110A0 >; };","title":"3.\u4f7f\u7528\u8bbe\u5907\u6811\u5de5\u5177"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/01-leddriver/#4","text":"\u6765\u7684\u8fd9\u4e2a\u76ee\u5f55\u8f93\u5165\u5982\u4e0b\u6307\u4ee4\uff1a ~/100ask_imx6ull-sdk/Linux-4.9.88/arch/arm/boot/dts vi 100ask_imx6ull-14x14.dts \u627e\u5230 &iomuxc_snvc \u8282\u70b9\u5e76\u653e\u5728 &iomuxc_snvc \u8282\u70b9\u4e0b\u9762\uff0c\u5e76\u81ea\u5df1\u4fee\u6539\u540d\u79f0\uff1a \u7136\u540e\u56de\u5230 / **\u6839\u8282\u70b9**\u5904\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a myled { compatible = \"100ask,leddrv\"; pinctrl-names = \"default\"; pinctrl-0 = <&myled_for_gpio_subsys>; led-gpios = <&gpio5 3 GPIO_ACTIVE_LOW>; };","title":"4.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/01-leddriver/#5","text":"\u5728\u76ee\u5f55 ~/100ask_imx6ull-sdk/Linux-4.9.88 \u4e0b,\u4f7f\u7528\u547d\u4ee4 make dtbs","title":"5.\u7f16\u8bd1\u8bbe\u5907\u6811\u6587\u4ef6"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/01-leddriver/#6","text":"\u7136\u540e\u628a\u751f\u6210\u7684 arch/arm/boot/dts/100ask_imx6ull-14x14.dtb \u6587\u4ef6\u590d\u5236\u5230NFS \u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u5728\u5f00\u53d1\u677f\u4e0a\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5373\u53ef\uff1a // \u751f\u6210 arch/arm/boot/dts/100ask_imx6ull-14x14.dtb \uff0c\u8bf7\u628a\u5b83\u653e\u5230\u677f\u5b50\u7684/boot \u76ee\u5f55 [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot","title":"6.\u66ff\u6362\u5f00\u53d1\u677f\u4e0b\u7684\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/01-leddriver/#7","text":"ls /proc/device-tree","title":"7.\u786e\u5b9a\u8bbe\u5907\u6811\u8282\u70b9\u6587\u4ef6\u662f\u5426\u751f\u6210"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/01-leddriver/#8makefile","text":"\u6e90\u7801\u6587\u4ef6\u5939\u8def\u5f84\uff1a IMX6ULL/01_led # 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all: make -C $(KERN_DIR) M=`pwd` modules $(CROSS_COMPILE)gcc -o ledtest ledtest.c clean: make -C $(KERN_DIR) M=`pwd` modules clean rm -rf modules.order rm -f ledtest # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += leddrv.o","title":"8.Makefile\u6587\u4ef6\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/01-leddriver/#9","text":"\u5728\u5b9e\u9a8c\u76ee\u5f55\u4e0b\u8f93\u5165\u5982\u4e0b\u547d\u4ee4\u6765\u7f16\u8bd1\u9a71\u52a8\u6a21\u5757\uff1a \u7f16\u8bd1\u6210\u529f\u540e\uff0c\u5c06\u751f\u6210\u7684 leddrv.ko \u548c ledtest \u62f7\u8d1d\u5230NFS\uff0c\u6267\u884c\u547d\u4ee4\u5982\u4e0b\uff1a cp ledtest * . ko ~/ nfs_rootfs / \u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff1a [root@100ask:~]# mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt","title":"9.\u7f16\u8bd1\u547d\u4ee4\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/01-leddriver/#10","text":"\u5728\u5f00\u53d1\u677f\u4e0a\uff0c\u4f7f\u7528insmod\u547d\u4ee4\u52a0\u8f7d leddrv.ko insmod leddrv.ko \u6d4b\u8bd5\u9a71\u52a8\u7a0b\u5e8f\uff1a ./led_test /dev/100ask_led0 on ./led_test /dev/100ask_led0 off \u5b9e\u9a8c\u73b0\u8c61\uff0c\u53d1\u73b0\u5f00\u53d1\u677f\u4e0a\u7684\u7eff\u8272led\u70b9\u4eae\uff1a","title":"10.\u52a0\u8f7d\u9a71\u52a8\u7a0b\u5e8f"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/01-leddriver/#11","text":"","title":"11.\u9700\u8981\u6ce8\u610f\u7684\u95ee\u9898"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/01-leddriver/#111","text":"\u5f53\u8bbe\u5907\u6811\u5f15\u811a\u88ab\u5360\u7528\u65f6\uff0c\u53c8\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5b9e\u9a8c\u5931\u8d25 \u8bbe\u5907\u6811\u4e2d\u5f15\u811a\u7ed9\u5360\u7528\u89e3\u51b3\u7684\u65b9\u6cd5\uff1a \u2460\u641c\u7d22 MX6ULL_PAD_SNVS_TAMPER3__GPIO5_IO03 \uff0c\u82e5\u53d1\u73b0\u6b64\u5f15\u811a\u5728\u5176\u4ed6\u5730\u65b9\u4e5f\u88ab\u5360\u7528 \u2461\u518d\u641c\u7d22 pinctrl_leds \uff0c\u5f97\u5230\u5982\u4e0b\u4fe1\u606f\uff1a \u2462\u89e3\u51b3\u529e\u6cd5\uff1a \u5982\u4e0b\u56fe\u5904\u52a0\u4e0a**status = \"disabled\";** \u8fd9\u53e5\u8bdd","title":"11.1 \u89e3\u51b3\u8bbe\u5907\u6811\u5f15\u811a\u88ab\u5360\u7528"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/02-keydriver/","text":"key\u6309\u952e\u5b9e\u9a8c\u8bf4\u660e \u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/02_key \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002 1. \u786c\u4ef6\u4ecb\u7ecd \u672c\u8282\u5b9e\u9a8c\u4f7f\u7528\u5230 100ask_IMX6ULL-PRO \u5f00\u53d1\u677f\u4e0a\u7684 KEY1\u3001KEY2\u3002 2.\u770b\u539f\u7406\u56fe\u786e\u5b9a\u5f15\u811a \u6253\u5f00 100ask_imx6ull_v1.1.pdf \uff0c100ASK_IMX6ULL\u4f7f\u7528\u7684kEY1\u3001KEY2\u539f\u7406\u56fe\u5982\u4e0b\uff0c\u53ef\u77e5\u5f15\u811a\u662f GPIO5_1 \u4e0e GPIO4_IO14 \uff1a 3.\u4fee\u6539\u8bbe\u5907\u6811\u6587\u4ef6 \u6765\u5230\u8fd9\u4e2a\u76ee\u5f55\u8f93\u5165\u5982\u4e0b\u6307\u4ee4\uff1a cd ~/100ask_imx6ull-sdk/Linux-4.9.88/arch/arm/boot/dts vi 100ask_imx6ull-14x14.dts \u5728 iomuxc_snvs \u5b50\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a \u5728 iomuxc \u5b50\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a \u5728 / \u6839\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a gpio_keys_100ask { compatible = \"100ask,gpio_key\"; gpios = <&gpio5 1 GPIO_ACTIVE_LOW &gpio4 14 GPIO_ACTIVE_LOW>; pinctrl-names = \"default\"; pinctrl-0 = <&key1_100ask &key2_100ask>; }; 4.\u7f16\u8bd1\u8bbe\u5907\u6811 book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot 5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\u201c gpio_keys_100ask\u201d\u8bbe\u5907\u6811\u8282\u70b9\u3002 6.Makefile\u8bf4\u660e # 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c KERN_DIR = # \u677f\u5b50\u6240\u7528\u5185\u6838\u6e90\u7801\u7684\u76ee\u5f55 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o button_test button_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += gpio_key_drv.o \u5728Ubuntu\u4e0b\uff0c\u6267\u884c\u7f16\u8bd1\u547d\u4ee4 \u628a\u751f\u6210\u7684 gpio_key_drv.ko \u548c button_test \u62f7\u8d1d\u5230NFS\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf 7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5 \u52a0\u8f7d\u547d\u4ee4\uff1a [root@100ask:~]# insmod gpio_key_drv.ko [root@100ask:/mnt]# ./button_test /dev/100ask_gpio_key \u5b9e\u9a8c\u7ed3\u679c\uff1a","title":"6ULLPro-\u6309\u952e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/02-keydriver/#key","text":"\u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/02_key \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002","title":"key\u6309\u952e\u5b9e\u9a8c\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/02-keydriver/#1","text":"\u672c\u8282\u5b9e\u9a8c\u4f7f\u7528\u5230 100ask_IMX6ULL-PRO \u5f00\u53d1\u677f\u4e0a\u7684 KEY1\u3001KEY2\u3002","title":"1. \u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/02-keydriver/#2","text":"\u6253\u5f00 100ask_imx6ull_v1.1.pdf \uff0c100ASK_IMX6ULL\u4f7f\u7528\u7684kEY1\u3001KEY2\u539f\u7406\u56fe\u5982\u4e0b\uff0c\u53ef\u77e5\u5f15\u811a\u662f GPIO5_1 \u4e0e GPIO4_IO14 \uff1a","title":"2.\u770b\u539f\u7406\u56fe\u786e\u5b9a\u5f15\u811a"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/02-keydriver/#3","text":"\u6765\u5230\u8fd9\u4e2a\u76ee\u5f55\u8f93\u5165\u5982\u4e0b\u6307\u4ee4\uff1a cd ~/100ask_imx6ull-sdk/Linux-4.9.88/arch/arm/boot/dts vi 100ask_imx6ull-14x14.dts \u5728 iomuxc_snvs \u5b50\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a \u5728 iomuxc \u5b50\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a \u5728 / \u6839\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a gpio_keys_100ask { compatible = \"100ask,gpio_key\"; gpios = <&gpio5 1 GPIO_ACTIVE_LOW &gpio4 14 GPIO_ACTIVE_LOW>; pinctrl-names = \"default\"; pinctrl-0 = <&key1_100ask &key2_100ask>; };","title":"3.\u4fee\u6539\u8bbe\u5907\u6811\u6587\u4ef6"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/02-keydriver/#4","text":"book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot","title":"4.\u7f16\u8bd1\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/02-keydriver/#5","text":"reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\u201c gpio_keys_100ask\u201d\u8bbe\u5907\u6811\u8282\u70b9\u3002","title":"5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/02-keydriver/#6makefile","text":"# 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c KERN_DIR = # \u677f\u5b50\u6240\u7528\u5185\u6838\u6e90\u7801\u7684\u76ee\u5f55 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o button_test button_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += gpio_key_drv.o \u5728Ubuntu\u4e0b\uff0c\u6267\u884c\u7f16\u8bd1\u547d\u4ee4 \u628a\u751f\u6210\u7684 gpio_key_drv.ko \u548c button_test \u62f7\u8d1d\u5230NFS\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf","title":"6.Makefile\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/02-keydriver/#7","text":"\u52a0\u8f7d\u547d\u4ee4\uff1a [root@100ask:~]# insmod gpio_key_drv.ko [root@100ask:/mnt]# ./button_test /dev/100ask_gpio_key \u5b9e\u9a8c\u7ed3\u679c\uff1a","title":"7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/03-sr501driver/","text":"sr501\u4eba\u4f53\u7ea2\u5916\u4f20\u611f\u5668\u5b9e\u9a8c\u8bf4\u660e \u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/03_sr501 \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002 1.\u786c\u4ef6\u4ecb\u7ecd \u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a\u7f51\u76d8\u5f00\u53d1\u677f\u914d\u5957\u8d44\u6599 05_Hardware (\u539f\u7406\u56fe)/Extend_modules/\u4eba\u4f53\u7ea2\u5916\u611f\u5e94.zip \u3002 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5 IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1a\u6ce8\u610fSR501\u6a21\u5757\u4e2d\u7ea2\u7ebf\u3001\u9ed1\u7ebf\u3001\u7eff\u7ebf\u7684\u4f4d\u7f6e\uff0c\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 \u6765\u5230\u8fd9\u4e2a\u76ee\u5f55\u8f93\u5165\u5982\u4e0b\u6307\u4ee4\uff1a cd ~/100ask_imx6ull-sdk/Linux-4.9.88/arch/arm/boot/dts vi 100ask_imx6ull-14x14.dts \u2460\u5728 iomuxc \u5b50\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a \u2461\u5728 / \u6839\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a 4.\u7f16\u8bd1\u8bbe\u5907\u6811 book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot 5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\u201csr501\u201d\u8bbe\u5907\u6811\u8282\u70b9\u3002 6.Makefile\u8bf4\u660e # 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o sr501_test sr501_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order sr501_test # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += sr501_drv.o \u5728Ubuntu\u4e0b\uff0c\u6267\u884c\u7f16\u8bd1\u547d\u4ee4 \u628a\u751f\u6210\u7684 sr501_drv.ko \u548c button_test \u62f7\u8d1d\u5230NFS\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf 7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5 \u52a0\u8f7d\u547d\u4ee4\uff1a [root@100ask:/mnt]# insmod sr501_drv.ko \u5b9e\u9a8c\u73b0\u8c61\uff1a \u5f53\u6709\u4eba\u9760\u8fd1\u7684\u65f6\u5019\uff0c\u5185\u6838\u4f1a\u6709\u6253\u5370\u4fe1\u606f\u51fa\u73b0","title":"6ULLPro-SR501"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/03-sr501driver/#sr501","text":"\u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/03_sr501 \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002","title":"sr501\u4eba\u4f53\u7ea2\u5916\u4f20\u611f\u5668\u5b9e\u9a8c\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/03-sr501driver/#1","text":"\u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a\u7f51\u76d8\u5f00\u53d1\u677f\u914d\u5957\u8d44\u6599 05_Hardware (\u539f\u7406\u56fe)/Extend_modules/\u4eba\u4f53\u7ea2\u5916\u611f\u5e94.zip \u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/03-sr501driver/#2","text":"IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1a\u6ce8\u610fSR501\u6a21\u5757\u4e2d\u7ea2\u7ebf\u3001\u9ed1\u7ebf\u3001\u7eff\u7ebf\u7684\u4f4d\u7f6e\uff0c\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/03-sr501driver/#3","text":"\u6765\u5230\u8fd9\u4e2a\u76ee\u5f55\u8f93\u5165\u5982\u4e0b\u6307\u4ee4\uff1a cd ~/100ask_imx6ull-sdk/Linux-4.9.88/arch/arm/boot/dts vi 100ask_imx6ull-14x14.dts \u2460\u5728 iomuxc \u5b50\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a \u2461\u5728 / \u6839\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/03-sr501driver/#4","text":"book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot","title":"4.\u7f16\u8bd1\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/03-sr501driver/#5","text":"reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\u201csr501\u201d\u8bbe\u5907\u6811\u8282\u70b9\u3002","title":"5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/03-sr501driver/#6makefile","text":"# 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o sr501_test sr501_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order sr501_test # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += sr501_drv.o \u5728Ubuntu\u4e0b\uff0c\u6267\u884c\u7f16\u8bd1\u547d\u4ee4 \u628a\u751f\u6210\u7684 sr501_drv.ko \u548c button_test \u62f7\u8d1d\u5230NFS\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf","title":"6.Makefile\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/03-sr501driver/#7","text":"\u52a0\u8f7d\u547d\u4ee4\uff1a [root@100ask:/mnt]# insmod sr501_drv.ko \u5b9e\u9a8c\u73b0\u8c61\uff1a \u5f53\u6709\u4eba\u9760\u8fd1\u7684\u65f6\u5019\uff0c\u5185\u6838\u4f1a\u6709\u6253\u5370\u4fe1\u606f\u51fa\u73b0","title":"7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/04-SR04driver/","text":"SR04\u8d85\u58f0\u6ce2\u6d4b\u8ddd\u6a21\u5757\u9a71\u52a8\u5b9e\u9a8c \u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/04_SR04 \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002 1.\u786c\u4ef6\u4ecb\u7ecd \u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599\uff1a\u7f51\u76d8\u5f00\u53d1\u677f\u914d\u5957\u8d44\u6599\u201c05_Hardware (\u539f\u7406\u56fe)/Extend_modules/\u8d85\u58f0\u6ce2.zip\u201d\u3002 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5 IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1a\u6ce8\u610fSR04\u6a21\u5757\u4e2d\u7684\u7ea2\u7ebf\u3001\u9ed1\u7ebf\u3001\u7eff\u7ebf\u3001\u9ec4\u7ebf\u7684\u4f4d\u7f6e\uff0c\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 \u6765\u5230\u8fd9\u4e2a\u76ee\u5f55\u8f93\u5165\u5982\u4e0b\u6307\u4ee4\uff1a cd ~/100ask_imx6ull-sdk/Linux-4.9.88/arch/arm/boot/dts vi 100ask_imx6ull-14x14.dts \u2460\u5728 / \u6839\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a 4.\u7f16\u8bd1\u8bbe\u5907\u6811 book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot 5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\u201csr501\u201d\u8bbe\u5907\u6811\u8282\u70b9\u3002 6.Makefile\u8bf4\u660e # 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o sr04_test sr04_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order sr04_test # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += sr04_drv.o \u5728Ubuntu\u4e0b\uff0c\u6267\u884c\u7f16\u8bd1\u547d\u4ee4 make \u628a\u751f\u6210\u7684 sr04_drv.ko \u548c sr04_test \u62f7\u8d1d\u5230NFS\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf 7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5 \u52a0\u8f7d\u547d\u4ee4\uff1a insmod sr04_drv.ko \u5b9e\u9a8c\u73b0\u8c61\uff1a \u6253\u5370\u51fa\u8ddd\u79bb","title":"6ULLPro-SR04"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/04-SR04driver/#sr04","text":"\u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/04_SR04 \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002","title":"SR04\u8d85\u58f0\u6ce2\u6d4b\u8ddd\u6a21\u5757\u9a71\u52a8\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/04-SR04driver/#1","text":"\u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599\uff1a\u7f51\u76d8\u5f00\u53d1\u677f\u914d\u5957\u8d44\u6599\u201c05_Hardware (\u539f\u7406\u56fe)/Extend_modules/\u8d85\u58f0\u6ce2.zip\u201d\u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/04-SR04driver/#2","text":"IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1a\u6ce8\u610fSR04\u6a21\u5757\u4e2d\u7684\u7ea2\u7ebf\u3001\u9ed1\u7ebf\u3001\u7eff\u7ebf\u3001\u9ec4\u7ebf\u7684\u4f4d\u7f6e\uff0c\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/04-SR04driver/#3","text":"\u6765\u5230\u8fd9\u4e2a\u76ee\u5f55\u8f93\u5165\u5982\u4e0b\u6307\u4ee4\uff1a cd ~/100ask_imx6ull-sdk/Linux-4.9.88/arch/arm/boot/dts vi 100ask_imx6ull-14x14.dts \u2460\u5728 / \u6839\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/04-SR04driver/#4","text":"book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot","title":"4.\u7f16\u8bd1\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/04-SR04driver/#5","text":"reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\u201csr501\u201d\u8bbe\u5907\u6811\u8282\u70b9\u3002","title":"5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/04-SR04driver/#6makefile","text":"# 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o sr04_test sr04_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order sr04_test # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += sr04_drv.o \u5728Ubuntu\u4e0b\uff0c\u6267\u884c\u7f16\u8bd1\u547d\u4ee4 make \u628a\u751f\u6210\u7684 sr04_drv.ko \u548c sr04_test \u62f7\u8d1d\u5230NFS\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf","title":"6.Makefile\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/04-SR04driver/#7","text":"\u52a0\u8f7d\u547d\u4ee4\uff1a insmod sr04_drv.ko \u5b9e\u9a8c\u73b0\u8c61\uff1a \u6253\u5370\u51fa\u8ddd\u79bb","title":"7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/05-dht11driver/","text":"DHT11\u6e29\u6e7f\u5ea6\u6a21\u5757\u9a71\u52a8\u5b9e\u9a8c \u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/05_dht11 \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002 1.\u786c\u4ef6\u4ecb\u7ecd DHT11\u6a21\u5757\u8f6f\u4ef6\u8bbe\u8ba1\uff1a DHT11\u7684\u786c\u4ef6\u7535\u8def\u6bd4\u8f83\u7b80\u5355\uff0c\u6838\u5fc3\u8981\u70b9\u5c31\u662f \u4e3b\u673a\u53d1\u7ed9DHT11\u7684\u547d\u4ee4\u683c\u5f0f\u548cDHT11\u8fd4\u56de\u7684\u6570\u636e\u683c\u5f0f\u3002 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u65b9\u6cd5 \u548cIRDA\u6a21\u5757\u7684\u7535\u8def\u57fa\u672c\u4e00\u81f4\uff0c\u4e3b\u673a\u901a\u8fc7\u4e00\u6761\u6570\u636e\u7ebf\u4e0eDH11\u8fde\u63a5\uff0c\u4e3b\u673a\u901a\u8fc7\u8fd9\u6761\u7ebf\u53d1\u547d\u4ee4\u7ed9DHT11\uff0cDHT11\u518d\u901a\u8fc7\u8fd9\u6761\u7ebf\u628a\u6570\u636e\u53d1\u9001\u7ed9\u4e3b\u673a\u3002 IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f \uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 \u6765\u5230\u8fd9\u4e2a\u76ee\u5f55\u8f93\u5165\u5982\u4e0b\u6307\u4ee4\uff1a cd ~/100ask_imx6ull-sdk/Linux-4.9.88/arch/arm/boot/dts vi 100ask_imx6ull-14x14.dts \u2460\u5728 / \u6839\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a 4.\u7f16\u8bd1\u8bbe\u5907\u6811 book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot 5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\u201cdht11\u201d\u8bbe\u5907\u6811\u8282\u70b9\u3002 ls /proc/device-tree 6.Makefile\u8bf4\u660e # 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c #KERN_DIR = /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o dht11_test dht11_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order dht11_test # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += dht11_drv.o \u628a\u751f\u6210\u7684 dht11_drv.ko \u548c dht11_test \u62f7\u8d1d\u5230NFS\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf \u6267\u884c\u547d\u4ee4\uff1a book@100ask:~/IMX6ULL/05_dht11$ cp dht11_test *.ko ~/nfs_rootfs/ 7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5 [root@100ask:/mnt]# insmod dht11_drv.ko [root@100ask:/mnt]# ./dht11_test /dev/mydht11 \u5b9e\u9a8c\u7ed3\u679c\u5982\u4e0b\uff1a","title":"6ULLPro-DHT11"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/05-dht11driver/#dht11","text":"\u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/05_dht11 \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002","title":"DHT11\u6e29\u6e7f\u5ea6\u6a21\u5757\u9a71\u52a8\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/05-dht11driver/#1","text":"DHT11\u6a21\u5757\u8f6f\u4ef6\u8bbe\u8ba1\uff1a DHT11\u7684\u786c\u4ef6\u7535\u8def\u6bd4\u8f83\u7b80\u5355\uff0c\u6838\u5fc3\u8981\u70b9\u5c31\u662f \u4e3b\u673a\u53d1\u7ed9DHT11\u7684\u547d\u4ee4\u683c\u5f0f\u548cDHT11\u8fd4\u56de\u7684\u6570\u636e\u683c\u5f0f\u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/05-dht11driver/#2","text":"\u548cIRDA\u6a21\u5757\u7684\u7535\u8def\u57fa\u672c\u4e00\u81f4\uff0c\u4e3b\u673a\u901a\u8fc7\u4e00\u6761\u6570\u636e\u7ebf\u4e0eDH11\u8fde\u63a5\uff0c\u4e3b\u673a\u901a\u8fc7\u8fd9\u6761\u7ebf\u53d1\u547d\u4ee4\u7ed9DHT11\uff0cDHT11\u518d\u901a\u8fc7\u8fd9\u6761\u7ebf\u628a\u6570\u636e\u53d1\u9001\u7ed9\u4e3b\u673a\u3002 IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f \uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/05-dht11driver/#3","text":"\u6765\u5230\u8fd9\u4e2a\u76ee\u5f55\u8f93\u5165\u5982\u4e0b\u6307\u4ee4\uff1a cd ~/100ask_imx6ull-sdk/Linux-4.9.88/arch/arm/boot/dts vi 100ask_imx6ull-14x14.dts \u2460\u5728 / \u6839\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/05-dht11driver/#4","text":"book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot","title":"4.\u7f16\u8bd1\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/05-dht11driver/#5","text":"reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\u201cdht11\u201d\u8bbe\u5907\u6811\u8282\u70b9\u3002 ls /proc/device-tree","title":"5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/05-dht11driver/#6makefile","text":"# 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c #KERN_DIR = /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o dht11_test dht11_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order dht11_test # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += dht11_drv.o \u628a\u751f\u6210\u7684 dht11_drv.ko \u548c dht11_test \u62f7\u8d1d\u5230NFS\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf \u6267\u884c\u547d\u4ee4\uff1a book@100ask:~/IMX6ULL/05_dht11$ cp dht11_test *.ko ~/nfs_rootfs/","title":"6.Makefile\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/05-dht11driver/#7","text":"[root@100ask:/mnt]# insmod dht11_drv.ko [root@100ask:/mnt]# ./dht11_test /dev/mydht11 \u5b9e\u9a8c\u7ed3\u679c\u5982\u4e0b\uff1a","title":"7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/06-ds18b20driver/","text":"DS18B20\u6e29\u5ea6\u6a21\u5757\u9a71\u52a8\u5b9e\u9a8c \u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/06_ds18b20 \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002 1.\u786c\u4ef6\u4ecb\u7ecd \u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a\u7f51\u76d8\u5f00\u53d1\u677f\u914d\u5957\u8d44\u6599\u201c05_Hardware (\u539f\u7406\u56fe)/Extend_modules/ds18b20.zip\u201d\u3002 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u65b9\u6cd5 DS18B20\u4e5f\u4f7f\u7528\u7684\u662f\u201c1-Wire\u5355\u603b\u7ebf\u201d\uff0c\u53ea\u901a\u8fc7\u4e00\u6761\u6570\u636e\u7ebf\u4f20\u8f93\u6570\u636e\uff0c\u65e2\u8981\u63a7\u5236\u5668\u53d1\u9001\u6570\u636e\u7ed9\u82af\u7247\uff0c\u53c8\u8981\u901a\u8fc7\u82af\u7247\u53d1\u9001\u6570\u636e\u7ed9\u63a7\u5236\u5668\uff0c\u662f\u53cc\u5411\u4f20\u8f93\u6570\u636e\u3002 DS18B20\u7684\u786c\u4ef6\u8bbe\u8ba1\u7535\u8def\u4e0e\u524d\u9762\u7684DHT11\u57fa\u672c\u4e00\u81f4\uff0c\u539f\u7406\u56fe\u5982\u4e0b\uff1a IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f \uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 \u5728\u8bbe\u5907\u6811\u7684\u6839\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a ds18b20 { /* for imx6ull */ compatible = \"100ask,ds18b20\"; gpios = <&gpio4 19 GPIO_ACTIVE_HIGH>; /* test-gpios = <&gpio4 23 GPIO_ACTIVE_HIGH>; */ }; 4.\u7f16\u8bd1\u8bbe\u5907\u6811 book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot 5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\"ds18b20\"\u8bbe\u5907\u6811\u8282\u70b9\u3002 6.Makefile\u8bf4\u660e # 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c #KERN_DIR = /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o ds18b20_test ds18b20_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order ds18b20_test # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += ds18b20_drv.o \u5728Ubuntu\u4e0b\uff0c\u6267\u884c\u7f16\u8bd1\u547d\u4ee4 make \uff0c\u5e76\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a cp ds18b20_test *.ko ~/nfs_rootfs/ 7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5 [root@100ask:/mnt]# insmod ds18b20_drv.ko [root@100ask:/mnt]# ./ds18b20_test /dev/myds18b20","title":"6ULLPro-DS18B20"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/06-ds18b20driver/#ds18b20","text":"\u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/06_ds18b20 \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002","title":"DS18B20\u6e29\u5ea6\u6a21\u5757\u9a71\u52a8\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/06-ds18b20driver/#1","text":"\u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a\u7f51\u76d8\u5f00\u53d1\u677f\u914d\u5957\u8d44\u6599\u201c05_Hardware (\u539f\u7406\u56fe)/Extend_modules/ds18b20.zip\u201d\u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/06-ds18b20driver/#2","text":"DS18B20\u4e5f\u4f7f\u7528\u7684\u662f\u201c1-Wire\u5355\u603b\u7ebf\u201d\uff0c\u53ea\u901a\u8fc7\u4e00\u6761\u6570\u636e\u7ebf\u4f20\u8f93\u6570\u636e\uff0c\u65e2\u8981\u63a7\u5236\u5668\u53d1\u9001\u6570\u636e\u7ed9\u82af\u7247\uff0c\u53c8\u8981\u901a\u8fc7\u82af\u7247\u53d1\u9001\u6570\u636e\u7ed9\u63a7\u5236\u5668\uff0c\u662f\u53cc\u5411\u4f20\u8f93\u6570\u636e\u3002 DS18B20\u7684\u786c\u4ef6\u8bbe\u8ba1\u7535\u8def\u4e0e\u524d\u9762\u7684DHT11\u57fa\u672c\u4e00\u81f4\uff0c\u539f\u7406\u56fe\u5982\u4e0b\uff1a IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f \uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/06-ds18b20driver/#3","text":"\u5728\u8bbe\u5907\u6811\u7684\u6839\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a ds18b20 { /* for imx6ull */ compatible = \"100ask,ds18b20\"; gpios = <&gpio4 19 GPIO_ACTIVE_HIGH>; /* test-gpios = <&gpio4 23 GPIO_ACTIVE_HIGH>; */ };","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/06-ds18b20driver/#4","text":"book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot","title":"4.\u7f16\u8bd1\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/06-ds18b20driver/#5","text":"reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\"ds18b20\"\u8bbe\u5907\u6811\u8282\u70b9\u3002","title":"5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/06-ds18b20driver/#6makefile","text":"# 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c #KERN_DIR = /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o ds18b20_test ds18b20_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order ds18b20_test # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += ds18b20_drv.o \u5728Ubuntu\u4e0b\uff0c\u6267\u884c\u7f16\u8bd1\u547d\u4ee4 make \uff0c\u5e76\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a cp ds18b20_test *.ko ~/nfs_rootfs/","title":"6.Makefile\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/06-ds18b20driver/#7","text":"[root@100ask:/mnt]# insmod ds18b20_drv.ko [root@100ask:/mnt]# ./ds18b20_test /dev/myds18b20","title":"7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/07-hs0038driver/","text":"IRDA\u7ea2\u5916\u9065\u63a7\u6a21\u5757\u9a71\u52a8\u5b9e\u9a8c \u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/07_hs0038 \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002 \u7ea2\u5916\u9065\u63a7\u7b80\u4ecb \u7ea2\u5916\u9065\u63a7\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5bb6\u7528\u7535\u5668\u3001\u5de5\u4e1a\u63a7\u5236\u548c\u667a\u80fd\u4eea\u5668\u7cfb\u7edf\u4e2d\uff0c\u50cf\u6211\u4eec\u719f\u77e5\u7684\u6709\u7535\u89c6\u673a\u76d2\u5b50\u9065\u63a7\u5668\u3001\u7a7a\u8c03\u9065\u63a7\u5668\u3002\u7ea2\u5916\u9065\u63a7\u5668\u7cfb\u7edf\u5206\u4e3a\u53d1\u9001\u7aef\u548c\u63a5\u6536\u7aef\uff0c\u5982\u56fe\u4e0b\u56fe\u6240\u793a\u3002 \u53d1\u9001\u7aef\u5c31\u662f\u7ea2\u5916\u9065\u63a7\u5668\uff0c\u4e0a\u9762\u6709\u8bb8\u591a\u6309\u952e\uff0c\u5f53\u6211\u4eec\u6309\u4e0b\u9065\u63a7\u5668\u6309\u952e\u65f6\uff0c\u9065\u63a7\u5668\u5185\u90e8\u7535\u8def\u4f1a\u8fdb\u884c\u7f16\u7801\u548c\u8c03\u5236\uff0c\u518d\u901a\u8fc7\u7ea2\u5916\u53d1\u5c04\u5934\uff0c\u5c06\u4fe1\u53f7\u4ee5\u8089\u773c\u4e0d\u53ef\u89c1\u7684\u7ea2\u5916\u7ebf\u53d1\u5c04\u51fa\u53bb\u3002\u7ea2\u5916\u7ebf\u7ebf\u867d\u7136\u8089\u773c\u4e0d\u53ef\u89c1\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u624b\u673a\u6444\u50cf\u5934\u770b\u5230\uff0c\u5e38\u7528\u8be5\u65b9\u6cd5\u68c0\u67e5\u9065\u63a7\u5668\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u3002 \u63a5\u6536\u7aef\u662f\u4e00\u4e2a\u7ea2\u5916\u63a5\u6536\u5934\uff0c\u6536\u5230\u7ea2\u5916\u4fe1\u53f7\u540e\uff0c\u5185\u90e8\u7535\u8def\u4f1a\u8fdb\u884c\u4fe1\u53f7\u653e\u5927\u548c\u89e3\u8c03\uff0c\u518d\u5c06\u6570\u636e\u4f20\u7ed9\u677f\u5b50\u4e0a\u7684GPIO\uff0c\u677f\u5b50\u6536\u5230\u6570\u636e\u540e\u518d\u89e3\u7801\u624d\u80fd\u786e\u5b9a\u662f\u54ea\u4e2a\u6309\u952e\u88ab\u6309\u4e0b\u3002 1.\u786c\u4ef6\u4ecb\u7ecd \u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599\uff1a\u7f51\u76d8\u5f00\u53d1\u677f\u914d\u5957\u8d44\u6599\u201c05_Hardware (\u539f\u7406\u56fe)/Extend_modules/irda.zip\u201d\u3002 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u65b9\u6cd5 IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f \uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u7136\u540e\u51c6\u5907\u597d\u914d\u5957\u7684\u7ea2\u5916\u9065\u63a7\u5668\uff0c\u5982\u679c\u662f\u7b2c\u4e00\u6b21\u4f7f\u7528\u7ea2\u5916\u9065\u63a7\u5668\uff0c\u8981\u5148\u53d6\u51fa\u7535\u6c60\u4e0a\u7684\u9694\u79bb\u8584\u819c\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 \u5728\u8bbe\u5907\u6811\u7684\u6839\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a hs0038 { compatible = \"100ask,hs0038\"; gpios = <&gpio4 19 GPIO_ACTIVE_HIGH>; }; 4.\u7f16\u8bd1\u8bbe\u5907\u6811 book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot 5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\"hs0038\"\u8bbe\u5907\u6811\u8282\u70b9\u3002 6.Makefile\u8bf4\u660e # 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c #KERN_DIR = /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o hs0038_test hs0038_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order hs0038_test # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += hs0038_drv.o \u5728Ubuntu\u4e0b\uff0c\u6267\u884c\u7f16\u8bd1\u547d\u4ee4 make \uff0c\u5e76\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a cp hs0038_test *.ko ~/nfs_rootfs/ 7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5 [root@100ask:/mnt]# insmod hs0038_drv.ko [root@100ask:/mnt]# ./hs0038_test /dev/myhs0038","title":"6ULLPro-HS0038"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/07-hs0038driver/#irda","text":"\u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/07_hs0038 \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002 \u7ea2\u5916\u9065\u63a7\u7b80\u4ecb \u7ea2\u5916\u9065\u63a7\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5bb6\u7528\u7535\u5668\u3001\u5de5\u4e1a\u63a7\u5236\u548c\u667a\u80fd\u4eea\u5668\u7cfb\u7edf\u4e2d\uff0c\u50cf\u6211\u4eec\u719f\u77e5\u7684\u6709\u7535\u89c6\u673a\u76d2\u5b50\u9065\u63a7\u5668\u3001\u7a7a\u8c03\u9065\u63a7\u5668\u3002\u7ea2\u5916\u9065\u63a7\u5668\u7cfb\u7edf\u5206\u4e3a\u53d1\u9001\u7aef\u548c\u63a5\u6536\u7aef\uff0c\u5982\u56fe\u4e0b\u56fe\u6240\u793a\u3002 \u53d1\u9001\u7aef\u5c31\u662f\u7ea2\u5916\u9065\u63a7\u5668\uff0c\u4e0a\u9762\u6709\u8bb8\u591a\u6309\u952e\uff0c\u5f53\u6211\u4eec\u6309\u4e0b\u9065\u63a7\u5668\u6309\u952e\u65f6\uff0c\u9065\u63a7\u5668\u5185\u90e8\u7535\u8def\u4f1a\u8fdb\u884c\u7f16\u7801\u548c\u8c03\u5236\uff0c\u518d\u901a\u8fc7\u7ea2\u5916\u53d1\u5c04\u5934\uff0c\u5c06\u4fe1\u53f7\u4ee5\u8089\u773c\u4e0d\u53ef\u89c1\u7684\u7ea2\u5916\u7ebf\u53d1\u5c04\u51fa\u53bb\u3002\u7ea2\u5916\u7ebf\u7ebf\u867d\u7136\u8089\u773c\u4e0d\u53ef\u89c1\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u624b\u673a\u6444\u50cf\u5934\u770b\u5230\uff0c\u5e38\u7528\u8be5\u65b9\u6cd5\u68c0\u67e5\u9065\u63a7\u5668\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u3002 \u63a5\u6536\u7aef\u662f\u4e00\u4e2a\u7ea2\u5916\u63a5\u6536\u5934\uff0c\u6536\u5230\u7ea2\u5916\u4fe1\u53f7\u540e\uff0c\u5185\u90e8\u7535\u8def\u4f1a\u8fdb\u884c\u4fe1\u53f7\u653e\u5927\u548c\u89e3\u8c03\uff0c\u518d\u5c06\u6570\u636e\u4f20\u7ed9\u677f\u5b50\u4e0a\u7684GPIO\uff0c\u677f\u5b50\u6536\u5230\u6570\u636e\u540e\u518d\u89e3\u7801\u624d\u80fd\u786e\u5b9a\u662f\u54ea\u4e2a\u6309\u952e\u88ab\u6309\u4e0b\u3002","title":"IRDA\u7ea2\u5916\u9065\u63a7\u6a21\u5757\u9a71\u52a8\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/07-hs0038driver/#1","text":"\u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599\uff1a\u7f51\u76d8\u5f00\u53d1\u677f\u914d\u5957\u8d44\u6599\u201c05_Hardware (\u539f\u7406\u56fe)/Extend_modules/irda.zip\u201d\u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/07-hs0038driver/#2","text":"IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f \uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u7136\u540e\u51c6\u5907\u597d\u914d\u5957\u7684\u7ea2\u5916\u9065\u63a7\u5668\uff0c\u5982\u679c\u662f\u7b2c\u4e00\u6b21\u4f7f\u7528\u7ea2\u5916\u9065\u63a7\u5668\uff0c\u8981\u5148\u53d6\u51fa\u7535\u6c60\u4e0a\u7684\u9694\u79bb\u8584\u819c\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/07-hs0038driver/#3","text":"\u5728\u8bbe\u5907\u6811\u7684\u6839\u8282\u70b9\u4e0b\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f\uff1a hs0038 { compatible = \"100ask,hs0038\"; gpios = <&gpio4 19 GPIO_ACTIVE_HIGH>; };","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/07-hs0038driver/#4","text":"book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot","title":"4.\u7f16\u8bd1\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/07-hs0038driver/#5","text":"reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\"hs0038\"\u8bbe\u5907\u6811\u8282\u70b9\u3002","title":"5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/07-hs0038driver/#6makefile","text":"# 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c #KERN_DIR = /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o hs0038_test hs0038_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order hs0038_test # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += hs0038_drv.o \u5728Ubuntu\u4e0b\uff0c\u6267\u884c\u7f16\u8bd1\u547d\u4ee4 make \uff0c\u5e76\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a cp hs0038_test *.ko ~/nfs_rootfs/","title":"6.Makefile\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/07-hs0038driver/#7","text":"[root@100ask:/mnt]# insmod hs0038_drv.ko [root@100ask:/mnt]# ./hs0038_test /dev/myhs0038","title":"7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/08-at24c02driver/","text":"EEPROM\u6a21\u5757\u9a71\u52a8\u5b9e\u9a8c \u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/08_at24c02 \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002 AT24C02\u7b80\u4ecb AT24C02\u662f\u57fa\u4e8eI2C\u603b\u7ebf\u7684\u5b58\u50a8\u5668\u4ef6\uff0c\u7531\u4e8e\u63a5\u53e3\u65b9\u4fbf\uff0c\u4f53\u79ef\u5c0f\uff0c\u6570\u636e\u6389\u7535\u4e0d\u4e22\u5931\u7b49\u7279\u70b9\uff0c\u5728\u4eea\u5668\u4eea\u8868\u53ca\u5de5\u4e1a\u81ea\u52a8\u5316\u63a7\u5236\u4e2d\u5f97\u5230\u5927\u91cf\u7684\u5e94\u7528\u3002 \u767e\u95ee\u7f51\u63d0\u4f9b\u7684EEPROM\u6a21\u5757\u4f7f\u7528\u7684\u5c31\u662fAT24C02\uff0c\u4f7f\u75288\u4f4d\u5730\u5740\uff0c\u5b58\u50a8\u5bb9\u91cf\u4e3a2K bit\uff0c\u53732048bit = 256*8bit = 256 Byte, \u5176\u4e2d\u5b83\u88ab\u5206\u4e3a32\u9875\uff0c\u6bcf\u98758Byte\u3002 1.\u786c\u4ef6\u4ecb\u7ecd EEPROM\u6a21\u5757\u7684\u539f\u7406\u56fe\u5982\u4e0b\uff1a 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u65b9\u6cd5 IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684I2C_A\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f \uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f \uff1a\u672c\u5b9e\u9a8c\u4e2d\uff0cAT24C02\u6a21\u5757\u8981\u63d2\u5230I2C_A\u63a5\u53e3\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88/$ vi arch/arm/boot/dts/100ask_imx6ull-14x14.dts \u5728 &i2c1 \u8282\u70b9\u5904\u52a0\u4e0a\u5982\u4e0b\u4fe1\u606f\uff1a 4.\u7f16\u8bd1\u8bbe\u5907\u6811 \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot 5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\"at4c02\"\u8bbe\u5907\u6811\u8282\u70b9\u3002 6.Makefile\u8bf4\u660e # 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c #KERN_DIR = /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o at24c02_test at24c02_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order at24c02_test # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += at24c02_drv.o 7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5","title":"6ULLPro-AT24c02\u6a21\u5757"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/08-at24c02driver/#eeprom","text":"\u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/08_at24c02 \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002","title":"EEPROM\u6a21\u5757\u9a71\u52a8\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/08-at24c02driver/#at24c02","text":"AT24C02\u662f\u57fa\u4e8eI2C\u603b\u7ebf\u7684\u5b58\u50a8\u5668\u4ef6\uff0c\u7531\u4e8e\u63a5\u53e3\u65b9\u4fbf\uff0c\u4f53\u79ef\u5c0f\uff0c\u6570\u636e\u6389\u7535\u4e0d\u4e22\u5931\u7b49\u7279\u70b9\uff0c\u5728\u4eea\u5668\u4eea\u8868\u53ca\u5de5\u4e1a\u81ea\u52a8\u5316\u63a7\u5236\u4e2d\u5f97\u5230\u5927\u91cf\u7684\u5e94\u7528\u3002 \u767e\u95ee\u7f51\u63d0\u4f9b\u7684EEPROM\u6a21\u5757\u4f7f\u7528\u7684\u5c31\u662fAT24C02\uff0c\u4f7f\u75288\u4f4d\u5730\u5740\uff0c\u5b58\u50a8\u5bb9\u91cf\u4e3a2K bit\uff0c\u53732048bit = 256*8bit = 256 Byte, \u5176\u4e2d\u5b83\u88ab\u5206\u4e3a32\u9875\uff0c\u6bcf\u98758Byte\u3002","title":"AT24C02\u7b80\u4ecb"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/08-at24c02driver/#1","text":"EEPROM\u6a21\u5757\u7684\u539f\u7406\u56fe\u5982\u4e0b\uff1a","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/08-at24c02driver/#2","text":"IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684I2C_A\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f \uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f \uff1a\u672c\u5b9e\u9a8c\u4e2d\uff0cAT24C02\u6a21\u5757\u8981\u63d2\u5230I2C_A\u63a5\u53e3\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/08-at24c02driver/#3","text":"book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88/$ vi arch/arm/boot/dts/100ask_imx6ull-14x14.dts \u5728 &i2c1 \u8282\u70b9\u5904\u52a0\u4e0a\u5982\u4e0b\u4fe1\u606f\uff1a","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/08-at24c02driver/#4","text":"\u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot","title":"4.\u7f16\u8bd1\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/08-at24c02driver/#5","text":"reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\"at4c02\"\u8bbe\u5907\u6811\u8282\u70b9\u3002","title":"5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/08-at24c02driver/#6makefile","text":"# 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c #KERN_DIR = /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o at24c02_test at24c02_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order at24c02_test # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += at24c02_drv.o","title":"6.Makefile\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/08-at24c02driver/#7","text":"","title":"7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/09-oleddriver/","text":"oled\u6a21\u5757\u9a71\u52a8\u5b9e\u9a8c \u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/09_oled \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002 1.\u786c\u4ef6\u4ecb\u7ecd \u5728\u8fd9\u4e2a\u5b9e\u9a8c\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u767e\u95ee\u7f51\u5236\u4f5c\u7684OLED\u6a21\u5757\uff0c\u8be5\u6a21\u5757\u4e3a0.96\u5bf8\u7684\u5c4f\u5e55\uff0c\u652f\u6301128*64\u50cf\u7d20\u663e\u793a\u3002 \u8be5\u5c4f\u5e55\u4f7f\u7528\u9a71\u52a8\u82af\u7247SSD1306\u3002SSD1306\u662f\u4e00\u5757\u5185\u7f6eCMOS OLED/PLED\u9a71\u52a8\u63a7\u5236\u5668\u7684IC\u82af\u7247\uff0c\u82af\u7247\u53ef\u4ee5\u9a71\u52a8\u5171\u9634\u578bOLED\u9762\u677f\u3002\u82af\u7247\u5185\u90e8\u5305\u542b\u6676\u632f\u3001\u663e\u793aRAM\u3001\u5bf9\u6bd4\u5ea6\u63a7\u5236\u6a21\u5757\u4ee5\u53ca256\u7ea7\u4eae\u5ea6\u63a7\u5236\u6a21\u5757\uff0c\u5927\u5927\u964d\u4f4e\u4e86\u5916\u56f4\u5143\u5668\u4ef6\u6570\u91cf\u548c\u529f\u8017\u3002 \u4e3b\u673a\u53ef\u4ee5\u901a\u8fc76800/8000\u5e76\u884c\u63a5\u53e3\u3001I2C\u63a5\u53e3\u6216\u8005SPI\u63a5\u53e3\u5b9e\u73b0\u5bf9SSD1306\u7684\u63a7\u5236\uff0c\u767e\u95ee\u7f51\u7684OLED\u6a21\u5757\u662f\u4f7f\u7528\u7684SPI\u63a5\u53e3\u8fdb\u884c\u63a7\u5236\u3002\u539f\u7406\u56fe\u5982\u4e0b\uff1a 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u65b9\u6cd5 IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684SPI_A\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 4.\u7f16\u8bd1\u8bbe\u5907\u6811 \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\"oled\"\u8bbe\u5907\u6811\u8282\u70b9\u3002 5.Makefile\u8bf4\u660e # 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c #KERN_DIR = /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o oled_test oled_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order oled_test # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += oled_drv.o 6.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5 [root@100ask:/mnt]# insmod oled_drv.ko [root@100ask:/mnt]# ./spi_oled /dev/myoled 7.\u5b9e\u9a8c\u7ed3\u679c","title":"6ULLPro-OLED"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/09-oleddriver/#oled","text":"\u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/09_oled \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002","title":"oled\u6a21\u5757\u9a71\u52a8\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/09-oleddriver/#1","text":"\u5728\u8fd9\u4e2a\u5b9e\u9a8c\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u767e\u95ee\u7f51\u5236\u4f5c\u7684OLED\u6a21\u5757\uff0c\u8be5\u6a21\u5757\u4e3a0.96\u5bf8\u7684\u5c4f\u5e55\uff0c\u652f\u6301128*64\u50cf\u7d20\u663e\u793a\u3002 \u8be5\u5c4f\u5e55\u4f7f\u7528\u9a71\u52a8\u82af\u7247SSD1306\u3002SSD1306\u662f\u4e00\u5757\u5185\u7f6eCMOS OLED/PLED\u9a71\u52a8\u63a7\u5236\u5668\u7684IC\u82af\u7247\uff0c\u82af\u7247\u53ef\u4ee5\u9a71\u52a8\u5171\u9634\u578bOLED\u9762\u677f\u3002\u82af\u7247\u5185\u90e8\u5305\u542b\u6676\u632f\u3001\u663e\u793aRAM\u3001\u5bf9\u6bd4\u5ea6\u63a7\u5236\u6a21\u5757\u4ee5\u53ca256\u7ea7\u4eae\u5ea6\u63a7\u5236\u6a21\u5757\uff0c\u5927\u5927\u964d\u4f4e\u4e86\u5916\u56f4\u5143\u5668\u4ef6\u6570\u91cf\u548c\u529f\u8017\u3002 \u4e3b\u673a\u53ef\u4ee5\u901a\u8fc76800/8000\u5e76\u884c\u63a5\u53e3\u3001I2C\u63a5\u53e3\u6216\u8005SPI\u63a5\u53e3\u5b9e\u73b0\u5bf9SSD1306\u7684\u63a7\u5236\uff0c\u767e\u95ee\u7f51\u7684OLED\u6a21\u5757\u662f\u4f7f\u7528\u7684SPI\u63a5\u53e3\u8fdb\u884c\u63a7\u5236\u3002\u539f\u7406\u56fe\u5982\u4e0b\uff1a","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/09-oleddriver/#2","text":"IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684SPI_A\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/09-oleddriver/#3","text":"","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/09-oleddriver/#4","text":"\u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\"oled\"\u8bbe\u5907\u6811\u8282\u70b9\u3002","title":"4.\u7f16\u8bd1\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/09-oleddriver/#5makefile","text":"# 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c #KERN_DIR = /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o oled_test oled_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order oled_test # \u53c2\u8003\u5185\u6838\u6e90\u7801drivers/char/ipmi/Makefile # \u8981\u60f3\u628aa.c, b.c\u7f16\u8bd1\u6210ab.ko, \u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a: # ab-y := a.o b.o # obj-m += ab.o obj-m += oled_drv.o","title":"5.Makefile\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/09-oleddriver/#6","text":"[root@100ask:/mnt]# insmod oled_drv.ko [root@100ask:/mnt]# ./spi_oled /dev/myoled","title":"6.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/09-oleddriver/#7","text":"","title":"7.\u5b9e\u9a8c\u7ed3\u679c"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/10-dacdriver/","text":"DAC\u6a21\u5757\u9a71\u52a8\u5b9e\u9a8c \u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/10_DAC \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002 1.\u786c\u4ef6\u4ecb\u7ecd \u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a\u7f51\u76d8\u5f00\u53d1\u677f\u914d\u5957\u8d44\u6599\u201c05_Hardware (\u539f\u7406\u56fe)/Extend_modules/dac.zip\u201d\u3002 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u65b9\u6cd5 IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684SPI_A\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f \uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 4.\u7f16\u8bd1\u8bbe\u5907\u6811 book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot 5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\"dac\"\u8bbe\u5907\u6811\u8282\u70b9\u3002 6.Makefile\u8bf4\u660e # 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o dac_test dac_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order dac_test obj-m += dac_drv.o 7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5 [root@100ask:/mnt]# insmod dac_drv.ko [root@100ask:/mnt]# ./dac_test /dev/mydac 100 [root@100ask:/mnt]# ./dac_test /dev/mydac 1000 8.\u5b9e\u9a8c\u73b0\u8c61 \u53ef\u4ee5\u4fee\u6539\u6570\u503c\uff0c\u5c31\u53ef\u4fee\u6539DAC\u6a21\u5757\u4e0aLED1\u7684\u4eae\u5ea6\u3002","title":"6ULLPro-DAC\u6a21\u5757"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/10-dacdriver/#dac","text":"\u5de5\u7a0b\u6240\u5728\u4ed3\u5e93\uff1a https://github.com/100askTeam/Stage3-DeviceDriver \u9ed8\u8ba4\u60c5\u51b5\u6b64\u4ed3\u5e93\u5df2\u7ecf\u63d0\u524d\u7ed9\u60a8\u653e\u5728 \u914d\u5957\u865a\u62df\u673a /home/book\u76ee\u5f55\u4e0b\u3002\u53ea\u9700\u8981\u8fdb\u5165 /home/book/Stage3-DeviceDriver/IMX6ULL/10_DAC \u8def\u5f84 \u5c31\u53ef\u4ee5\u5f00\u59cb\u60a8\u7684\u5f00\u53d1\u3002","title":"DAC\u6a21\u5757\u9a71\u52a8\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/10-dacdriver/#1","text":"\u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a\u7f51\u76d8\u5f00\u53d1\u677f\u914d\u5957\u8d44\u6599\u201c05_Hardware (\u539f\u7406\u56fe)/Extend_modules/dac.zip\u201d\u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/10-dacdriver/#2","text":"IMX6ULL\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684SPI_A\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f \uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/10-dacdriver/#3","text":"","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/10-dacdriver/#4","text":"book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ make dtbs book@100ask:~/100ask_imx6ull-sdk/Linux-4.9.88$ cp arch/arm/boot/dts/100ask_imx6ull-14x14.dtb ~/nfs_rootfs/ \u628a\u8bbe\u5907\u6811\u62f7\u8d1d\u5230\u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\uff1a [root@100ask:/mnt]# cp 100ask_imx6ull-14x14.dtb /boot [root@100ask:/mnt]# reboot","title":"4.\u7f16\u8bd1\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/10-dacdriver/#5","text":"reboot \u4f7f\u7528\u65b0\u7684\u8bbe\u5907\u6811\u91cd\u65b0\u542f\u52a8\u4e4b\u540e\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5728\u5f00\u53d1\u677f\u7684\u201c/proc/device-tree\u201d\u76ee\u5f55\u4e0b\u751f\u6210\"dac\"\u8bbe\u5907\u6811\u8282\u70b9\u3002","title":"5.\u67e5\u770b\u751f\u6210\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4fe1\u606f"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/10-dacdriver/#6makefile","text":"# 1. \u4f7f\u7528\u4e0d\u540c\u7684\u5f00\u53d1\u677f\u5185\u6838\u65f6, \u4e00\u5b9a\u8981\u4fee\u6539KERN_DIR # 2. KERN_DIR\u4e2d\u7684\u5185\u6838\u8981\u4e8b\u5148\u914d\u7f6e\u3001\u7f16\u8bd1, \u4e3a\u4e86\u80fd\u7f16\u8bd1\u5185\u6838, \u8981\u5148\u8bbe\u7f6e\u4e0b\u5217\u73af\u5883\u53d8\u91cf: # 2.1 ARCH, \u6bd4\u5982: export ARCH=arm64 # 2.2 CROSS_COMPILE, \u6bd4\u5982: export CROSS_COMPILE=aarch64-linux-gnu- # 2.3 PATH, \u6bd4\u5982: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin # \u6ce8\u610f: \u4e0d\u540c\u7684\u5f00\u53d1\u677f\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u4e0a\u8ff03\u4e2a\u73af\u5883\u53d8\u91cf\u4e0d\u4e00\u5b9a\u76f8\u540c, # \u8bf7\u53c2\u8003\u5404\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u7528\u6237\u4f7f\u7528\u624b\u518c KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88 all : make -C $( KERN_DIR ) M = ` pwd ` modules $( CROSS_COMPILE ) gcc -o dac_test dac_test.c clean : make -C $( KERN_DIR ) M = ` pwd ` modules clean rm -rf modules.order dac_test obj-m += dac_drv.o","title":"6.Makefile\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/10-dacdriver/#7","text":"[root@100ask:/mnt]# insmod dac_drv.ko [root@100ask:/mnt]# ./dac_test /dev/mydac 100 [root@100ask:/mnt]# ./dac_test /dev/mydac 1000","title":"7.\u52a0\u8f7d\u9a71\u52a8\u6a21\u5757\u5e76\u8fdb\u884c\u6d4b\u8bd5"},{"location":"Stage3-DeviceDriver/Nxp/IMX6ULL/Pro/10-dacdriver/#8","text":"\u53ef\u4ee5\u4fee\u6539\u6570\u503c\uff0c\u5c31\u53ef\u4fee\u6539DAC\u6a21\u5757\u4e0aLED1\u7684\u4eae\u5ea6\u3002","title":"8.\u5b9e\u9a8c\u73b0\u8c61"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/01-leddriver/","text":"STM32MP157\u7684LED\u9a71\u52a8\u7a0b\u5e8f 1.\u786c\u4ef6\u4ecb\u7ecd \u672c\u8282\u5b9e\u9a8c\u4f7f\u7528\u5230 100ask_IMX6ULL-PRO \u5f00\u53d1\u677f\u4e0a\u7684 LED\u706f\u3002 2.\u770b\u539f\u7406\u56fe\u786e\u5b9a\u5f15\u811a \u6253\u5f00\u5f53\u524d\u76ee\u5f55\u7684 100ASK_STM32MP157_PRO_V11_\u5e95\u677f\u539f\u7406\u56fe.pdf \uff0c`100ASK_STM32MP157_PRO\u4f7f\u7528\u7684LED\u539f\u7406\u56fe\u5982\u4e0b\uff0c\u53ef\u77e5\u5f15\u811a\u6709GPIOA_10\u548cGPIOG_8\uff0c\u672c\u5b9e\u9a8c\u91c7\u7528GPIOA_10\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 stm32mp157\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c myled { compatible = \"100ask,leddrv\"; pinctrl-names = \"default\"; led-gpios = <&gpioa 10 GPIO_ACTIVE_LOW>; }; \u5c06\u6587\u4ef6\u5939\u4e2d\u7684100ask_led.dts\u8bbe\u5907\u6811\u6587\u4ef6\u5185\u5bb9\u653e\u5165stm32mp157c-100ask-512d-lcd-v1.dts\u6587\u4ef6\u4e2d\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u5185\u5bb9\u6dfb\u52a0\u5230\u7ea2\u8272\u6846\u5185\u3002 s \u6ce8\u610f\u914d\u7f6e\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\uff1a export ARCH=arm export CROSS_COMPILE=arm-buildroot-linux-gnueabihf- export PATH=$PATH:/home/book/100ask_stm32mp157_pro-sdk/ToolChain/arm-buildroot-linux-gnueabihf_sdk-buildroot/bin \u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/ 4.\u7f16\u8bd1LED\u7a0b\u5e8f \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fleddrv.ko\u548c\u5e94\u7528\u7a0b\u5e8fledtest\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp leddrv.ko ledtest ~/nfs_rootfs/ 5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c \u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u67e5\u8be2\u5f00\u53d1\u677f\u4e0a\u4fdd\u5b58\u5185\u6838\u548c\u8bbe\u5907\u6811\u7684\u5206\u533a cat /proc/mounts \u6267\u884c\u6302\u8f7d\u547d\u4ee4\uff0c\u8f93\u5165 mount /dev/mmcblk2p2 /boot/ \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/leddrv.ko ~ cp /mnt/ledtest ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod leddrv.ko \u6d4b\u8bd5\u9a71\u52a8\u7a0b\u5e8f\uff0c\u8f93\u5165 ./ledtest /dev/100ask_led0 on \u5b9e\u9a8c\u73b0\u8c61\uff0c\u53ef\u4ee5\u770b\u5230\u7eff\u8272\u706f\u4eae\u8d77\uff1a","title":"MP157Pro-LED\u706f"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/01-leddriver/#stm32mp157led","text":"","title":"STM32MP157\u7684LED\u9a71\u52a8\u7a0b\u5e8f"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/01-leddriver/#1","text":"\u672c\u8282\u5b9e\u9a8c\u4f7f\u7528\u5230 100ask_IMX6ULL-PRO \u5f00\u53d1\u677f\u4e0a\u7684 LED\u706f\u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/01-leddriver/#2","text":"\u6253\u5f00\u5f53\u524d\u76ee\u5f55\u7684 100ASK_STM32MP157_PRO_V11_\u5e95\u677f\u539f\u7406\u56fe.pdf \uff0c`100ASK_STM32MP157_PRO\u4f7f\u7528\u7684LED\u539f\u7406\u56fe\u5982\u4e0b\uff0c\u53ef\u77e5\u5f15\u811a\u6709GPIOA_10\u548cGPIOG_8\uff0c\u672c\u5b9e\u9a8c\u91c7\u7528GPIOA_10\u3002","title":"2.\u770b\u539f\u7406\u56fe\u786e\u5b9a\u5f15\u811a"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/01-leddriver/#3","text":"stm32mp157\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c myled { compatible = \"100ask,leddrv\"; pinctrl-names = \"default\"; led-gpios = <&gpioa 10 GPIO_ACTIVE_LOW>; }; \u5c06\u6587\u4ef6\u5939\u4e2d\u7684100ask_led.dts\u8bbe\u5907\u6811\u6587\u4ef6\u5185\u5bb9\u653e\u5165stm32mp157c-100ask-512d-lcd-v1.dts\u6587\u4ef6\u4e2d\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u5185\u5bb9\u6dfb\u52a0\u5230\u7ea2\u8272\u6846\u5185\u3002 s \u6ce8\u610f\u914d\u7f6e\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\uff1a export ARCH=arm export CROSS_COMPILE=arm-buildroot-linux-gnueabihf- export PATH=$PATH:/home/book/100ask_stm32mp157_pro-sdk/ToolChain/arm-buildroot-linux-gnueabihf_sdk-buildroot/bin \u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/01-leddriver/#4led","text":"\u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fleddrv.ko\u548c\u5e94\u7528\u7a0b\u5e8fledtest\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp leddrv.ko ledtest ~/nfs_rootfs/","title":"4.\u7f16\u8bd1LED\u7a0b\u5e8f"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/01-leddriver/#5","text":"\u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u67e5\u8be2\u5f00\u53d1\u677f\u4e0a\u4fdd\u5b58\u5185\u6838\u548c\u8bbe\u5907\u6811\u7684\u5206\u533a cat /proc/mounts \u6267\u884c\u6302\u8f7d\u547d\u4ee4\uff0c\u8f93\u5165 mount /dev/mmcblk2p2 /boot/ \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/leddrv.ko ~ cp /mnt/ledtest ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod leddrv.ko \u6d4b\u8bd5\u9a71\u52a8\u7a0b\u5e8f\uff0c\u8f93\u5165 ./ledtest /dev/100ask_led0 on \u5b9e\u9a8c\u73b0\u8c61\uff0c\u53ef\u4ee5\u770b\u5230\u7eff\u8272\u706f\u4eae\u8d77\uff1a","title":"5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/02-keydriver/","text":"key\u6309\u952e\u5b9e\u9a8c\u8bf4\u660e 1. \u786c\u4ef6\u4ecb\u7ecd \u672c\u8282\u5b9e\u9a8c\u4f7f\u7528\u5230 100ask_STM32MP157-PRO \u5f00\u53d1\u677f\u4e0a\u7684 KEY1\u3001KEY2\u3002 2.\u770b\u539f\u7406\u56fe\u786e\u5b9a\u5f15\u811a \u6253\u5f00 100ASK_STM32MP157_PRO_V11_\u5e95\u677f\u539f\u7406\u56fe.pdf \uff0c100ASK_STM32MP157_PRO\u4f7f\u7528\u7684kEY1\u3001KEY2\u539f\u7406\u56fe\u5982\u4e0b\uff0c\u53ef\u77e5\u5f15\u811a\u662f GPIOG_3 \u4e0e GPIOG_2 \uff1a 3.\u4fee\u6539\u8bbe\u5907\u6811 100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c gpio_keys_100ask { compatible = \"100ask,gpio_key\"; gpios = <&gpiog 3 GPIO_ACTIVE_LOW &gpiog 2 GPIO_ACTIVE_LOW>; }; \u5c06\u6587\u4ef6\u5939\u4e2d\u7684100ask_led.dts\u8bbe\u5907\u6811\u6587\u4ef6\u5185\u5bb9\u653e\u5165stm32mp157c-100ask-512d-lcd-v1.dts\u6587\u4ef6\u4e2d\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u5185\u5bb9\u6dfb\u52a0\u5230\u7ea2\u8272\u6846\u5185\u3002 \u628a\u539f\u6765\u7684GPIO\u6309\u952e\u8282\u70b9\u7981\u6b62\u6389 \uff1a \u4fee \u6539 arch/arm/boot/dts/stm32mp15xx-100ask.dtsi\u3002\u8f93\u5165 vi arch/arm/boot/dts/stm32mp15xx-100ask.dtsi \u8fdb\u5165\u5982\u4e0b\u56fe\u76ee\u5f55\uff1a \u8f93\u5165/joystick\uff0c\u518d\u6309\u56de\u8f66\u3002\u5373\u53ef\u5230\u5982\u4e0b\u754c\u9762\u3002 \u8f93\u5165i\u8fdb\u884c\u7f16\u8f91\uff0c\u5982\u4e0b\u56fe\u7ea2\u6846\u6240\u793a\uff0c\u589e\u52a0\u5982\u4e0b\u5185\u5bb9 status = \"disabled\"; \u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/ 4.\u7f16\u8bd1\u7a0b\u5e8f \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fleddrv.ko\u548c\u5e94\u7528\u7a0b\u5e8fledtest\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp gpio_key_drv.ko button_test ~/nfs_rootfs/ 5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c \u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/gpio_key_drv.ko ~ cp /mnt/button_test ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod gpio_key_drv.ko \u6d4b\u8bd5\u9a71\u52a8\u7a0b\u5e8f\uff0c\u8f93\u5165 ./button_test /dev/100ask_gpio_key \u5b9e\u9a8c\u73b0\u8c61\uff0c\u6309\u4e0b\u6309\u952e\u8f93\u5165\u7ed3\u679c\u5982\u4e0b\uff1a","title":"MP157Pro-\u6309\u952e"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/02-keydriver/#key","text":"","title":"key\u6309\u952e\u5b9e\u9a8c\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/02-keydriver/#1","text":"\u672c\u8282\u5b9e\u9a8c\u4f7f\u7528\u5230 100ask_STM32MP157-PRO \u5f00\u53d1\u677f\u4e0a\u7684 KEY1\u3001KEY2\u3002","title":"1. \u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/02-keydriver/#2","text":"\u6253\u5f00 100ASK_STM32MP157_PRO_V11_\u5e95\u677f\u539f\u7406\u56fe.pdf \uff0c100ASK_STM32MP157_PRO\u4f7f\u7528\u7684kEY1\u3001KEY2\u539f\u7406\u56fe\u5982\u4e0b\uff0c\u53ef\u77e5\u5f15\u811a\u662f GPIOG_3 \u4e0e GPIOG_2 \uff1a","title":"2.\u770b\u539f\u7406\u56fe\u786e\u5b9a\u5f15\u811a"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/02-keydriver/#3","text":"100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c gpio_keys_100ask { compatible = \"100ask,gpio_key\"; gpios = <&gpiog 3 GPIO_ACTIVE_LOW &gpiog 2 GPIO_ACTIVE_LOW>; }; \u5c06\u6587\u4ef6\u5939\u4e2d\u7684100ask_led.dts\u8bbe\u5907\u6811\u6587\u4ef6\u5185\u5bb9\u653e\u5165stm32mp157c-100ask-512d-lcd-v1.dts\u6587\u4ef6\u4e2d\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u5185\u5bb9\u6dfb\u52a0\u5230\u7ea2\u8272\u6846\u5185\u3002 \u628a\u539f\u6765\u7684GPIO\u6309\u952e\u8282\u70b9\u7981\u6b62\u6389 \uff1a \u4fee \u6539 arch/arm/boot/dts/stm32mp15xx-100ask.dtsi\u3002\u8f93\u5165 vi arch/arm/boot/dts/stm32mp15xx-100ask.dtsi \u8fdb\u5165\u5982\u4e0b\u56fe\u76ee\u5f55\uff1a \u8f93\u5165/joystick\uff0c\u518d\u6309\u56de\u8f66\u3002\u5373\u53ef\u5230\u5982\u4e0b\u754c\u9762\u3002 \u8f93\u5165i\u8fdb\u884c\u7f16\u8f91\uff0c\u5982\u4e0b\u56fe\u7ea2\u6846\u6240\u793a\uff0c\u589e\u52a0\u5982\u4e0b\u5185\u5bb9 status = \"disabled\"; \u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/02-keydriver/#4","text":"\u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fleddrv.ko\u548c\u5e94\u7528\u7a0b\u5e8fledtest\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp gpio_key_drv.ko button_test ~/nfs_rootfs/","title":"4.\u7f16\u8bd1\u7a0b\u5e8f"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/02-keydriver/#5","text":"\u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/gpio_key_drv.ko ~ cp /mnt/button_test ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod gpio_key_drv.ko \u6d4b\u8bd5\u9a71\u52a8\u7a0b\u5e8f\uff0c\u8f93\u5165 ./button_test /dev/100ask_gpio_key \u5b9e\u9a8c\u73b0\u8c61\uff0c\u6309\u4e0b\u6309\u952e\u8f93\u5165\u7ed3\u679c\u5982\u4e0b\uff1a","title":"5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/03-sr501driver/","text":"sr501\u4eba\u4f53\u7ea2\u5916\u4f20\u611f\u5668\u5b9e\u9a8c\u8bf4\u660e 1.\u786c\u4ef6\u4ecb\u7ecd \u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a \u4eba\u4f53\u7ea2\u5916\u611f\u5e94.zip \u3002 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5 100ASK_STM32MP157_PRO\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1a\u6ce8\u610fSR501\u6a21\u5757\u4e2d\u7ea2\u7ebf\u3001\u9ed1\u7ebf\u3001\u7eff\u7ebf\u7684\u4f4d\u7f6e\uff0c\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c sr501 { compatible = \"100ask,sr501\"; gpios = <&gpioa 5 GPIO_ACTIVE_HIGH>; }; \u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/ 4.\u7f16\u8bd1\u7a0b\u5e8f \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fsr501_drv.ko\u548c\u5e94\u7528\u7a0b\u5e8fsr501_test\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp sr501_drv.ko sr501_test ~/nfs_rootfs/ 5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c \u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/sr501_drv.ko ~ cp /mnt/sr501_test ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod sr501_drv.ko \u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"MP157Pro-SR501"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/03-sr501driver/#sr501","text":"","title":"sr501\u4eba\u4f53\u7ea2\u5916\u4f20\u611f\u5668\u5b9e\u9a8c\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/03-sr501driver/#1","text":"\u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a \u4eba\u4f53\u7ea2\u5916\u611f\u5e94.zip \u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/03-sr501driver/#2","text":"100ASK_STM32MP157_PRO\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1a\u6ce8\u610fSR501\u6a21\u5757\u4e2d\u7ea2\u7ebf\u3001\u9ed1\u7ebf\u3001\u7eff\u7ebf\u7684\u4f4d\u7f6e\uff0c\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/03-sr501driver/#3","text":"100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c sr501 { compatible = \"100ask,sr501\"; gpios = <&gpioa 5 GPIO_ACTIVE_HIGH>; }; \u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/03-sr501driver/#4","text":"\u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fsr501_drv.ko\u548c\u5e94\u7528\u7a0b\u5e8fsr501_test\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp sr501_drv.ko sr501_test ~/nfs_rootfs/","title":"4.\u7f16\u8bd1\u7a0b\u5e8f"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/03-sr501driver/#5","text":"\u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/sr501_drv.ko ~ cp /mnt/sr501_test ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod sr501_drv.ko \u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/04-SR04driver/","text":"sr04\u8d85\u58f0\u6ce2\u4f20\u611f\u5668\u5b9e\u9a8c\u8bf4\u660e 1.\u786c\u4ef6\u4ecb\u7ecd \u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a \u8d85\u58f0\u6ce2.zip \u3002 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5 STM32MP157\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1aSR04\u6a21\u5757\u4e2d\u7684\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c sr04 { /* for stm32mp157 */ compatible = \"100ask,sr04\"; trig-gpios = <&gpioa 5 GPIO_ACTIVE_HIGH>; echo-gpios = <&gpioa 13 GPIO_ACTIVE_HIGH>; }; \u4fee\u6539sii902x\u8bbe\u5907\u6811\uff0c\u6309esc\u56de\u5230\u8f93\u5165\u6a21\u5f0f\uff0c\u8f93\u5165/sii902x\uff0c\u56de\u8f66\u67e5\u5230\u5230sii902x\u8bbe\u5907\u6811\uff0c\u8f93\u5165i\u8fdb\u884c\u4fee\u6539\uff0c\u5c06sii902x@39\u7684\u72b6\u6001\u6539\u4e3adisabled \u4fdd\u5b58\u9000\u51fa\u540e\u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/ 4.\u7f16\u8bd1\u7a0b\u5e8f \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fsr501_drv.ko\u548c\u5e94\u7528\u7a0b\u5e8fsr501_test\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp sr04_drv.ko sr04_test ~/nfs_rootfs/ 5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c \u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/sr04_drv.ko ~ cp /mnt/sr04_test ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod sr501_drv.ko \u6d4b\u8bd5\u7a0b\u5e8f\uff1a ./sr04_test /dev/sr04 \u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"MP157Pro-SR04"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/04-SR04driver/#sr04","text":"","title":"sr04\u8d85\u58f0\u6ce2\u4f20\u611f\u5668\u5b9e\u9a8c\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/04-SR04driver/#1","text":"\u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a \u8d85\u58f0\u6ce2.zip \u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/04-SR04driver/#2","text":"STM32MP157\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1aSR04\u6a21\u5757\u4e2d\u7684\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/04-SR04driver/#3","text":"100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c sr04 { /* for stm32mp157 */ compatible = \"100ask,sr04\"; trig-gpios = <&gpioa 5 GPIO_ACTIVE_HIGH>; echo-gpios = <&gpioa 13 GPIO_ACTIVE_HIGH>; }; \u4fee\u6539sii902x\u8bbe\u5907\u6811\uff0c\u6309esc\u56de\u5230\u8f93\u5165\u6a21\u5f0f\uff0c\u8f93\u5165/sii902x\uff0c\u56de\u8f66\u67e5\u5230\u5230sii902x\u8bbe\u5907\u6811\uff0c\u8f93\u5165i\u8fdb\u884c\u4fee\u6539\uff0c\u5c06sii902x@39\u7684\u72b6\u6001\u6539\u4e3adisabled \u4fdd\u5b58\u9000\u51fa\u540e\u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/04-SR04driver/#4","text":"\u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fsr501_drv.ko\u548c\u5e94\u7528\u7a0b\u5e8fsr501_test\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp sr04_drv.ko sr04_test ~/nfs_rootfs/","title":"4.\u7f16\u8bd1\u7a0b\u5e8f"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/04-SR04driver/#5","text":"\u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/sr04_drv.ko ~ cp /mnt/sr04_test ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod sr501_drv.ko \u6d4b\u8bd5\u7a0b\u5e8f\uff1a ./sr04_test /dev/sr04 \u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/05-dht11driver/","text":"DHT11\u6e29\u6e7f\u5ea6\u4f20\u611f\u5668\u5b9e\u9a8c\u8bf4\u660e 1.\u786c\u4ef6\u4ecb\u7ecd \u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a dht11.zip \u3002 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5 STM32MP157\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1aDHT11\u6a21\u5757\u4e2d\u7684\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c dht11 { /* for stm32mp157 */ compatible = \"100ask,dht11\"; gpios = <&gpioc 3 GPIO_ACTIVE_HIGH>; }; \u4fee\u6539button\u8bbe\u5907\u6811\uff0c\u9632\u6b62\u6309\u952e\u62a2\u4e2d\u65ad\u3002 vi arch/arm/boot/dts/stm32mp15xx-100ask.dtsi \u5728\u8f93\u5165\u6a21\u5f0f\u4e0b\uff0c\u8f93\u5165/joystick\uff0c\u56de\u8f66\uff0c\u5373\u53ef\u641c\u7d22\u5230\u4e0b\u56fe\u6240\u793a\u8bbe\u5907\u6811\uff0c\u5728\u8bbe\u5907\u6811\u4e2d\u589e\u52a0\u72b6\u6001\u3002 status = \"disabled\"; \u4fdd\u5b58\u9000\u51fa\u540e\u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/ 4.\u7f16\u8bd1\u7a0b\u5e8f \u7a0b\u5e8f\u4f4d\u4e8esource\u6587\u4ef6\u5939\u4e2d\u3002 \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fdht11_drv.ko\u548c\u5e94\u7528\u7a0b\u5e8fdht11_test\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp dht11_drv.ko dht11_test ~/nfs_rootfs/ 5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c \u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/dht11_drv.ko ~ cp /mnt/dht11_test ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod dht11_drv.ko \u6d4b\u8bd5\u7a0b\u5e8f\uff1a ./dht11_test /dev/mydht11 \u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"MP157Pro-DHT11"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/05-dht11driver/#dht11","text":"","title":"DHT11\u6e29\u6e7f\u5ea6\u4f20\u611f\u5668\u5b9e\u9a8c\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/05-dht11driver/#1","text":"\u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a dht11.zip \u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/05-dht11driver/#2","text":"STM32MP157\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1aDHT11\u6a21\u5757\u4e2d\u7684\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/05-dht11driver/#3","text":"100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c dht11 { /* for stm32mp157 */ compatible = \"100ask,dht11\"; gpios = <&gpioc 3 GPIO_ACTIVE_HIGH>; }; \u4fee\u6539button\u8bbe\u5907\u6811\uff0c\u9632\u6b62\u6309\u952e\u62a2\u4e2d\u65ad\u3002 vi arch/arm/boot/dts/stm32mp15xx-100ask.dtsi \u5728\u8f93\u5165\u6a21\u5f0f\u4e0b\uff0c\u8f93\u5165/joystick\uff0c\u56de\u8f66\uff0c\u5373\u53ef\u641c\u7d22\u5230\u4e0b\u56fe\u6240\u793a\u8bbe\u5907\u6811\uff0c\u5728\u8bbe\u5907\u6811\u4e2d\u589e\u52a0\u72b6\u6001\u3002 status = \"disabled\"; \u4fdd\u5b58\u9000\u51fa\u540e\u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/05-dht11driver/#4","text":"\u7a0b\u5e8f\u4f4d\u4e8esource\u6587\u4ef6\u5939\u4e2d\u3002 \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fdht11_drv.ko\u548c\u5e94\u7528\u7a0b\u5e8fdht11_test\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp dht11_drv.ko dht11_test ~/nfs_rootfs/","title":"4.\u7f16\u8bd1\u7a0b\u5e8f"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/05-dht11driver/#5","text":"\u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/dht11_drv.ko ~ cp /mnt/dht11_test ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod dht11_drv.ko \u6d4b\u8bd5\u7a0b\u5e8f\uff1a ./dht11_test /dev/mydht11 \u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/06-ds18b20driver/","text":"DS18B20\u6e29\u5ea6\u4f20\u611f\u5668\u5b9e\u9a8c\u8bf4\u660e 1.\u786c\u4ef6\u4ecb\u7ecd \u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a ds18b20.zip \u3002 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5 STM32MP157\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1ads18b20\u6a21\u5757\u4e2d\u7684\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c ds18b20 { /* for stm32mp157 */ compatible = \"100ask,ds18b20\"; gpios = <&gpioc 3 GPIO_ACTIVE_HIGH>; }; \u4fdd\u5b58\u9000\u51fa\u540e\u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/ 4.\u7f16\u8bd1\u7a0b\u5e8f \u7a0b\u5e8f\u4f4d\u4e8esource\u6587\u4ef6\u5939\u4e2d\u3002 \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fds18b20_drv.ko\u548c\u5e94\u7528\u7a0b\u5e8fds18b20_test\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp ds18b20_drv.ko ds18b20_test ~/nfs_rootfs/ 5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c \u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/ds18b20_drv.ko ~ cp /mnt/ds18b20_test ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod ds18b20_drv.ko \u6d4b\u8bd5\u7a0b\u5e8f\uff1a ./ds18b20_test /dev/myds18b20 \u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"MP157Pro-DS18B20"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/06-ds18b20driver/#ds18b20","text":"","title":"DS18B20\u6e29\u5ea6\u4f20\u611f\u5668\u5b9e\u9a8c\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/06-ds18b20driver/#1","text":"\u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a ds18b20.zip \u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/06-ds18b20driver/#2","text":"STM32MP157\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1ads18b20\u6a21\u5757\u4e2d\u7684\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/06-ds18b20driver/#3","text":"100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c ds18b20 { /* for stm32mp157 */ compatible = \"100ask,ds18b20\"; gpios = <&gpioc 3 GPIO_ACTIVE_HIGH>; }; \u4fdd\u5b58\u9000\u51fa\u540e\u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/06-ds18b20driver/#4","text":"\u7a0b\u5e8f\u4f4d\u4e8esource\u6587\u4ef6\u5939\u4e2d\u3002 \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fds18b20_drv.ko\u548c\u5e94\u7528\u7a0b\u5e8fds18b20_test\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp ds18b20_drv.ko ds18b20_test ~/nfs_rootfs/","title":"4.\u7f16\u8bd1\u7a0b\u5e8f"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/06-ds18b20driver/#5","text":"\u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/ds18b20_drv.ko ~ cp /mnt/ds18b20_test ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod ds18b20_drv.ko \u6d4b\u8bd5\u7a0b\u5e8f\uff1a ./ds18b20_test /dev/myds18b20 \u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/07-hs0038driver/","text":"HS0038\u7ea2\u5916\u6a21\u5757\u5b9e\u9a8c\u8bf4\u660e 1.\u786c\u4ef6\u4ecb\u7ecd \u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a irda.zip \u3002 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5 STM32MP157\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1ahs0038\u6a21\u5757\u4e2d\u7684\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c hs0038 { /* for stm32mp157 */ compatible = \"100ask,hs0038\"; gpios = <&gpioc 3 GPIO_ACTIVE_HIGH>; }; \u4fdd\u5b58\u9000\u51fa\u540e\u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/ 4.\u7f16\u8bd1\u7a0b\u5e8f \u7a0b\u5e8f\u4f4d\u4e8esource\u6587\u4ef6\u5939\u4e2d\u3002 \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fhs0038_drv.ko\u548c\u5e94\u7528\u7a0b\u5e8fhs0038_test_input\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp hs0038_drv.ko hs0038_test_input ~/nfs_rootfs/ 5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c \u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/hs0038_drv.ko ~ cp /mnt/hs0038_test_input ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod hs0038_drv.ko \u6d4b\u8bd5\u7a0b\u5e8f\uff1a ./hs0038_test_input /dev/input/event0 \u4f7f\u7528\u7ea2\u5916\u9065\u63a7\u5668\uff0c\u6309\u4e0b\u6309\u952e\u7684\u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"MP157Pro-HS0038"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/07-hs0038driver/#hs0038","text":"","title":"HS0038\u7ea2\u5916\u6a21\u5757\u5b9e\u9a8c\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/07-hs0038driver/#1","text":"\u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a irda.zip \u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/07-hs0038driver/#2","text":"STM32MP157\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1ahs0038\u6a21\u5757\u4e2d\u7684\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/07-hs0038driver/#3","text":"100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c hs0038 { /* for stm32mp157 */ compatible = \"100ask,hs0038\"; gpios = <&gpioc 3 GPIO_ACTIVE_HIGH>; }; \u4fdd\u5b58\u9000\u51fa\u540e\u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/07-hs0038driver/#4","text":"\u7a0b\u5e8f\u4f4d\u4e8esource\u6587\u4ef6\u5939\u4e2d\u3002 \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fhs0038_drv.ko\u548c\u5e94\u7528\u7a0b\u5e8fhs0038_test_input\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp hs0038_drv.ko hs0038_test_input ~/nfs_rootfs/","title":"4.\u7f16\u8bd1\u7a0b\u5e8f"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/07-hs0038driver/#5","text":"\u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/hs0038_drv.ko ~ cp /mnt/hs0038_test_input ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod hs0038_drv.ko \u6d4b\u8bd5\u7a0b\u5e8f\uff1a ./hs0038_test_input /dev/input/event0 \u4f7f\u7528\u7ea2\u5916\u9065\u63a7\u5668\uff0c\u6309\u4e0b\u6309\u952e\u7684\u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/08-at24c02driver/","text":"AT24C02\u7ea2\u5916\u6a21\u5757\u5b9e\u9a8c\u8bf4\u660e 1.\u786c\u4ef6\u4ecb\u7ecd \u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a eeprom.zip \u3002 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5 STM32MP157\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1aat24c02\u6a21\u5757\u4e2d\u7684\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c &i2c2 { at24c02 { compatible = \"100ask,at24c02\"; reg = <0x50>; }; }; \u4fdd\u5b58\u9000\u51fa\u540e\u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u6ce8\u610f\uff1a\u5982\u6709\u8b66\u544a\u53ef\u4ee5\u65e0\u89c6\u3002 \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/ 4.\u7f16\u8bd1\u7a0b\u5e8f \u7a0b\u5e8f\u4f4d\u4e8esource\u6587\u4ef6\u5939\u4e2d\u3002 \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fat24c02_drv.ko\u548c\u5e94\u7528\u7a0b\u5e8fat24c02_test\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp at24c02_drv.ko at24c02_test ~/nfs_rootfs/ 5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c \u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/at24c02_drv.ko ~ cp /mnt/at24c02_test ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod at24c02_drv.ko \u6d4b\u8bd5\u7a0b\u5e8f\uff1a ./at24c02_test /dev/myat24c02 r 0 ./at24c02_test /dev/myat24c02 w 0 0x88 ./at24c02_test /dev/myat24c02 r 0 ./at24c02_test /dev/myat24c02 r 1 ./at24c02_test /dev/myat24c02 w 1 0x37 ./at24c02_test /dev/myat24c02 r 1 \u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"MP157Pro-AT24c02\u6a21\u5757"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/08-at24c02driver/#at24c02","text":"","title":"AT24C02\u7ea2\u5916\u6a21\u5757\u5b9e\u9a8c\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/08-at24c02driver/#1","text":"\u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a eeprom.zip \u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/08-at24c02driver/#2","text":"STM32MP157\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1aat24c02\u6a21\u5757\u4e2d\u7684\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/08-at24c02driver/#3","text":"100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c &i2c2 { at24c02 { compatible = \"100ask,at24c02\"; reg = <0x50>; }; }; \u4fdd\u5b58\u9000\u51fa\u540e\u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u6ce8\u610f\uff1a\u5982\u6709\u8b66\u544a\u53ef\u4ee5\u65e0\u89c6\u3002 \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/08-at24c02driver/#4","text":"\u7a0b\u5e8f\u4f4d\u4e8esource\u6587\u4ef6\u5939\u4e2d\u3002 \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8fat24c02_drv.ko\u548c\u5e94\u7528\u7a0b\u5e8fat24c02_test\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp at24c02_drv.ko at24c02_test ~/nfs_rootfs/","title":"4.\u7f16\u8bd1\u7a0b\u5e8f"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/08-at24c02driver/#5","text":"\u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/at24c02_drv.ko ~ cp /mnt/at24c02_test ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod at24c02_drv.ko \u6d4b\u8bd5\u7a0b\u5e8f\uff1a ./at24c02_test /dev/myat24c02 r 0 ./at24c02_test /dev/myat24c02 w 0 0x88 ./at24c02_test /dev/myat24c02 r 0 ./at24c02_test /dev/myat24c02 r 1 ./at24c02_test /dev/myat24c02 w 1 0x37 ./at24c02_test /dev/myat24c02 r 1 \u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/09-oleddriver/","text":"OLED\u5c4f\u5e55\u5b9e\u9a8c\u8bf4\u660e 1.\u786c\u4ef6\u4ecb\u7ecd \u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a oled.zip \u3002 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5 STM32MP157\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1aoled\u6a21\u5757\u4e2d\u7684\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u627e\u5230spi5\uff0c\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9\uff0c &spi5 { pinctrl-names = \"default\", \"sleep\"; pinctrl-0 = <&spi5_pins_a>; pinctrl-1 = <&spi5_sleep_pins_a>; status = \"okay\"; cs-gpios = <&gpioh 5 GPIO_ACTIVE_LOW>, <&gpioz 4 GPIO_ACTIVE_LOW>; spidev: icm20608@0{ compatible = \"invensense,icm20608\"; interrupts = <0 IRQ_TYPE_EDGE_FALLING>; interrupt-parent = <&gpioz>; spi-max-frequency = <8000000>; reg = <0>; }; oled: oled@1{ compatible = \"100ask,oled\"; spi-max-frequency = <10000000>; reg = <1>; dc-gpios = <&gpioa 13 GPIO_ACTIVE_HIGH>; pinctrl-names = \"default\"; pinctrl-0 = <&oled_pins>; }; }; \u8fd8\u9700\u8981\u589e\u52a0\u4f7f\u7528\u7684\u5f15\u811a\uff0c\u4fee\u6539 arch/arm/boot/dts/stm32mp157-100ask-pinctrl.dtsi \u6587\u4ef6\uff0c\u8f93\u5165 vim arch/arm/boot/dts/stm32mp157-100ask-pinctrl.dtsi \u589e\u52a0\u5982\u4e0b\u5185\u5bb9 oled_pins: oled_pins { pins { pinmux = <STM32_PINMUX('A', 13, GPIO)>; bias-disable; drive-push-pull; slew-rate = <1>; }; }; \u4fdd\u5b58\u9000\u51fa\u540e\u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/ 4.\u7f16\u8bd1\u7a0b\u5e8f \u7a0b\u5e8f\u4f4d\u4e8esource\u6587\u4ef6\u5939\u4e2d\u3002 \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8foled_drv.ko\u548c\u5e94\u7528\u7a0b\u5e8fspi_oled\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp oled_drv.ko spi_oled ~/nfs_rootfs/ 5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c \u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/oled_drv.ko ~ cp /mnt/spi_oled ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod oled_drv.ko \u6d4b\u8bd5\u7a0b\u5e8f\uff1a ./spi_oled /dev/100ask_oled \u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"MP157Pro-OLED"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/09-oleddriver/#oled","text":"","title":"OLED\u5c4f\u5e55\u5b9e\u9a8c\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/09-oleddriver/#1","text":"\u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a oled.zip \u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/09-oleddriver/#2","text":"STM32MP157\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1aoled\u6a21\u5757\u4e2d\u7684\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/09-oleddriver/#3","text":"100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u627e\u5230spi5\uff0c\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9\uff0c &spi5 { pinctrl-names = \"default\", \"sleep\"; pinctrl-0 = <&spi5_pins_a>; pinctrl-1 = <&spi5_sleep_pins_a>; status = \"okay\"; cs-gpios = <&gpioh 5 GPIO_ACTIVE_LOW>, <&gpioz 4 GPIO_ACTIVE_LOW>; spidev: icm20608@0{ compatible = \"invensense,icm20608\"; interrupts = <0 IRQ_TYPE_EDGE_FALLING>; interrupt-parent = <&gpioz>; spi-max-frequency = <8000000>; reg = <0>; }; oled: oled@1{ compatible = \"100ask,oled\"; spi-max-frequency = <10000000>; reg = <1>; dc-gpios = <&gpioa 13 GPIO_ACTIVE_HIGH>; pinctrl-names = \"default\"; pinctrl-0 = <&oled_pins>; }; }; \u8fd8\u9700\u8981\u589e\u52a0\u4f7f\u7528\u7684\u5f15\u811a\uff0c\u4fee\u6539 arch/arm/boot/dts/stm32mp157-100ask-pinctrl.dtsi \u6587\u4ef6\uff0c\u8f93\u5165 vim arch/arm/boot/dts/stm32mp157-100ask-pinctrl.dtsi \u589e\u52a0\u5982\u4e0b\u5185\u5bb9 oled_pins: oled_pins { pins { pinmux = <STM32_PINMUX('A', 13, GPIO)>; bias-disable; drive-push-pull; slew-rate = <1>; }; }; \u4fdd\u5b58\u9000\u51fa\u540e\u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/09-oleddriver/#4","text":"\u7a0b\u5e8f\u4f4d\u4e8esource\u6587\u4ef6\u5939\u4e2d\u3002 \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u9a71\u52a8\u7a0b\u5e8foled_drv.ko\u548c\u5e94\u7528\u7a0b\u5e8fspi_oled\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp oled_drv.ko spi_oled ~/nfs_rootfs/","title":"4.\u7f16\u8bd1\u7a0b\u5e8f"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/09-oleddriver/#5","text":"\u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/oled_drv.ko ~ cp /mnt/spi_oled ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u91cd\u542f\u5b8c\u6210\u540e\uff0c\u5f00\u59cb\u5b89\u88c5\u9a71\u52a8\uff0c\u8f93\u5165 insmod oled_drv.ko \u6d4b\u8bd5\u7a0b\u5e8f\uff1a ./spi_oled /dev/100ask_oled \u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/10-dacdriver/","text":"OLED\u5c4f\u5e55\u5b9e\u9a8c\u8bf4\u660e 1.\u786c\u4ef6\u4ecb\u7ecd \u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a dac.zip \u3002 2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5 STM32MP157\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1aoled\u6a21\u5757\u4e2d\u7684\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002 3.\u4fee\u6539\u8bbe\u5907\u6811 100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u627e\u5230spi5\uff0c\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9\uff0c &spi5 { pinctrl-names = \"default\", \"sleep\"; pinctrl-0 = <&spi5_pins_a>; pinctrl-1 = <&spi5_sleep_pins_a>; status = \"okay\"; cs-gpios = <&gpioh 5 GPIO_ACTIVE_LOW>, <&gpioz 4 GPIO_ACTIVE_LOW>; spidev: icm20608@0{ compatible = \"invensense,icm20608\"; interrupts = <0 IRQ_TYPE_EDGE_FALLING>; interrupt-parent = <&gpioz>; spi-max-frequency = <8000000>; reg = <0>; }; dac_test: dac_test@1{ compatible = \"spidev\"; spi-max-frequency = <20000000>; reg = <1>; }; }; \u4fdd\u5b58\u9000\u51fa\u540e\u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/ 4.\u7f16\u8bd1\u7a0b\u5e8f \u7a0b\u5e8f\u4f4d\u4e8esource\u6587\u4ef6\u5939\u4e2d\u3002 \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u5e94\u7528\u7a0b\u5e8fdac_test\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp dac_test ~/nfs_rootfs/ 5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c \u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/dac_test ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u6d4b\u8bd5\u7a0b\u5e8f\uff1a ./dac_test /dev/spidev0.0 500 ./dac_test /dev/spidev0.0 600 ./dac_test /dev/spidev0.0 1000 \u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"MP157Pro-DAC\u6a21\u5757"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/10-dacdriver/#oled","text":"","title":"OLED\u5c4f\u5e55\u5b9e\u9a8c\u8bf4\u660e"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/10-dacdriver/#1","text":"\u6a21\u5757\u539f\u7406\u56fe\u53ca\u8d44\u6599 \uff1a dac.zip \u3002","title":"1.\u786c\u4ef6\u4ecb\u7ecd"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/10-dacdriver/#2","text":"STM32MP157\u5148\u65ad\u7535\uff0c\u6309\u4e0b\u56fe\u6240\u793a\uff0c\u5c06\u6a21\u5757\u63d2\u5728\u6269\u5c55\u677f\u7684GPIO0\uff0c\u5c06\u6269\u5c55\u677f\u63d2\u5728\u5e95\u677f\u4e0a\u3002 \u6ce8\u610f\uff1a\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u63a5\u9519\u65b9\u5411\uff0c\u6a21\u5757\u548c\u6269\u5c55\u677f\u90fd\u6709\u4e00\u6761\u957f\u767d\u7ebf\uff0c\u8fde\u63a5\u65f6\u9700\u8981\u6a21\u5757\u4e0a\u7684\u767d\u7ebf\u548c\u6269\u5c55\u677f\u7684\u767d\u7ebf\u5728\u540c\u4e00\u4fa7\u3002 \u6ce8\u610f\uff1aoled\u6a21\u5757\u4e2d\u7684\u5982\u4e0b\u56fe\u63a5\u7ebf\u3002","title":"2.\u786c\u4ef6\u4e0e\u5f00\u53d1\u677f\u8fde\u63a5\u7684\u65b9\u6cd5"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/10-dacdriver/#3","text":"100ASK_STM32MP157_PRO\u7684\u8bbe\u5907\u6811\u76ee\u5f55\u4e3a\uff1a 100ask_stm32mp157_pro-sdk/Linux-5.4/arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u8fdb\u5165\u5185\u6838\u76ee\u5f55 cd ~/100ask_stm32mp157_pro-sdk/Linux-5.4 \u4fee\u6539\u8bbe\u5907\u6811dts vi arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dts \u627e\u5230spi5\uff0c\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9\uff0c &spi5 { pinctrl-names = \"default\", \"sleep\"; pinctrl-0 = <&spi5_pins_a>; pinctrl-1 = <&spi5_sleep_pins_a>; status = \"okay\"; cs-gpios = <&gpioh 5 GPIO_ACTIVE_LOW>, <&gpioz 4 GPIO_ACTIVE_LOW>; spidev: icm20608@0{ compatible = \"invensense,icm20608\"; interrupts = <0 IRQ_TYPE_EDGE_FALLING>; interrupt-parent = <&gpioz>; spi-max-frequency = <8000000>; reg = <0>; }; dac_test: dac_test@1{ compatible = \"spidev\"; spi-max-frequency = <20000000>; reg = <1>; }; }; \u4fdd\u5b58\u9000\u51fa\u540e\u7f16\u8bd1\u8bbe\u5907\u6811 make dtbs \u5c06\u751f\u6210\u7684stm32mp157c-100ask-512d-lcd-v1.dtb\u62f7\u8d1d\u5230nfs_rootfs\u76ee\u5f55\u4e2d cp arch/arm/boot/dts/stm32mp157c-100ask-512d-lcd-v1.dtb ~/nfs_rootfs/","title":"3.\u4fee\u6539\u8bbe\u5907\u6811"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/10-dacdriver/#4","text":"\u7a0b\u5e8f\u4f4d\u4e8esource\u6587\u4ef6\u5939\u4e2d\u3002 \u4fee\u6539Makefile\u6587\u4ef6\uff0c\u5c06\u4e0b\u56fe\u4e2dMakefile\u6587\u4ef6\u4e2d\u7684KERN_DIR\u4fee\u6539\u4e3a\u5f00\u53d1\u677f\u5185\u6838\u76ee\u5f55\uff0c\u5982\u4f7f\u7528\u7684\u662f\u767e\u95ee\u7f51\u63d0\u4f9b\u7684Ubuntu\u955c\u50cf\u76ee\u5f55\u8bbe\u7f6e\u4e3a\uff1a /home/book/100ask_stm32mp157_pro-sdk/Linux-5.4 \u8f93\u5165make\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u3002 \u5c06\u751f\u6210\u7684\u5e94\u7528\u7a0b\u5e8fdac_test\u62f7\u8d1d\u5230\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u8f93\u5165 cp dac_test ~/nfs_rootfs/","title":"4.\u7f16\u8bd1\u7a0b\u5e8f"},{"location":"Stage3-DeviceDriver/St/STM32MP157/Pro/10-dacdriver/#5","text":"\u5728\u4fdd\u8bc1\u5f00\u53d1\u677f\u548cUbuntu\u53ef\u4ee5ping\u901a\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u5f00\u53d1\u677f\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u8f93\u5165\uff1a mount -t nfs -o nolock,vers=3 192.168.5.11:/home/book/nfs_rootfs /mnt \u6ce8\u610f\u4e0a\u9762\u7684192.168.5.11\u9700\u8981\u4fee\u6539\u4e3a\u81ea\u5df1\u7684Ubuntu\u7684ip\uff0c\u5177\u4f53\u64cd\u4f5c\u53ef\u53c2\u8003\u5d4c\u5165\u5f0fLinux\u5e94\u7528\u5f00\u53d1\u5b8c\u5168\u624b\u518c\u7b2c2\u7bc7\u7684\u7b2c\u4e03\u7ae0\u3002 \u62f7\u8d1dmnt\u76ee\u5f55\u4e0b\u7684\u8bbe\u5907\u6811\u5230boot\u76ee\u5f55\uff0c\u8f93\u5165 cp /mnt/stm32mp157c-100ask-512d-lcd-v1.dtb /boot/ \u5c06mnt\u76ee\u5f55\u4e0b\u7684\u9a71\u52a8\u7a0b\u5e8f\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u62f7\u8d1d\u51fa\u6765 cp /mnt/dac_test ~ \u91cd\u542f\u5f00\u53d1\u677f reboot \u6d4b\u8bd5\u7a0b\u5e8f\uff1a ./dac_test /dev/spidev0.0 500 ./dac_test /dev/spidev0.0 600 ./dac_test /dev/spidev0.0 1000 \u5b9e\u9a8c\u73b0\u8c61\uff1a","title":"5.\u5f00\u53d1\u677f\u4e0a\u673a\u5b9e\u9a8c"},{"location":"Stage4-System/01-Introduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage2_D1s-DeviceDriver/discussions/2 \u7b80\u8ff0","title":"SSD202Pro"},{"location":"Stage4-System/01-Introduction/#_1","text":"","title":"\u7b80\u8ff0"},{"location":"Stage4-System/01-PinctrlIntroduction/","text":"\u95ee\u9898\u53cd\u9988\u4ea4\u6d41\u533a https://github.com/100askTeam/Stage2_D1s-DeviceDriver/discussions/2 \u7b80\u8ff0","title":"01 PinctrlIntroduction"},{"location":"Stage4-System/01-PinctrlIntroduction/#_1","text":"","title":"\u7b80\u8ff0"}]}